question,answer,keywords
TongWeb 控制台初始默认用户名密码是什么,TongWeb 控制台初始默认的用户名是 thanos，初始默认密码是thanos123.com,初始密码
TongWeb 支持哪些平台运行？在各个平台如何启动运行？,TongWeb 基于Java 语言开发， Windows、Linux、MacOS等平台均支持运行，只需要所运行的平台安装相应平台的 JDK 或 JRE 环境即可。其中TongWeb8 JDK 最低版本要求不低于JDK8。在启动运行 TongWeb8 之前，请确保已经正确安装和配置好JDK或JRE环境。TongWeb8 分为多个版本，部分版本包含控制台，部分版本为更简化轻量的版本。包含控制台的版本在启动时，默认会使用 9060 和 8088 两个端口，不包含控制台的版本默认仅使用 8088 端口。在启动运行 TongWeb8 之前，也需要确认相关端口不被占用。 Windows 平台： 进入到 “${tongweb.home}/bin/windows” 目录，然后运行 startserver.bat 或 startd.bat 脚本文件，即可启动 TongWeb 应用服务器默认实例。 Linux 和 MacOS 平台： 进入到 “${tongweb.home}/bin” 目录，然后运行 startserver.sh 或 startd.sh 脚本文件，即可启动 TongWeb 应用服务器默认实例。 说明： ${tongweb.home} 代表 TongWeb 的根目录。其中 startserver 启动脚本和 startd 启动脚本的区别是，startserver 脚本启动运行后，命令行窗口可以看到实时的日志输出信息，当关闭命令行窗口时，Tongweb 应用服务器会停止运行；startd 脚本则是以后台运行的方式启动，命令行窗口不会显示实时日志信息，当关闭命令行窗口时，Tongweb 应用服务器不会停止运行。,支持平台
TongWeb8 Prometheus 监控，支持...,"TongWeb8 Prometheus 监控，支持组合监视（用以限定监视系统的指标范围，请参考组合监视）或注册实例（注册实例为 Prometheus 提供监视数据，并推送注册实例信息，请参考注册实例）。开启 Prometheus 监控，数据上报方式支持 “拉取” 和 “推送”两种，若选择“推送”方式，则需要提前搭建好 PushGateway 服务。具体控制台页面操作：。 1.选择 “监视管理” > “Prometheus 服务”，进入 Prometheus 服务页面。 2. 打开 “启用” 开关，启用服务。 3. 选择创建的组合监视，或者打开 “监视注册实例” 开关。 4. 选择并配置数据上报方式。 拉取方式需要填写监听地址和监听端口，metrics 地址以及认证类型。其中监听地址为 TongWeb 本机的 IP 地址。监听端口为将要开启监听服务的端口号，用于 Prometheus 访问获取监控数据，请确保该端口号未被占用。metrics 地址为监听服务的 metrics 路径，供 Prometheus 访问，可根据需要设定，支持以逗号分隔设置多个。认证类型是可选项，采用基础认证验证用户名密码确保监控数据被安全访问。 推送方式需要填写 PushGateway 地址及推送数据的时间间隔(以秒为单位)。 以下简单说明一下 Prometheus 需要的主要配置(主要修改 Prometheus 的配置文件 “prometheus.yml”)：。 1.若选择为 “拉取” 方式，则在配置文件最后，添加如下配置。 - job_name: ""tongweb"" static_configs:。 - targets: [""127.0.0.1:30188""] 其中 job_name 可以根据需要命名，最好有意义且易识别。targets 中的 IP 和端口对应 TongWeb 控制台启用 Prometheus 时，配置的 IP 和端口号。若在 TongWeb 控制台配置启用 Prometheus 监控时选择了 “基础认证”，则需要在 Prometheus 的配置文件 “prometheus.yml” 中，添加如下配置信息： basic_auth: username: admin password: admin 完整配置信息如下： #拉取方式。 - job_name: ""tongweb"" static_configs:。 - targets: [""127.0.0.1:30188""] basic_auth: username: admin password: admin。 2.若选择为 “推送” 方式，则在配置文件最后，添加如下配置： #推送方式。 - job_name: ""monitor_pushGateway"" static_configs:。 - targets: [""127.0.0.1:9091""] targets 中的 IP 和端口对应 TongWeb 控制台中配置的 pushgateway 的 IP 和端口号。 Prometheus 启动后，访问 Prometheus 控制台 ""http://localhost:9090/targets/?search="" 查看 TongWeb 的监视信息","监控, Prometheus"
监视管理包含操作系统负荷、TongWeb 负荷、应...,监视管理包含操作系统负荷、TongWeb 负荷、应用数据源、操作系统、JVM、组合监视、守护监视、SNMP服务、Prometheus 服务、OTLP 支持监视等。,
监视概览用于检测展示系统整体的健康状况，主要用于观...,监视概览用于检测展示系统整体的健康状况，主要用于观测系统的性能瓶颈，同时也可以查看到 TongWeb负荷。 当使用网页端接入时，若某系统资源的性能负荷达到80%，其对应的网页上的指示器将会变为红色以给出警示。 进入TongWeb监视概览页面具体操作步骤：。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“监视管理”>“概览”，进入概览页面。可以查看操作系统的系统负载、内存、硬盘等。同时也可以查看到 TongWeb负荷，包括使用堆内存、通道活跃线程数等。,
支持监视应用自行创建和管理的数据源的使用情况，包含...,支持监视应用自行创建和管理的数据源的使用情况，包含 JDBC 连接池大小、活跃连接数、空闲连接数、线程等待数等。在应用数据源列表页面，可以查看应用数据源的名称、类型以及所属应用。 应用数据源支持的 JDBC 连接池类型包括 HikariCP、Druid、DBCP、C3P0、BeeCP、BoneCP、Tomcat Pool、Hulk等(注意 :DBCP、C3P0、BoneCP 目前暂不支持监控“线程等待数”，即该监控值始终为“-1”)。 说明：使用该功能前，需要先进入“基础配置”>“全局配置”>“应用”页面，开启“监视应用数据源”。在应用数据源初始化完成后，即可监控到应用数据源使用情况。 查看监视数据源具体操作步骤：。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“监视管理”>“应用数据源”，进入应用数据源页面。 4. 单击应用数据源所在行的“监视”，进入监视数据源页面。视图左上方的名称 表示应用数据源的名称。 5. 可以查看应用数据源的连接池大小、活跃连接数、空闲连接数以及线程等待数。 下载监视视图具体操作步骤：。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“监视管理”>“应用数据源”，进入应用数据源页面。 4. 单击应用数据源所在行的“监视”，进入监视数据源页面。 5. 在监视视图所在区域，单击鼠标右键，将监视视图另存为“.png”图片即可。,
操作系统监视主要展示操作系统的基本信息，可以查看操...,操作系统监视主要展示操作系统的基本信息，可以查看操作系统的系统负载、空闲内存（GB）、空闲交换空间（GB）、当前虚拟内存（GB）、硬盘剩余（GB）等，在图表下方还可以查看操作系统的名称、版本、架构、CPU 个数、总内存（GB）、总交换空间（GB）以及硬盘总量（GB）等。 具体操作步骤：。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“监视管理”>“操作系统”，进入操作系统页面。,
JVM监视用于展示Java虚拟机（JVM）的版本、...,JVM监视用于展示Java虚拟机（JVM）的版本、厂商等基本信息以及Java进程的堆内存、非堆内存等使用情况，同时可以手动执行回收 JVM 垃圾进行JVM垃圾回收。 具体操作步骤：。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“监视管理”>“JVM”，进入JVM页面。 4.在页面中可以查看Java虚拟机的线程总数、死锁线程数、使用堆内存以及使用中非堆内存等情况。还可在监视视图页面，单击鼠标右键，可将监视视图另存为“.png”图片。 5.还可以在页面下方查看Java虚拟机规范名称、版本、JVM软件名称、JVM软件供应商、JVM软件版本号、进程信息、启 动时间、引导类路径、系统类路径、本地库路径、启动参数以及最大堆内存。 6.在页面最下方还可单击 “垃圾回收”按钮，回收 JVM 垃圾，回收后可查看 JVM 的折线有所变化，可以方便用户排查内存相关 问题。,
组合监视可以是一个，也可以是多个，通过配置不同的监...,"组合监视可以是一个，也可以是多个，通过配置不同的监视信息,定制您想要关注的监视信息。可以针对您关注的监视信息,创建多个组合监视,以保证监视明细展示更清晰。 具体操作步骤：。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中,选择“监视管理”>“组合监视”,进入组合监视列表页面。 4. 单击“创建”,进入创建组合监视页面。 5.填写组合监视的名称，并勾选要监视的信息。（注意，组合监视名称的命名需要遵循一定的规则：不能包含中文以及特殊字符(:*?<>|@#)且不能单独为非法文件名字符,大小写均会被约束，不可以是这些字符（允许与其他字符组合）：CON,PRN,AUX,CLOCK$,NUL,COM1,COM2,COM3,COM4,COM5,COM6,COM7,COM8,COM9,L PT1）。监视信息根据需要进行勾选。可以监视应用、通道(admin)、通道(server)、JVM、操作系统、服务器日志、EJB w3 协议等信息。 查看组合监视折线图和非折线图的操作步骤：。 1. 登录 TongWeb 管理控制台。 199东方通应用服务器软件 TongWeb V8.0 控制台使用手册。 2. 切换到目标实例。 3. 在左侧导航栏中,选择 “监视管理” > “组合监视”,进入组合监视列表页面。 4. 单击组合监视所在行的 “监视”,即可查看组合监视的折线图和非折线图。",
"守护监视是对创建的组合监视中的系统指标,在指定时间...","守护监视是对创建的组合监视中的系统指标,在指定时间内进行周期性监视,监视结果持久存储在生成的“.txt”文件中。也可以根据需要在控制台下载监视文件,或者进入 “${tongweb.base}\data\health\monitor” 目录下获取守护监视文件。创建守护监视后,当到达守护监视的开始时间,系统会在 “${tongweb.base}\data\health\monitor” 目录下生成一个以守护监视名称命名的 “.txt” 文件。所有的监视信息会追加到该“.txt”文件中,直到守护监视的结束时间。可以根据需要基于同一个组合监视创建多个守护监视。 创建守护监视操作步骤：。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 201东方通应用服务器软件 TongWeb V8.0 控制台使用手册。 3. 在左侧导航栏中,选择“监视管理”>“守护监视”,进入守护监视列表页面。 4. 单击“创建”,进入守护监视页面。 5. 配置守护监视的名称、组合监视、开始时间、结束时间、监视频率以及是否启用等。 6. 配置完成后,单击“添加”,完成守护监视创建操作。 查看守护监视的历史监视信息操作步骤：。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中,选择“监视管理”>“守护监视”,进入守护监视列表页面。 4. 单击守护监视所在行的“监视”,即可进入守护监视查看历史监视信息页面。 相关参数说明如下：。 ◦ 自定义:可查看“自定义”前设置的开始时间与结束时间,时间段内的监视信息。 ◦ 过去2小时:可查看当前时间过去的2小时内的监视信息。 ◦ 过去30分钟:可查看当前时间过去的30分钟内的监视信息。 ◦ 实时:可查看当前时间,实时监视信息。 下载监视文件的操作步骤： 守护监视创建完成后,当到达守护监视开始时间,即可生成守护监视“.txt”文件。可以根据在控制台界面下载守护监视文件,或者进入 “${tongweb.base}\data\health\monitor” 目录获取守护监视文件。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中,选择“监视管理”>“守护监视”,进入守护监视列表页面。 4. 单击“下载”,弹出下载监视文件窗口。 5. 勾选生成的守护监视文件。 6. 单击“确定”,即可下载守护监视文件。 管理守护监视之查看守护监视操作步骤：。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中,选择“监视管理”>“守护监视”,进入守护监视列表页面。 4. 可查看已创建的守护监视,包含守护监视名称、组合监视、开始时间、结束时间、监视频率、是否启用、运行中等。 管理守护监视之编辑守护监视操作步骤：。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中,选择“监视管理”>“守护监视”,进入守护监视列表页面。 4. 单击已创建守护监视的名称,进入守护监视详细信息页面。 5. 可根据需要修改守护监视的相关信息。（说明:守护监视的名称不可编辑;结束时间不能早于当前时间。）。 6. 单击“更新”,即可完成守护监视的编辑操作。 管理守护监视之删除守护监视：。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中,选择“监视管理”>“守护监视”,进入守护监视列表页面。 4. 单击已创建守护监视所在行的“删除”,弹出确认删除窗口。（用户可根据需要勾选一个或多个守护监视,并单击列表上方的 “删除” 按钮,批量删除守护监视。）。 5. 单击“确定”,即可完成守护监视的删除操作。 特别注意：删除守护监视后,“${tongweb.base}\data\health\monitor” 目录下的守护监视“.txt”文件会同步删除。删除后不可恢复,请谨慎操作。",
SNMP 是广泛应用于TCP/IP网络的网络管理标...,"SNMP 是广泛应用于TCP/IP网络的网络管理标准协议,该协议能够支持网络管理系统,用以监测连接到网络上的设备是否有任何引起管理上关注的情况。TongWeb支持SNMP服务。开启SNMP服务后,可以通过SNMP工具查看TongWeb的服务器状态信息。通过 SNMP 管理端获取可以 TongWeb 的监控数据。支持 GET、GETBULK 调用,以 json 格式返回数据。 1.OID 与监控数据对应关系：。 • 1.3.6.1.4.1.55566.1.0:操作系统信息;。 • 1.3.6.1.4.1.55566.1.1:Java虚拟机信息;。 • 1.3.6.1.4.1.55566.。 • 1.2:Java类加载信息;。 • 1.3.6.1.4.1.55566.1.3:Java编译信息;。 • 1.3.6.1.4.1.55566.1.4:Java线程信息;。 • 1.3.6.1.4.1.55566.1.5:连接池信息;。 • 1.3.6.1.4.1.55566.1.6:线程池信息;。 • 1.3.6.1.4.1.55566.1.7:应用线程信息(线程个数、的状态);。 • 1.3.6.1.4.1.55566.1.8:服务信息(包含授权信息)。 2.TongWeb 启用SNMP服务的操作步骤：。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中,选择“监视管理”>“SNMP服务”,进入SNMP服务页面。 4. 在基本属性页签下,单击“开启”按钮,开启SNMP服务。 5. 配置基本属性参数。（基本属性参数说明： 监听地址：SNMP 服务监听的 IP 地址,默认为“127.0.0.1”,即监听 TongWeb 所在的本机 IP。若配置为“0.0.0.0”,则表示不限制,监听本机所有IP。 监听端口：SNMP监听的端口号,默认为“161”。 引擎ID：设置当前 SNMP 服务的唯一标识。配置为您本地设备的引擎 ID。引擎 ID 是十六进制数字串,并且长度为14~32个十六进制数。设备信息可以是 IP 地址、mac 地址或自己定义的十六进制数字串。）。 6. 配置监听的客户端的身份认证信息。（属性参数说明： 认证名：客户端的认证名,用以识别客户端的身份(用于 SNMP 客户端连接 SNMP 服务的认证用户名,用户自定义)。 认证密码：客户端的认证密码,用以验证客户端的安全性(用于SNMP客户端连接SNMP服务的认证密码,用户自定义)。 认证算法：设置验证密码采用的摘要算法。支持的算法为“MD5”和“SHA-1”。 ）。 7.配置数据安全信息。（属性参数说明： 传输协议：SNMP 代理服务器与网络管理系统之间所使用的传输协议。支持“UDP”和“TCP”。 加密算法：设置数据加密采用的算法。支持“AES128”和“DES”。 加密密码：设置数据加密的密码。 ）。 8. 单击“更新”,即完成SNMP服务的启动操作。",
1. 下载 Snmpwalk。下载地址:https...,"1. 下载 Snmpwalk。下载地址:https://ezfive.com/snmpsoft-tools/。 2. 使用 Snmpwalk 查看 TongWeb 服务器信息: 当前 SNMP 服务支持的版本为 V2 和 V3,不支持 V1。 示例说明:查看 OID 为 “1.3.6.1.4.1.55566.1.4” 的 Java 线程信息。 OID 值请进入管理控制台>“集中管理”>“扩展支持”>“支持列表”。单击 “SNMP”,进入 SNMP 使用说明页面,获取 OID 值。 SnmpWalk.exe -r:127.0.0.1 -p:161 -v:3 -sn:tongweb -aw:TongWeb@12.com -ap:SHA -pp:DES -pw:TongWeb@12.com1 -ei:62a0c18111c31733 -os:1.3.6.1.4.1.55566.1.4 参数说明：。 -r： SNMP 服务器监控的 IP 的地址，默认为“127.0.0.1”，即监听 TongWeb 所在的本机 IP。 -p： SNMP 监听的端口号，默认为“161”。 -v： SNMP 服务支持的版本，当前支持 V2 和 V3。如 V3 版本配置为 “-v:3”。 -sn： 客户端的认证名，用以识别客户端的身份（开启 SNMP 服务时，配置的认证名，用于连接 SNMP 服务端）。 -aw： 客户端的认证密码，用以验证客户端的安全性（开启 SNMP 服务时，配置的认证密码，用于连接 SNMP 服务端）。 -ap： 验证密码采用的摘要算法。 -pp： 数据加密采用的算法。 -pw： 加密数据的密码。 -ei： 引擎 ID。 -os： OID 值。",
OTLP 是一个用于传输跟踪和度量数据的开放标准协...,OTLP 是一个用于传输跟踪和度量数据的开放标准协议，TongWeb 开启支持 OTLP，可将其自身监视数据以约定的格式输出。 在开启 OLTP 监控之前，需要创建相应的“组合监视”，并参考 “集中管理” > “扩展支持” > “支持列表” 里 “OTLP” 的使用说明，下载必需的 jar 包( opentelemetry-api-1.42.1.jar，opentelemetry-context-1.42.1.jar， opentelemetry-exporter-common-1.42.1.jar，opentelemetry-exporter-otlp-1.42.1.jar， opentelemetry-exporter-otlp-common-1.42.1.jar，opentelemetry-exporter-sender-okhttp-1.42.1.jar， opentelemetry-sdk-1.42.1.jar，opentelemetry-sdk-common-1.42.1.jar， opentelemetry-sdk-metrics-1.42.1.jar，opentelemetry-sdk-extension-autoconfigure-spi-1.42.1.jar， opentelemetry-sdk-trace-1.42.1.jar，opentelemetry-api-incubator-1.42.1-alpha.jar， opentelemetry-sdk-logs-1.42.1.jar，okhttp-4.12.0.jar， kotlin-stdlib-1.8.21.jar，okio-3.6.0.jar，okio-jvm-3.6.0.jar )。 开启OLTP监视的操作步骤：。 1. 下载 1.42.1 版本需要的 jar 清单。 2. 将下载的 jar 包存放到 “${tongweb.home}/lib” 或 “${tongweb.base}/lib” 目录。 3. 启动 TongWeb，并访问控制台。 4. 在左侧菜单栏中，选择 “监视管理” > “OTLP 支持”，进入 OTLP 支持页面，打开 “启用” 开关，并配置 OTLP 相关属性参数( 组合监视: 在下拉列表中，选择已创建的组合监视。若下拉列表中没有创建的组合监视，详见创建组合监视。 接收数据的地址: 将数据推送到支持的 OTLP 的地址，默认为“http://localhost:4317”。 推送间隔: 设置每隔多少秒推送一次数据，单位：秒。 )。 5. 访问配置的 “接收数据的地址”（如 “http://localhost:4317”），即可查看 TongWeb 监视数据。,
打快照操作步骤：。 1. 登录TongWeb管理控制...,打快照操作步骤：。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“诊断管理”>“快照文件”，进入快照文件页面。 4. 单击“打快照”，进入打快照页面。 5. 在采集模板下拉列表中，选择已创建的采集模板。 6. 配置完成后，单击“打快照”，即完成采集模板的应用操作。,
快照文件记录了某一时刻 TongWeb 服务器的整...,快照文件记录了某一时刻 TongWeb 服务器的整体信息，记录的内容可包括监视信息、配置信息、TongWeb 域目录下相应的日志文件，并生成指定分析工具的文件等。当系统出现故障或者性能瓶颈，没来得及获取需要的信息时，可根据快照记录的全面内容分析故障、性能瓶颈的原因。可以根据需要手动创建快照文件，或者通过创建预警策略基于快照模块自动创建快照文件。,
basicinfo.xml 文件：基本信息。 mo...,basicinfo.xml 文件：基本信息。 monitor.xml 文件：监视信息。 conf 文件夹或 bin 文件夹：配置信息，可下载 “${tongweb.base}/conf” 目录下的 xml 类型的文件。若存在 “${tongweb.home}/bin/JAVA_HOME.txt”，则会同时生成JAVA_HOME.txt，并存放在 “bin” 文件夹。 logs 文件夹：日志。根据采集模板生成的快照日志文件，包含 server.log、access.log、gc.log（access.log、gc.log：需要开启访问日志和 GC 日志才会生成；hs_err_pid.log：需要将 hs_err 日志文件路径配置到 TongWeb 域目录下才可记录。）。 jstack jstack.txt 文件：分析工具。 jamp heap.hprof 文件：分析工具。 coredump coredump 文件：分析工具。 top top.txt 文件：分析工具。 lsof lsof.txt 文件：分析工具。 netstat.txt 文件：分析工具 netstat,
打快照支持手动打快照和自动打快照，且在打快照之前，...,打快照支持手动打快照和自动打快照，且在打快照之前，已创建采集模板。 手动打快照步骤：。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“诊断管理”>“快照文件”，进入快照文件列表页面。 4. 单击“打快照”，进入打快照页面。 5. 配置快照文件的采集模板，参数说明请参见快照文件参数配置说明。 采集模板：选择已创建的采集模板。若您没有创建采集模板，请先创建采集模板。 6. 配置完成后，单击“打快照”，完成打快照操作。 若界面弹出“快照文件打快照成功”提示信息，则说明打快照成功。 自动打快照步骤：。 1. 登录TongWeb管理控制台。 2. 左侧导航栏中，选择“诊断管理”>“预警策略”，进入预警策略列表页面。 3. 单击“创建”，进入创建预警策略页面。 4. 在 ”生成快照“ 下拉列表中，选择已创建的采集模板。 其它参数请根据需要进行配置。 5. 配置完成后，单击“添加”，完成预警策略的创建。 若界面弹出“预警策略添加成功”提示信息，则说明预警策略添加成功。 6. 若系统触发已创建的预警策略，您可以在左侧导航栏中，单击“快照文件”，进入快照文件列表页面，查看自动打的快照。,
下载快照文件步骤（确保已经打快照）：。 1. 登录T...,下载快照文件步骤（确保已经打快照）：。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“诊断管理”>“快照文件”，进入快照文件列表页面。 4. 单击目标快照文件所在行的“下载”，弹出下载快照文件窗口。 5. 勾选待下载的快照文件。 6. 单击“确定”，即可下载以快照时间命名的快照文件压缩包。,
查看快照文件 生成的快照文件按照生成快照的时间倒序...,查看快照文件 生成的快照文件按照生成快照的时间倒序展示，包含快照时间、是预警快照、预警策略名等信息。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“诊断管理”>“快照文件”，进入快照文件列表页面。 4. 在快照文件列表页面，您可以查看已打的快照。 删除快照文件 删除快照文件时，快照文件引用的其它组件不会被删除。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“诊断管理”>“快照文件”，进入快照文件列表页面。 4. 单击目标快照文件所在行的“删除”，弹出确认删除窗口。 5. 单击“确定”，完成快照文件的删除操作。 若界面弹出“快照文件删除成功”提示信息，则说明删除快照文件成功。,
预警策略是通过配置CPU、内存、通道活跃链接、数据...,预警策略是通过配置CPU、内存、通道活跃链接、数据源活跃连接的阈值和GC时间的阈值，决定预警策略是否生效，以及生效后的处理办法，包括发送邮件、发送消息到队列、自动生成快照。预警策略可以启动也可以设置多个，一个预警策略只有所有阈值都被超过才触发处理办法。,
创建预警策略需要已创建好采集模板，同时至少满足这些...,创建预警策略需要已创建好采集模板，同时至少满足这些预警条件之一：CPU 阈值大于0、内存阈值大于0、通道阈值大于0且至少选一个通道、数据源阈值大于0且至少选一个数据源或GC时间大于0。 具体操作步骤。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“诊断管理”>“预警策略”，进入预警策略列表页面。 4. 单击“创建”，进入创建预警策略页面。 5. 配置预警策略的名称等信息。 若需要配置“处理办法”，请注意以下信息（其他参数：请根据需要配置，参数说明请参见预警策略参数配置说明）： 生成快照（若需要生成快照，下拉列表中没有采集模板，请先创建采集模板）。 发送 JMS 消息（若开启 JMS 通知，需要配置连接池和托管对象。请先创建连接池&托管对象。a. 进入“EJB 容器”>“JCA连接池”，创建jca连接池。b. 进入“EJB 容器”>“JCA托管对象”，创建jca托管对象。）。 6. 配置完成后，单击“添加”，完成预警策略的添加操作。若界面弹出“预警策略添加成功”提示信息，则说明添加预警策略成功。,
用户可查看、编辑或者删除已创创建的预警策略。 查看...,用户可查看、编辑或者删除已创创建的预警策略。 查看预警策略操作步骤：。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“诊断管理”>“预警策略”，进入预警策略列表页面。 4. 在预警策略列表页面，您可以查看已创建的预警策略。包含预警策略的名称、描述、是否启用等信息。 编辑预警策略操作步骤：。 1. 登录 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“诊断管理”>“预警策略”，进入预警策略列表页面。 4. 单击目标预警策略名称，进入编辑预警策略页面。 5. 您可以根据提示修改预警策略信息（预警策略名称不可编辑）。 6. 编辑完成后，单击“更新”，更新预警策略配置信息。若界面弹出“预警策略更新成功”提示信息，则说明编辑预警策略成功。 删除预警策略操作步骤： 删除预警策略时，预警策略引用的其它组件不会被删除。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“诊断管理”>“预警策略”，进入预警策略列表页面。 4. 单击目标预警策略所在行的“删除”，弹出确认删除窗口。用户可根据需要勾选一个或多个预警策略，并单击列表上方的 “删除” 按钮，批量删除预警策略。 5. 单击“确定”，完成预警策略的删除操作。若界面弹出“预警策略删除成功”提示信息，则说明删除预警策略成功。,
1. 进入 “资源管理” > “数据源”，创建数据...,1. 进入 “资源管理” > “数据源”，创建数据源（如：testdb）。 创建数据源时，在数据源的“慢SQL监视”页签，开启“监视慢SQL”。 2. 进入“诊断管理”>“快照文件”，创建采集模板（如：shottemplate）。“监视信息” 选择 “数据源” > “慢SQL数”。 3. 进入“诊断管理”>“预警策略”，创建预警策略。 在基本属性标签输入预警策略名称，“是否启用”选择开启，开启后才能启动预警策略。 在触发条件标签，输入数据源慢SQL数，设置慢SQL数的阈值，大于0时系统根据设置的阈值，触发预警。然后勾选监控慢SQL数的数据源，注意当阈值大于0时生效。 在处理办法标签，生成快照下拉选择已创建的采集模板（如：shottemplate），并根据需要配置保留文件个数。 4. 单击“添加”，完成预警策略的创建。若触发预警条件，即可进入“诊断管理”>“快照文件”，下载预警快照生成的快照文件。,
死锁线程可以汇总死锁的线程，可查看死锁等待对象监视...,死锁线程可以汇总死锁的线程，可查看死锁等待对象监视器或者同步器的线程栈，并可尝试中断死锁的线程。 进入TongWeb死锁线程页面操作步骤：。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择 “诊断管理” > “死锁线程”，进入死锁线程页面。 死锁线程列表查看：在死锁线程列表可以查看死锁线程的线程ID、线程名、线程状态、等待的锁、锁占有线程ID、锁占有线程名等信息。 堆栈信息查看：单击目标线程的线程ID，可以查看该死锁线程的信息，包括其死锁的堆栈等。 强停死锁线程的操作步骤：。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择 “诊断管理” > “死锁线程”，进入死锁线程页面。 4. 单击目标线程所在行的“强停”，弹出确认强停死锁线程窗口。可以根据需要勾选一个或多个死锁线程，并单击列表上方的 “强停” 按钮，批量强停死锁线程。 5. 单击“确定”，即可停止线程。 注意：仅线程状态处于“WAITING”或者“TIMED_WAITING”的线程，才能强停,
阻塞线程该功能可以查看阻塞的堆栈及相同堆栈上阻塞的...,阻塞线程该功能可以查看阻塞的堆栈及相同堆栈上阻塞的线程。 注意：开启 EJB w3 协议后，默认的监听线程将从阻塞线程列表移除；若使用 JVisualVM（Java 虚拟机的监控工具）连接后，RMI 连接线程将从阻塞线程列表移除。 查看阻塞线程的操作步骤：。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择 “诊断管理” > “阻塞线程”，进入阻塞线程页面。 4. 您可以查看阻塞的堆栈及相同堆栈上阻塞的线程。 5. 单击阻塞线程ID，可查看阻塞线程的详细信息。 强停阻塞线程支持强制停止阻塞线程，操作步骤如下：。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择 “诊断管理” > “阻塞线程”，进入阻塞线程页面。 4. 单击目标线程所在行的“强停”，弹出确认强停阻塞线程窗口。用户可根据需要勾选一个或多个阻塞线程，并单击列表上方的 “强停” 按钮，批量强停阻塞线程。 5. 单击“确定”，即可停止阻塞线程。,
忙碌线程功能用于检测忙碌的线程，可查看线程 ID、...,忙碌线程功能用于检测忙碌的线程，可查看线程 ID、信息、CPU 耗时、线程状态等信息。 查看忙碌线程的操作步骤：。 1. 登录 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择 “诊断管理” > “忙碌线程”，进入忙碌线程页面。 4. 您可以查看线程 ID、信息、CPU 耗时以及线程状态等。 5. 您可以在忙碌线程列表上方基于线程 ID、信息、CPU 耗时或者线程状态筛选指定线程。 支持筛选线程状态，线程状态包含 NEW、RUNNABLE、BLOCKED、WAITING、TIMED_WAITING、TERMINATED。 6. 单击忙碌线程名，可查看忙碌线程的详细信息。,
类加载结构用于查看系统内应用的类加载器及其加载路径...,类加载结构用于查看系统内应用的类加载器及其加载路径，目前也已支持显示公共类库中的 jar 文件。 查看类加载结构的操作步骤：。 1. 进入 TongWeb 管理控制台。 2. 切换到目标实例。 3. 选择 “诊断管理” > “类加载结构”，进入类加载结构页面。 4. 用户可通过单击定位查看系统级或应用级的类加载器，在弹出的信息窗口中，可查看对象名和加载路径。,
类资源分析功能，在已部署的应用中，可以通过类资源分...,类资源分析功能，在已部署的应用中，可以通过类资源分析工具查找指定的类的加载信息，包括类的所有分布位置和实际加载的位置。 查看类资源分析的操作步骤：。 1. 进入 TongWeb 管理控制台。 2. 切换到目标实例。 3. 选择“诊断管理”>“类资源分析”，进入类资源分析页面。 4. 输入待查找的类的全名称，并选择类所在的应用。更多参数说明，请参见类资源分析工具参数说明。 5. 单击“查找”，即可查找出类对应的分布位置、加载位置以及加载器等。,
JNDI（Java Naming and Dire...,JNDI（Java Naming and Directory Interface）是用于从Java应用中访问名称和目录服务的一组API，为开发人员提供了查找和访问各种命名资源和目录服务的通用、统一的接口。 命名资源即将名称与对象相关联，以便能通过相应名称访问这些对象，而目录服务即其对象具有属性及名称的命名服务。 例如：当创建一个JNDI名为“jdbc/oracleds”的数据源时，会在全局的JNDI命名空间中绑定名为“jdbc/oracleds”的数据源对象，在JNDI客户端可以通过JNDI API写入该对象的名称获取数据源对象。目前，TongWeb不支持集成第三方的JNDI服务。,
JNDI系统需要设置环境属性，来配置JNDI系统的...,JNDI系统需要设置环境属性，来配置JNDI系统的初始化上下文工厂、对象转换工厂等，一般分为本地JNDI 环境属性和远程JNDI环境属性两种。在JNDI环境属性中初始化上下文（InitialContext）工厂的配置尤为重要。,
• 访问本地JNDI资源 默认的本地 Initia...,"• 访问本地JNDI资源 默认的本地 InitialContext 所需的环境属性不需要设置。 若特殊使用场景下必须配置 java.naming.factory.initial 属性时，可以按如下方式配置，以访问本地JNDI 资源。代码示例：java.naming.factory.initial=com.tongweb.naming.java.javaURLContextFactory。 • 访问远程JNDI资源 远程的InitialContext所需的环境属性配置，如下所示。 <IP>需要修改为TongWeb所在的IP，<port>为EJB远程调用端口，如下以w3协议的默认端口“5200”为 例。 http协议默认为“8088”。 w3协议默认为“5200”，默认未开启。 代码示例：props.setProperty(""java.naming.factory.initial"",""com.tongweb.tongejb.client.RemoteInitialContextFactory""); props.setProperty(""java.naming.provider.url"", ""http://IP:port/ejbserver/ejb""); 设置上下文环境属性的代码示例，如下所示： Properties p = new Properties(); p.put(""java.naming.factory.initial"", ""com.tongweb.tongejb.client.RemoteInitialContextFactory""); p.put(""java.naming.provider.url"", ""http://10.10.4.28:8088/ejbserver/ejb ""); InitialContext ic = new InitialContext(p);",
JNDI分为4种命名空间（NameSpace），全...,JNDI分为4种命名空间（NameSpace），全局命名空间、组件命名空间、应用命名空间、模块命名空间。 • 全局命名空间，即本机或其他机器都可以访问的 JNDI 命名空间，其对应一个 TongWeb 实例。全局命名空间 java:global 中的名称可以被部署在同一个 TongWeb 实例中的所有应用共享。 • 组件命名空间是指只能在本组件内部访问的命名空间，即组件之间是相互隔离的。 • Java EE 7规范根据应用部署包的结构，又定义了模块命名空间和应用命名空间这两种新的命名空间。,
全局命名空间属性说明如下：。 • app-name：...,全局命名空间属性说明如下：。 • app-name：应用名称，即当前应用去掉后缀名的名称。 • module-name：主要针对部署格式为EAR的应用，即EAR中子模块的名称。 • bean-name：当前EJB的bean实现的类名称。 • full-qualified-interface-name：后面为“!”全包名，这部分是可选的。 示例说明一： 当前部署的WAR应用名为myweb.war，EJB name为MyBean，EJB实现接口为com.tw.IHello。可以通过查询以下JNDI名 java:global/myweb/MyBean 或 java:global/myweb/MyBean!com.tw.IHello 调用EJB。 示例说明二： 当前部署的 EAR 应用名为myear.ear，EJB 子模块的名称为 myejb.jar，EJB name 为 MyBean，EJB实现接口为 com.tw.IHello。可以通过查询JNDI名 java:global/myear/myejb/MyBean 或 java:global/myear/myejb/MyBean!com.tw.IHello 调用EJB。,
应用命名空间 java:app 中的名称可以被单个...,应用命名空间 java:app 中的名称可以被单个应用中的所有模块的组件共享。单个应用指的是一个单独的部署单元，比如单个 .ear 文件，单个单机部署的模块等。 例如：在同一个 .ear 文件中的一个 .war 文件和 EJB 的 .jar 文件都能访问 java:app 命名空间中的资源。 当前部署的EAR应用名为myear.ear，EJB子模块的名称为myejb.jar，EJB name为MyBean，EJB实现接口 为com.tw.IHello。在同一个EAR下面，所有的子模块可以通过查询以下JNDI名 java:app/myejb/MyBean 或 java:app/myejb/MyBean!com.tw.IHello 调用该EJB。,
模块命名空间 java:module 中的名称只能...,模块命名空间 java:module 中的名称只能被一个模块的所有组件共享。 例如，单个EJB模块中的所有企业Bean，或一个Web模块中的所有组件。 当前部署的EAR应用名为“myear.ear”，EJB name为MyBean，EJB实现接口为“com.tw.IHello”。那么在同一个EAR的同一个“myejb.jar”下面，其Java EE组件可以通过lookup以下JNDI名 java:module/MyBean 或 java:module/MyBean!com.tw.IHello 调用该EJB。,
组件命名空间的标准上下文环境是“java:comp...,组件命名空间的标准上下文环境是“java:comp/env”，应用组件使用“java:comp/env”查找对象时，不必关注对象真正的 JNDI 名称，只需要在部署描述文件中配置该对象的引用名到JNDI名的映射，即可降低应用组件代码与JNDI名称的耦合性。,
JNDI 树是以树型的结构展示TongWeb相关J...,JNDI 树是以树型的结构展示TongWeb相关JNDI资源，包括服务器资源域和应用域。 查看服务器资源域操作步骤：。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“诊断管理”>“JNDI”，进入 JNDI 页面。 4. 单击“server”，进入 JNDI 树 server 页面。 服务器资源域说明如下：。 • global：全局资源域。 • local：本地 EJB 域。 • remote：远程 EJB 域。 • 其它资源域：服务器内部 JNDI 资源。 查看应用域操作步骤，以部署的 “${tongweb.home}/version*/examples” 路径中 “examples.war” 为例说明：。 1. 登录 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择 “诊断管理” > “JNDI”，进入 JNDI 页面。 4. 单击 “localhost_examples”，进入 JNDI 树 localhost_examples 页面。 相关命名空间说明如下： 命名空间说明如下所示。 • global命名空间（全局命名空间） 所有应用资源的绑定空间，按照应用名分类存放。通过该空间可访问任何应用定义的资源，访问时需 要指定应用名（ear应用需要，web和ejb则不需要）来区分查找的应用。 • app命名空间（应用命名空间） 某个应用内部资源的绑定空间，按照模块名分类存放。通过该空间可访问到同一个应用下任何模块定 义的资源，访问时需要指定模块名来区分查找的模块。 • module命名空间（模块命名空间） 某个模块（ejb模块、web模块）内部资源的绑定空间。通过该空间可访问到同一个模块下的其他资 源。为兼容旧规范，java:module 命名空间下绑定了应用中所有模块定义的资源，访问时只需要指定 资源名即可（无需应用名和模块名）。 • comp命名空间（组件命名空间） 绑定了对任何一个组件可见的资源，包括服务提供的资源和应用自定义的资源。服务提供的资源绑定 在java:comp/命名空间下，应用自定义的资源绑定在java:comp/env命名空间下。,
1. UserTransaction：使用 Ton...,"1. UserTransaction：使用 TongWeb 的事务管理器，可以通过 javax.transaction.UserTransaction 接口对事务进行管理，UserTransaction 实例不需要创建，可以通过 JNDI 查找的方式获得。代码示例： InitialContext ic= new InitialContext(); UserTransaction ut = (UserTransaction)ic.lookup(""java:comp/UserTransaction""); ut.begin(); datasource = (DataSource)ic.lookup(""jdbc/oracle1""); conn = datasource.getConnection(); PreparedStatement prestate=conn.prepareStatement(sql); prestate.executeUpdate(); conn.close(); ut.commit();。 2. TransactionManager：对于用户的应用，推荐使用 UserTransaction 来管理事务。但在某些特殊应用场景下，存在必须使用TransactionManager 的情况。用户可以在应用中 lookup 这个 JNDI 名称来获取 TransactionManager。代码示例： InitialContext ic= new InitialContext(); TransactionManager txm=(TransactionManager) ic.lookup(""java:comp/TransactionManager ""); if(txm != null){ txm.begin(); Transaction tx = txm.getTransaction(); …… txm.commit(); }。 3. TransactionSynchronizationRegistry：TransactionSynchronizationRegistry注入事务同步资源，该接口应用在系统级应用服务器组件上，如：持久化管理、资源适配器、EJB和Web应用组件。 TongWeb 为 TransactionSynchronizationRegistry 绑定的JNDI名称为“java:comp/TransactionSynchronizationRegistry”。用户可以在应用中 lookup 这个 JNDI 名称来获取 TransactionSynchronizationRegistry。 代码示例： InitialContext ic= new InitialContext(); TransactionSynchronizationRegistry txm=( TransactionSynchronizationRegistry) ic.lookup (""java:comp/TransactionSynchronizationRegistry ""); if(txm != null){ txm.begin(); Transaction tx = txm.getTransaction(); …… txm.commit(); }",
Java客户端通过 InitialContext...,"Java客户端通过 InitialContext 环境属性访问 TongWeb 中已部署的 EJB 的 JNDI 名，具体的操作步骤如下 所示。 • http协议默认为“8088”。 • w3协议默认为“5200”，默认未开启。 如下以 w3 协议的默认端口“5200”为例：。 1. 登录 TongWeb 管理控制台。 2. 部署 EJB。 3. 编写 Java 客户端访问 EJB 应用代码。 public static void main(String[] args) { Properties p = new Properties(); p.put(""java.naming.factory.initial"", ""com.tongweb.tongejb.client.RemoteInitialContextFactory""); p.put(""java.naming.provider.url"", ""http://10.10.4.28:8088/ejbserver/ejb ""); StatelessSessionRemote ClientA; Context ctx; try { ctx = new InitialContext(p); ClientA = (StatelessSessionRemote) ctx.lookup(""StatelessSessionRemote""); ClientA.SetName(""ClientA""); System.out.print(""Invoke the remote interface of SLSB, result is= "" + ClientA.getName() +""<br>""); } catch (Exception e) { e.printStackTrace(); } }",
TongWeb8 控制台日志管理主要包含服务器日志...,TongWeb8 控制台日志管理主要包含服务器日志管理、访问日志管理、审计日志管理和日志推送。 服务器日志主要是对 TongWeb 服务器的日志进行配置。 访问日志主要是对 TongWeb 服务器的访问日志进行配置。 TongWeb服务器的审计日志，可用于追踪记录用户对服务器的操作。用户可通过配置查询条件，精确查找问题发生时的操作及详情，降低发现、定位、解决问题的时间和人力成本。TongWeb服务器的审计日志可查找包含管理员、操作对象、操作类型、操作结果、请求地址、客户端IP等信息，帮助用户快速、有效的定位并解决问题。 将 TongWeb 的运行日志实时推送到远端日志存储服务器（如 Elasticsearch）上，以便于统一管理。,
1. 登录TongWeb管理控制台。 2. 切换到...,1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 左侧导航栏中，选择“日志管理”>“服务器日志”，进入服务器日志页面。 4. 配置服务器基础属性、日志文件、日志级别和 Web 日志等。详细参数说明，请参见服务器日志参数配置说明。注意： 在“日志级别”页签，开启“模块日志级别”，可为不同模块设置不同的日志级别。 日志级别分别为“debug”、“info”、“warn”以及“error”，只有当严重程度等于或高于设置的级别时， 才会记录日志。 5. 配置完成后，单击“更新”，完成服务器日志的更新操作。 若界面弹出“服务器日志更新成功”提示信息，则说明服务器日志更新成功。,
服务器日志监视用于监视异步日志缓冲数量，具体操作步...,服务器日志监视用于监视异步日志缓冲数量，具体操作步骤如下：。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“日志管理”>“服务器日志”，进入服务器日志页面。 4. 单击“监视”，进入监视页面。可查看服务器日志的“异步日志缓冲数”。,
在操作之前，用户可在服务器日志的 “Web 日志”...,在操作之前，用户可在服务器日志的 “Web 日志” 页签，设置实时查看服务器日志的初始加载行数、日志刷新大小以及最大显示行数。 在线实时查看服务器日志具体操作步骤：。 1. 登录 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择 “日志管理” > “服务器日志”，进入服务器日志页面。 4. 单击 “查看日志” 按钮，弹出 Web 日志窗口。 5. 用户可以实时查看服务器日志。当打开 “自动滚动” 开关时，日志信息可以自动滚动。 6. 用户还可以输入 “关键字”、选择 “开始时间”/“结束时间”，搜索日志。,
请注意，控制台默认关闭文件下载功能。若需要下载服务...,请注意，控制台默认关闭文件下载功能。若需要下载服务器日志，请参见禁用文件下载的相关操作，开启文件下载功能。 下载服务器日志的操作步骤：。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 左侧导航栏中，选择“日志管理”>“服务器日志”，进入服务器日志页面。 4. 单击页面下方的“下载”，弹出选择需要下载的文件窗口。 5. 勾选待下载的服务器日志文件。 6. 单击“确定”，完成服务器日志文件的下载操作。,
访问日志默认不启用。启用访问日志后，HTTP 请求...,访问日志默认不启用。启用访问日志后，HTTP 请求的时间、URI、响应码等信息可以被记录到日志文件里。用户可根据需要配置访问日志的基本信息以及日志文件。关于日志文件的轮转、保留文件个数、文件编码、缓冲写入、缓冲大小等信息，系统默认使用 “服务器日志” 下 “日志文件” 页签的配置。若您不使用系统默认的 “服务器日志” 模块的配置，可自行定制。 启用和配置访问日志的操作步骤：。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“日志管理”>“访问日志”，进入访问日志页面。 4. 配置访问日志参数，参数说明请参见访问日志参数配置说明。 5. 配置完成后，单击“更新”，完成访问日志的更新操作。若界面弹出“访问日志更新成功”提示信息，则说明访问日志更新成功。,
以下将以 [配置项：说明] 的形式对TongWeb...,以下将以 [配置项：说明] 的形式对TongWeb8 的日志格式进行说明介绍： %a： 远程主机的IP地址 %A： 本地IP地址 %b： 发送的字节数，不包含HTTP头。若没有发送字节数，则记录为“-” %B： 发送的字节数，不包含HTTP头信息。 %h： 远程主机名，若connector没有开启DNS反向查找，则为远程主机的IP地址。 %H： 请求的协议 %m： 请求方法，如GET、POST等 %p： 接受请求的本地端口 %q： 查询字符串，若存在，则加一个“？”，否则是一个空字符串 %r： 请求头的第一行(方法和请求URI) %s： 响应的HTTP状态码 %S： 用户的session id %t： 日期和时间，通用的日志格式 %u： 被认证的远程用户，若没有则记录“-” %U： 请求的URL路径 %v： 本地服务器名 %D： 请求处理的时间，以毫秒为单位。 %T： 请求处理的时间，以秒为单位。 %F： 提交响应花费的时间，以毫秒单位 %I： 当前请求的线程名称 %{xxx}i： 写入请求头名为xxx的值 %{xxx}o： 写入响应头名为xxx的值 %{xxx}c： 写入cookie名xxx的值 %{xxx}r： 写入ServletRequest名为xxx的值 %{xxx}s： 写入HttpSession属性名为xxx的值 %{xxx}t： 请求的时间戳使用SimpleDateFormat模式xxx格式化，并记录在请求的最后,
用户可在访问日志的 “Web 日志” 页签，设置实...,用户可在访问日志的 “Web 日志” 页签，设置实时查看访问日志的初始加载行数、日志刷新大小以及最大显示行数。 在线实时查看访问日志的具体操作步骤：。 1. 登录 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择 “日志管理” > “访问日志”，进入访问日志页面。 4. 单击 “查看日志” 按钮，弹出 Web 日志窗口。 5. 用户可以实时查看服务器日志。打开 “自动滚动” 开关，日志信息可以自动滚动。 6. 用户还可以输入 “关键字”、选择 “开始时间”/“结束时间”，搜索日志。,
请注意，控制台默认关闭文件下载功能。若需要下载访问...,请注意，控制台默认关闭文件下载功能。若需要下载访问日志，请参见禁用文件下载的相关操作，开启文件下载功能。 下载访问日志操作步骤：。 1. 登录TongWeb管理控制台。 2. 切换到目标实例。 3. 左侧导航栏中，选择“日志管理”>“访问日志”，进入访问日志页面。 4. 单击页面下方的“下载”，弹出选择需要下载的文件窗口。 5. 勾选待下载的访问日志文件。 6. 单击“确定”，完成访问日志文件的下载操作。,
审计日志的配置，系统默认使用 “服务器日志” 下...,审计日志的配置，系统默认使用 “服务器日志” 下 “日志文件” 页签的相关配置。若不使用系统的默认配置，可自行定制审计配置，包含审计日志路径、轮转、保留文件个数、文件编码、缓冲写入、缓冲大小等信息。注意：只有具备 auditor 安全审计员角色权限的用户才可查看审计日志。auditor安全审计员角色权限说明见“安全审计员auditor”章节。 配置审计日志的操作步骤：。 1. 以安全审计员账号（auditor）登录TongWeb管理控制台。 2. 在控制台左上角，单击“集中管理”，进入集中管理页面。 3. 在左侧导航栏中，选择“安全配置”>“审计配置”，进入审计配置页面。 4. 配置审计日志相关信息，参数说明请参见审计配置参数说明。 5. 单击“更新”，更新审计日志配置。若界面弹出“审计配置更新成功”提示信息，则说明更新审计配置成功。,
审计日志配置的相关参数保存在 conf/tongw...,审计日志配置的相关参数保存在 conf/tongweb.xml 配置文件中的 tongweb > server > loggers > audit 节点。相关参数说明如下： useSystemConfig： 使用系统配置，指定是否使用“服务器日志”模块的日志文件相关的配置，若不使用，则可以自行定制。 baseFile： 文件目录，将日志文件存放到指定的目录下。 rotationByDay： 按天轮转，将每日未达到大小阈值的日志在零点切割到一个新文件中。 rotationBySize： 按大小轮转，当日志文件大小（单位：MB）达到该阈值时，将切割出一个新的日志文件。 keepMaxFiles： 保留文件个数，指定在清理日志文件时，须保留文件的个数。 charset： 文件编码，指定日志文件的编码格式。 buffered： 缓冲写入，是否开启文件缓冲写入功能。开启后，当持续记录的日志内容大小（单位：字节）之和达到缓冲大小时才一次性写入文件，而不是每条日志都立即写入文件（在服务器停止时会全部写入），这通常可以提高日志记录性能。关闭后，每条日志都立即写入文件。 bufferedSize： 缓冲大小，缓冲写入的阈值，当持续记录的日志内容大小（单位：字节）之和达到此值时，一次性写入进文件。 compression： 日志文件压缩，是否开启日志文件压缩功能。开启后，对轮转后的日志文件进行压缩。,
查看审计日志的操作步骤如下：。 1. 以安全审计员账...,查看审计日志的操作步骤如下：。 1. 以安全审计员账号（auditor）登录 TongWeb 管理控制台。 2. 在控制台左上角，单击“集中管理”，进入集中管理页面。 3. 在左侧导航栏中，选择“日志管理”>“审计日志”，进入审计日志页面。 4. 您可以查看服务器的审计日志，包含操作时间、管理员、操作对象、操作类型、操作结果、请求地址、客户端IP等。,
用户可审计日志页面，选择查看已归档的日志文件。在线...,用户可审计日志页面，选择查看已归档的日志文件。在线查看已归档日志的操作步骤如下：。 1. 以安全审计员账号（auditor）登录 TongWeb 管理控制台。 2. 在控制台左上角，单击“集中管理”，进入集中管理页面。 3. 在左侧导航栏中，选择 “日志管理” > “审计日志”，进入审计日志页面。 4. 在 “日志文件” 下拉列表中，选择指定日期的日志文件，如下图所示。 5. 选择完成后，单击 “搜索”，即可在线查看已归档的日志文件。,
搜索审计日志的操作步骤如下：。 1. 进入审计页面。...,搜索审计日志的操作步骤如下：。 1. 进入审计页面。 2. 在搜索栏中，根据需要选择输入操作时间、管理员、操作对象、操作类型、操作结果、请求地址或者客户端IP地址。例如：搜索操作对象“home”。 3. 单击“搜索”，即可搜索指定日志信息。,
TongWeb8 日志推送可以将 TongWeb...,TongWeb8 日志推送可以将 TongWeb 的运行日志实时推送到远端日志存储服务器（如 Elasticsearch）上，以便于统一管理。开启本功能后，TongWeb 的日志除了在本地文件存储之外，还会推送到指定的日志存储服务器。推送的日志包括 服务器日志（server.log）、访问日志（access.log）和 审计日志（audit.log）。请注意：当无法连接到日志服务器时，日志推送将会失败，并且目前 TongWeb 不会进行补充推送。 开启日志推送的操作步骤如下：。 1. 登录 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧菜单栏中，选择 “日志管理” > “日志推送”，进入日志推送页面。 4. 打开 “启用” 开关。 5. 配置 “推送地址”、“用户名”以及“密码”等。 6. 单击 “ES 配置”，配置 Elasticsearch 服务器存放日志数据的索引。请确保日志数据索引的唯一性。 7. 配置完成后，单击 “更新”，完成日志推送的配置操作。若界面弹出 “日志推送更新出成功” 提示信息，则说明开启日志推送成功。,
未命名知识点,,
未命名知识点,,
tongweb8支持的 JDK 版本,JDK8-JDK21。 • 支持 Oracle JDK，但部分 Oracle JDK 版本商用收费，在生产使用时请注意商业授权，或采用 Open JDK、Tong JDK。 • 启用国密认证，JDK 要求 JDK8-JDK11。 • 使用虚拟线程，JDK 要求 JDK21。 • 需要安装 JDK，不能仅安装 JRE。仅安装 JRE 会导致 TongWeb 部分功能不能使用。 • Linux 下若使用 IBM JDK，则需要手动放置如下 jar 包到 “${tongweb.home}/lib/compatible” 目录，否 则启动 TongWeb 失败。 ◦ JDK 8.0 bcprov-jdk15on-1.70.jar。 ◦ JDK 8.0+ bcprov-jdk18on-1.78.1.jar,jdk
tongweb8支持的操作系统,• Windows： Microsoft Windows系列。 • Linux： RedHat系列、Suse Linux系列、麒麟操作系统、统信 uos 操作系统、中科方德操作系统等。 • Mac OS： Mac OS 系列,操作系统
tongweb8支持的数据库,主流数据库：Oracle、MySQL5、MySQL8、Sybase。 15、dameng、Kingbase、Kingbase8、Oscar、HSQL、Sybase type 4 for Sybase 11.x、jtds sybase、postgreSQL、SQLServer、Derby Client、Derby Embedded、IBM Type。 4、gbase8t、gbase8s、sr、db2、highgo、uxdb、GaussDB 100、InspurK_x0002_DB、linkoopdb、oceanbase、MogDB 等。,数据库
tongweb8登录时验证码问题,"在一些平台上，验证码无法正常显示，有两种解决方法（择其一即可）。 • 方法一：修改服务器 tongweb.xml（打开 Headless 系统配置模式） 。 ◦ 系统默认开启 “服务器主配置文件防篡改”，TongWeb 运行期间禁止对主配置文件 “tongweb.xml” 进行 修改。 ◦ 若需要修改 “tongweb.xml”，请确保 TongWeb 服务器处于停止状态或 “服务器主配置文件防篡改”（可 进入 “安全管理” > “安全策略” > “文件防篡改” 模块修改）关闭。 1. 进入 “${tongweb.base}/conf” 目录。 2. 打开 “tongweb.xml” 文件。 3. 将 “-Djava.awt.headless=true” 功能打开，如下所示。 <arg enabled=""true"">-Djava.awt.headless=true</arg> 该操作可兼容大部分平台，该参数由 JDK 提供，打开后可能对应用性能有所影响。 • 方法二：修改服务器 console.xml（禁用验证码功能） 。 ◦ 系统默认开启 “服务器主配置文件防篡改”，TongWeb 运行期间禁止对主配置文件 “console.xml” 进行修 改。 ◦ 若需要修改 “console.xml”，请确保 TongWeb 服务器处于停止状态或 “服务器主配置文件防篡改”（可进 入 “安全管理” > “安全策略” > “文件防篡改” 模块修改）关闭。 1. 进入 “${tongweb.base}/conf” 目录。 2. 打开 “console.xml” 文件。 3. 将 “VerCodeEnabled” 参数设置为 “false”，可禁用验证码功能",验证码
问题现象： 启动 TongWeb 服务器后，通过命令修改密码时报错，如“连接失败，请检查连接的主机、端口是否正确或目标TongWeb 是否已启动”。,"原因分析： 连接主机的端口号不正确，不再是默认的“9060”。 解决方案： 在执行的命令中，添加 “--port”，指向实际的端口。 1. 进入 “${tongweb.base}/conf” 目录。 2. 打开 “tongweb.xml” 文件，查看并获取控制台的端口，如 “8090”。 <connector SSLEnabled=""true"" address=""0.0.0.0"" clientAuth=""false"" keystoreFile=""conf/server.keystore"" keystorePass=""jo+fvRppEjYJWnAqSYOpfg=="" maxSwallowSize=""2097152"" maxThreads=""24"" minSpareThreads=""5"" name=""admin"" port=""8090"" scheme=""https"" secure=""true"" sslEnabledProtocols=""TLSv1.2"" sslProtocol=""TLSv1.2"" systemManaged=""true"" truststoreFile=""conf/server.keystore"" truststorePass=""jo+fvRppEjYJWnAqSYOpfg==""/> 。 3. 执行命令时，添加 “--port” 指向实际端口 “8090”，如下所示。 sh commandstool.sh --model=password --action=update --username=thanos --password=thanos123.com。 --acceptAgreement=true --port=8090 originalPassword=thanos123.com newPassword=Thanos12.com confirmPassword=Thanos12.com。 4. 命令执行完成后，即可查看到“修改密码更新成功”的提示信息。",命令
出于安全考虑，TongWeb 对于非信任 IP 禁止登录 TongWeb 管理控制台。用户将无法进行任何操作。 默认仅安装 TongWeb 的本机受信任。 当使用远程浏览器访问 TongWeb 控制台前，请在安装 TongWeb 的本机将远程浏览器所在主机的 IP 设置 为“信任 IP”。 信任 IP 可为具体的 IP、匹配 IP 的正则表达式或通配符 IP（如：168.1.2.*，168.1.4.5-168.1.4.99）。 设置为 “*” 表示信任所有机器（不建议）。,方式一：控制台设置信任IP 需要浏览器所在 IP 是服务器本机或者已受信任。 控制台设置信任IP。 1. 登录 TongWeb 管理控制台。 2. 在控制台左上角，单击“集中管理”，进入集中管理页面。 3. 在左侧导航栏中，选择“安全配置”>“控制台安全”，进入控制台安全页面。 4. 配置信任IP。 指定信任的客户端 IP 地址，其值可为具体的 IP、匹配 IP 的正则表达式或通配符 IP（如：168.1.2.* ，168.1.4.5-168.1.4.99）。 5. 配置完成后，单击“更新”，即可完成控制台安全的配置。 若界面弹出“控制台安全更新成功”，则说明控制台安全配置成功。 方式二：命令行设置信任IP 启动TongWeb，并进入 “${tongweb.home}/bin” 目录，执行如下命令，设置信任IP。 如下以信任IP为“192.168.1.1”为例说明。 sh commandstool.sh --username=thanos --password=Thanos12.com --acceptAgreement=true。 --model=consolesecurity --action=update trustedIP=192.168.1.1 若设置的是正则表达式，则需要先进行编码，编码方式如下所示。 1. 进入TongWeb管理控制台。 2. 切换到目标实例。 3. 选择“基础配置”>“加密工具”，进入加密工具页面。 4. 加密类型选择“特殊字符”。 5. 单击“加密”，即可得到加密结果。 方式三：通过修改 console.xml 文件。 • 系统默认开启 “服务器主配置文件防篡改”，TongWeb 运行期间禁止对主配置文件 “tongweb.xml” 或 “console.xml” 进行修改。 • 若需要修改 “console.xml”，请确保 TongWeb 服务器处于停止状态或 “服务器主配置文件防篡改”（“安全管 理” > “安全策略” > “文件防篡改”）关闭。 console.xml 文件路径 “${tongweb.base}/conf/”。 为 console 节点添加或者修改 “trustedIP” 属性，设置完成后，需要重启 TongWeb 服务器，方可生效。 “trustIP” 可以设置为 IP、匹配 IP 的正则表达式或者通配符 IP。 如下以将 trustIP 设置为 IP 地址为例进行说明。 <console trustedIP=”192.168.1.1”>,信任ip
动态密码绑定不成功或登录验证不通过,请确保服务器时间和手机时间保持一致。,登录验证
开启动态密码后，密钥丢失，登录不成功,"若动态密码丢失，您可以修改“${tongweb.base}/conf/console.xml” 里的 name=""用户名"" 节点的 “enableOtp” 值的方式关闭动态密码。 注意事项 console.xml 为 TongWeb 主配置文件，具有防篡改限制。若需要修改并使其生效，请先停止 TongWeb 服 务器，然后再进行修改。 操作步骤。 1. 进入 “${tongweb.base}/conf” 目录。 2. 打开 “console.xml” 文件。 3. 将丢失密钥账户对应的 “enableOtp” 字段修改为 “false”，即可关闭动态密码。 4. 修改完成后，保存并退出。 5. 启动 TongWeb 服务器。 6. 登录 TongWeb 控制台时，可发现不输入动态密码，可成功登录到控制台。",密钥
密码丢失，如何找回密码,"可通过修改 “${tongweb.base}/conf/console.xml” 里的 name=""用户名"" 节点的 password 值的方式重置为 初始密码。 注意事项 console.xml 为 TongWeb 主配置文件，具有防篡改限制。若需要修改并使其生效，请先停止 TongWeb 服 务器，然后再进行修改。 操作步骤。 1. 进入 “${tongweb.base}/conf” 目录。 2. 打开 “console.xml” 文件。 3. 将丢失账户（如 “thanos” ）对应的 “password” 字段修改为如下字符串，即可重置为初始密 码“thanos123.com”。 44D3$2$0B8AA118786066B2A9DF05A44B342AE2FC147F2164B5A9F232259E50DE5D9F1C$SHA-256。 4. 将丢失账户（如 “thanos” ）对应的 “changeInitPwd” 字段修改为 “true”，要求该账户登录时，必须修改 初始密码。 5. 修改完成后，保存并退出。 6. 启动 TongWeb 服务器。 7. 使用重置后的初始密码，即可成功登录 TongWeb 控制台。",密码
同一用户登录控制台后，再使用REST/JMX/命令行等接口接入，浏览器上的会话被强制退出,为了保证用户的登录安全，当使用某用户通过浏览器登录控制台后，若再使用相同的用户通过 REST\JMX\命令行等接口接入，该用户在浏览器上的会话会被强制终止（即被踢出，需要重新登录）。,会话超时
问题现象： 确认 TongWeb 并未启动，但系统提示 TongWeb 已启动，如下所示。 [tongtech@backup bin]s ./startserver.shExecute the comand: serverThe server is starting.ommandsstart> has beenexecuted.tongtech@backup bin]s Ready to <start> TongWeb: /home/tongtech/TongWebx.x.x.x/domains/domainl,解决方案： 请尝试删除 “${tongweb.base}/logs” 目录下的 “tongweb.pid”，然后重试。,启动
指定启动 TongWeb 使用的 java 路径,"指定启动TongWeb的java路径，按照优先级别可设置：。 1. 打开 “${tongweb.base}/conf/tongweb.xml” 文件。 2. 在 <environments> 标签下，添加如下标签。 <env name=""JAVA_HOME"" value=""指定java路径（注意是bin的父目录）""/>。 3. 修改当前用户的环境变量 JAVA_HOME，指定的启动 TongWeb 的java路径（注意是bin的父目录）。 4. 当前环境变量 PATH 中的第一个 java 路径。",jdk
"问题现象： 2024-07-16 17:01:17 >>> Ready to <start> TongWeb: domains/domain1 Exception in thread ""main"" java.lang.IllegalArgumentException: java.lang.NullPointerException at com.tongweb.BaseUtil.parseServerLic(Unknown Source) at com.tongweb.BaseUtil.getServerLic(Unknown Source) at com.tongweb.server.util.LicUtils.getServerLic(Unknown Source) at com.tongweb.main.TongWebMain.c(Unknown Source) at com.tongweb.main.TongWebMain.main(Unknown Source) Caused by: java.lang.NullPointerException at java.io.StringReader.<init>(StringReader.java:61) at com.tongweb.BaseUtil.a(Unknown Source) ... 5 more 2024-07-16 17:01:18 >>> Command <start> has been executed.",解决方案：。 1. 手动将如下 jar 包放置于 “${tongweb.home}/lib/compatible” 目录。 ◦ JDK 8.0 bcprov-jdk15on-1.70.jar。 ◦ JDK 8.0+ bcprov-jdk18on-1.78.1.jar。 2. 重新启动 TongWeb 服务器即可。,IBM
某些平台启动过慢,"此问题源自Java语言的底层设计，解决办法：。 1. 打开 tongweb.xml 文件。 2. 将 <arg enabled=""true"">-Djava.security.egd=file:/dev/./urandom</arg> 节点的 enabled 属性设置为 true 或 false 以观察效果。",启动慢
启动失败报授权解密相关错误,"由于授权问题导致启动失败，其提示信息均为： Exception in thread ""main"" java.lang.RuntimeException: License error! Run version.[sh | bat] for detail. 此设计是出于安全考虑的，可在一定程度上防止追踪破解授权代码。 如此的提示信息难以了解具体的启动失败原因，您可以根据提示执行 version 脚本以得到更加详细的信息",License
集中管理中，启动实例失败时，找不到日志,在集中管理中，若启动实例失败，可优先在 server.log 中查找失败日志。 若在 server.log 中没有找到相关日志，再前往 “domain1/logs/subprocess” 目录中，查找最新时间的日志。 日志名称格式：类型-名称-时间戳.log 例如：TDG-TTT-20231010*.log,集中管理日志
集中管理所在节点故障，如何恢复,若集中管理所在节点故障，可通过如下方式恢复对各节点的集中管理。 • 通过自动备份的 tongweb.xml 和 console.xml文件进行恢复。 tongweb.xml & console.xml备份路径：${tongweb.base}/data/conf/。 16。 • 若配置文件丢失，可重新添加各节点。,节点故障
如何查询受管实例的集中管理 IP,1. 打开受管实例的 “${tongweb.base}/conf/tongweb.xml” 文件。 2. 查看 <server> 标签的 “centralizedIp” 属性。 “centralizedIp” 属性记录了集中管理的 IP 地址。,集中管理IP
支持部署的应用类型有哪些,TongWeb 支持五种 JavaEE 应用文件的类型，包括 Web 应用、EJB 应用、Connector 应用、EAR 应用、其 他。有关应用类型的详细说明，请参见《TongWeb_V8.0控制台使用手册》。,应用类型
应用部署时间长或卡住不动,"原因分析： 可能是应用启动执行到某一初始化操作时间长引起的。 解决方案： 在应用部署过程中出现这种情况时，可以按照如下方式解决。 1. 重新刷新 TongWeb 管理控制台。 2. 打开“监视管理”>""阻塞线程""页面，找到""TW-0.0.0.0-9060-*""的部署线程。 3. 查看原因，通常是数据源阻塞、线程阻塞等问题。",部署应用超时
开启异步请求报空指针,部署应用选用线程池后，需要注意，访问应用响应时长超过通道中“异步请求的默认超时”时间后，会报请求 超时和空指针问题。,空指针
自动部署不生效,自动部署开关默认关闭。 若需要开启自动部署开关，请选择 “基础配置” > “全局配置” > “应用”，进入应用页面，打开“自动部署应用” 开关。 打开自动部署开关后，只需要将应用包拷贝到 “${tongweb.base}/autodeploy” 目录，即可自动部署该应 用。,自动部署
当从本地上传应用包到服务器时，由于应用包过大，超过 1 分钟都没有完成上传，日志提示不是一个有效的 应用。 报错信息，Caused by: com.tongweb.server.util.ErrorCodeExceptionImpl: errorCode:018 errorCode:018 ：无法正常识别应用类型，请检查要部署的应用文件是否合法,原因分析： 当应用包体积较大时，一旦开始上传，自动部署目录下会立即生成一个相应的目录，并且系统会尝试立即开 始部署流程。然而，由于此时文件尚未完全上传，系统日志中会记录一条错误信息，指出当前的应用不是一 个有效的应用包。 解决方案： 该报错信息并不会阻碍应用的部署进程；一旦文件全部上传完毕，应用便能顺利部署成功。 为了避免此类问题的发生，您可以参照如下步骤上传文件：。 1. 首先，将应用包上传到服务器的某个指定目录。 2. 然后，使用 mv 命令，将应用包作为一个整体一次性移动到自动部署目录中，即可避免文件不全的问题。,不是一个有效应用
问题1：自动部署导致应用无法完全卸载。 1. 开启自动部署，重启 TongWeb；。 2. 将 xx.war 文件放置于自动部署目录中，观察到生成了 xx.war.deployed 文件，表明应用已成功部署；。 3. 手动从自动部署目录中删除 xx.war 文件；。 4. 通过 TongWeb 打印的日志可以看到，应用卸载成功后，紧接着又去部署了 xx.war 应用。 问题2：应用升级出现重复应用。 1. 开启自动部署，重启 TongWeb；。 2. 把 xx.war 放入自动部署目录，确认应用已成功部署（生成了 xx.war.deployed）；。 3. 准备一个更新版本的 xx.war 文件，将其替换自动部署目录中原有的同名文件以进行升级操作；。 4. 登录 TongWeb 控制台，在 “应用” 列表中发现存在两个 xx.war 应用。,解决方案： 方式1：。 1. 释放 dll 本地库；。 2. 重启 TongWeb。 方式2： 为了避免此问题，您可以选择不升级或卸载应用，或者选择去控制台部署应用。 然而，在控制台部署应用后，如果您尝试点击卸载应用，虽然表面上看似卸载成功，但实际上手动去删除应 用，会提示 dll 被占用。要彻底删除应用，您必须先停止 TongWeb 服务。,应用卸载升级
自动部署目录下的应用文件被外部删除后，每次启动都 报找不到应用,屏蔽日志的方式：。 1. 在控制台上删除该应用；。 2. 修改 ${tongweb.base}/conf/tongweb.xml，将该应用对应的节点删除。,找不到应用
删除自动部署目录下的应用有.unDeployed 文件,这个文件是个标记，告诉用户出现这个表示卸载已成功结束，用户看到之后可自行选择删除这个文件，删除 不会有任何影响。,unDeployed
更新 JSP 文件后，没有实时生效,更新 JSP 文件后，若需要实时生效，请进入已部署应用的详细配置页面。在“JSP”页签下，开启“开启JSP开 发模式”开关。 开启 JSP 开发模式后，当有 JSP 文件更新时，更新的文件会在 5 秒内重新加载以生效。 若开启了资源缓存，生效时间会在资源的缓存时长后。,JSP
报“An invalid domain [.test.com] was specified for this cookie”错，如下所示。 2022-06-14 11:07:31 [WARN] - java.lang.IllegalArgumentException: An invalid domain [.test.com] was specified for this cookie 2022-06-14 11:07:31 [WARN] - at com.tongweb.web.util.http.Rfc6265CookieProcessor.validateDomain(Rfc6265CookieProcessor.java:202) 2022-06-14 11:07:31 [WARN] - at com.tongweb.web.util.http.Rfc6265CookieProcessor.generateHeader(Rfc6265CookieProcessor.java:137) 2022-06-14 11:07:31 [WARN] - at com.tongweb.server.connector.Response.generateCookieString(Response.java:960),在应用配置中，开启“使用老版 Cookie 处理器”。,"Cookie, 异常"
报“Invalid character found in the request target”错，如下所示。 2022-06-14 10:16:24 [INFO] - Error parsing HTTP request header Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level. java.lang.IllegalArgumentException: Invalid character found in the request target [/dbpool/?aa=|ddd]]. The valid characters are defined in RFC 7230 and RFC 3986 at com.tongweb.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:470) at com.tongweb.coyote.http11.Http11Processor.service(Http11Processor.java:212,"解决方案： 在目标 HTTP 通道中，开启“路径中允许使用的未编码字符”和“参数中允许使用的未编码字符”，并配置“"" < > [ \ ] ^ ` { | }”。 操作步骤，如下所示。 1. 登录管理控制台。 2. 切换到目标实例。 3. 在左侧菜单栏中，选择 “Web 容器” > “通道”，进入通道列表页面。 4. 单击目标通道的通道名，进入通道详细信息页面。 5. 单击 “HTTP 属性” 页签，打开 “路径中允许使用的未编码字符” 和 “参数中允许使用的未编码字符” 开 关。","URI, 非法字符"
"报“quoted with [""] which must be escaped when used within the value”错，如下所示。 2022-06-14 11:24:55 [WARN] - com.tongweb.jasper.JasperException: /index2.jsp (line: [11], column: [45]) Attribute value [String.valueOf(""aa"")] is quoted with [""] which must be escaped when used within the value 2022-06-14 11:24:55 [WARN] - at com.tongweb.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHandler.java:26) 2022-06-14 11:24:55 [WARN] - at com.tongweb.jasper.compiler.ErrorDispatcher.dispatch(ErrorDispatcher.java:276)",解决方案： 在应用配置中，关闭“Strict Quote Escaping”。,JSP编译报错
问题现象： 报“because there was insufficient free space available after evicting expired cache entries - consider increasing the maximum size of the cache”错，如下所示。 2022-06-14 12:16:39 [WARN] - Unable to add the resource at [/WEB_x0002_INF/classes/org/oasis_open/docs/wsrf/rp_2/jaxb.properties] to the cache for web application [cxf] because there was insufficient free space available after evicting expired cache entries - consider increasing the maximum size of the cache 2022-06-14 12:16:39 [WARN] - Unable to add the resource at [/WEB_x0002_INF/classes/org/oasis_open/docs/wsrf/rp_2/jaxb.properties] to the cache for web application [cxf] because there was insufficient free space available after evicting expired cache entries - consider increasing the maximum size of the cache,解决方案： 应用部署增大 “最大缓存大小”，通常大于应用所有 jar 的大小，通过应用监控缓存使用情况。 查看资源缓存量是否够用，再调整“最大缓存大小”。 1. 选择“应用管理”>“应用”，进入应用/列表页面。 2. 单击目标实例所在行的“监视”，进入监视页面，查看资源缓存量是否够用。 3. 进入应用配置页面，对缓存进行调整。 注意： 切记盲目调大，典型毛病“999999999”。,缓存不足
问题现象： 报错信息，如下所示。 Caused by: org.xml.sax.SAXParseException: 文件提前结束。 at com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:262) at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:339) at com.tongweb.ws.commons.schema.XmlSchemaCollection$2.run(XmlSchemaCollection.java:651) at com.tongweb.ws.commons.schema.XmlSchemaCollection$2.run(XmlSchemaCollection.java:649) at java.security.AccessController.doPrivileged(Native Method) at com.tongweb.ws.commons.schema.XmlSchemaCollection.parseDoPriv(XmlSchemaCollection.java:649) at com.tongweb.ws.commons.schema.XmlSchemaCollection.read(XmlSchemaCollection.java:618),解决方案： 从异常“com.tongweb.ws.commons.schema”可以看出 TongWeb 的 WebService 参与了应用的 xml 处理。 可在部署应用时，勾选加载应用的 “Webservice” 或 “Web 兼容模式”，即可解决该问题。 注意： 用户需要进入 “基础配置” > “全局配置”，打开 “启用 Webservice” 开关。在应用的 “资源加载” 页面中 “加 载应用实现” 里才会显示 “WebService”。,WebService报错
问题现象： Caused by: java.lang.AbstractMethodError: javax.ws.rs.core.UriBuilder.uri(Ljava/lang/String;)Ljavax/ws/rs/core/UriBuilder; at javax.ws.rs.core.UriBuilder.fromUri(UriBuilder.java:96) at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:669) at javax.servlet.http.HttpServlet.service(HttpServlet.java:590),解决方案： 在开启”Web兼容模式“的情况下，依旧加载“tongweb-jee-api.jar”中的类，可以设置”强制从应用加载的类“ 来解决。,"类冲突, AbstractMethodError"
"问题现象： 通过request.getServletContext().getContext(""/app"")获取另一应用上下文为空。",解决方案： 在应用配置的“安全”页签下，开启“允许跨应用访问”。,上下文空
在遇到中文问题时，通常需要通过设置编码格式来解决问题。,"下面介绍编码设置及优先级。 • web.xml中请求、响应编码的配置优先级最高 在JavaEE8规范中，web.xml 增加了 request、response编码配置，该配置优先级最高。 ... <?xml version=""1.0"" encoding=""UTF-8""?> <web-app xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xmlns=""http://xmlns.jcp.org/xml/ns/javaee"" xsi:schemaLocation=""http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web_x0002_app_4_0.xsd"" id=""WebApp_ID"" version=""4.0""> <display-name>charset</display-name> <default-context-path>/testde</default-context-path> <request-character-encoding>GBK</request-character-encoding> <response-character-encoding>GBK</response-character-encoding> ... 在以往的项目中，request、response 编码通常通过 filter 来设置，如下所示。 ... <filter-name>EncodingFilter</filter-name> <filter-class> org.springframework.web.filter.CharacterEncodingFilter </filter-class> <init-param> <param-name>encoding</param-name> <param-value>UTF-8</param-value> </init-param> <init-param> <param-name>forceEncoding</param-name> <param-value>true</param-value> </init-param> ...。 • 控制台编码设置 在部署应用时通过配置""编码""来完成。 参数说明，如下表所示。 应用请求编码 应用程序的默认 HTTP请求编码，优先级低于web.xml。 应用响应编码 应用程序的默认HTTP 响应体编码，优先级低于web.xml。 JSP 文件编码 指定 JSP文件编码,相当于javaEncoding。 静态文件编码 使用指定的编码解析应用的文件资源，如*.html 等静态资源，可用于解决文件编码和JVM默认编码不一致引起的乱码问题。相当于fileEncoding.。 • URL编码设置 为兼容 tomcat 编码，HTTP 通道中""其它""中的""URI 编码""相当于tomcat的URIEncoding；“URI 使用 Content-Type 解码""相当于tomcat的useBodyEncodingForURI。",编码
在应用运行过程中，可能会有一些线程因等待锁、阻塞导致执行时间慢。,"以开启 TongWeb 的""慢线程检测""功能来排查问题。 当 http 线程超过""阻塞阈值""时，则日志输出相应线程堆栈。通过大量收集该日志样本，以判断线程慢的原因。 仅收集一、两个该日志，不能说明线程慢在该处。 2023-02-14 15:29:53 [WARN] - Thread [TW-0.0.0.0-8088-1] (id=[61]) has been active for [20,131] milliseconds (since [2/14/23 3:29 PM]) to serve the same request for [ http://192.168.55.159:8088/webtest01/TestServlet] and may be stuck ( configured threshold for this StuckThreadDetectionValve is [20] seconds). There is/are [1] thread(s) in total that are monitored by this Valve and may be stuck. java.lang.Throwable at java.lang.Thread.sleep(Native Method) at com.tong.TestServlet.doGet(TestServlet.java:41) at javax.servlet.http.HttpServlet.service(HttpServlet.java:503) at javax.servlet.http.HttpServlet.service(HttpServlet.java:590) at com.tongweb.server.core.ApplicationFilterChain.enterApp(ApplicationFilterChain.java:365) ""中断阈值""通常不建议开启，因为实际应用场景中线程有业务相关逻辑，中断线程可能造成业务的不完整。 若能确保中断线程无问题，则可开启。相关日志如下所示。 2023-02-14 15:29:59 [WARN] - Thread [TW-0.0.0.0-8088-1] (id=[61]) has been interrupted because it was active for [26,177] milliseconds (since [2/14/23 3:29 PM]) to serve the same request for [ http://192.168.55.159:8088/webtest01/TestServlet] and was probably stuck (configured interruption threshold for this StuckThreadDetectionValve is [25] seconds). java.lang.Throwable at java.lang.Thread.sleep(Native Method) at com.tong.TestServlet.doGet(TestServlet.java:41) at javax.servlet.http.HttpServlet.service(HttpServlet.java:503) at javax.servlet.http.HttpServlet.service(HttpServlet.java:590) at com.tongweb.server.core.ApplicationFilterChain.enterApp(ApplicationFilterChain.java:365) 。。。。 2023-02-14 15:30:01 [WARN] - Thread [TW-0.0.0.0-8088-1] (id=[61]) was previously reported to be stuck but has completed. It was active for approximately [26,177] milliseconds. ""中断阈值""只中断TongWeb的http线程，若应用自建线程出现阻塞，可通过""监视管理"">""阻塞线程""查看，该 功能为监控的JVM所有线程。""强停""功能同样谨慎使用。 当遇到线程阻塞类问题时，主要通过 TongWeb 提供的线程堆栈来分析问题，从应用侧来解决。对于""中断阈值"", ""阻塞线程""的""强停""功能需谨慎使用。 若http通道的线程和队列占满，则报错，如下所示。 2023-02-24 13:58:57.963 [WARN] [TW-0.0.0.0-8088-ClientPoller] [com.tongweb.web.util.threads] - Executor rejected socket [ com.tongweb.web.util.net.NioEndpoint$NioSocketWrapper@fa310e2: com.tongweb.web.util.net2023-02-24 13:58:57.963 [WARN] [TW-0.0.0.0-8088-ClientPoller] [com.tongweb.web.util.threads] - Executor rejected socket [com.tongweb.web.util.net.NioEndpoint$NioSocketWrapper@fa310e2:com.tongweb.web.util.net.NioChannel@1 2bd59a6:java.nio.channels.SocketChannel[connected local=/127.0.0.1:8088 remote=/127.0.0.1:64068]] for processing java.util.concurrent.RejectedExecutionException: Queue capacity is full at com.tongweb.web.util.threads.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:138) at com.tongweb.web.util.threads.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:109) at com.tongweb.web.util.netat com.tongweb.web.util.net.AbstractEndpoint.processSocket(AbstractEndpoint.java:938) at com.tongweb.web.util.netat com.tongweb.web.util.net.NioEndpoint$Poller.processKey(NioEndpoint.java:1366) at com.tongweb.web.util.net.NioEndpoint$Poller.run(NioEndpoint.java:1338) at java.lang.Thread.run(Thread.java:750)",慢线程
如何更好的兼容 Web 应用,1. 开启“轻量模式”对整个TongWeb生效 此模式会关闭 EJB、JCA 等服务，并尝试从应用自身加载 JSF、JavaMail、WebService、Xml 等技术实 现。若应用是基于 Tomcat 或其它 Servlet 容器开发，则通常可以获得更好的兼容性。 2. 部署应用时开启“web兼容模式” 以 Web 兼容模式加载该应用。若该应用是基于 Tomcat 等 Web 容器开发，则可以尝试打开此开关以获 得更好的兼容性。 开启此模式后，EJB 等企业级技术实现将不再支持，同时尝试从应用自身加载 JSF、JavaMail、WebService、Xml 等企业级技术实现。,兼容Web应用
什么情况下开启 “Web兼容模式” 或 “轻量模式”,• Web兼容模式 “Web 兼容模式” 仅对单个应用生效，是用户在部署应用时，对单个应用的配置，属于应用内存级别的隔 离，隔离效果有限。 当用户需要同时部署 EJB 和 Web 应用的情况下，单独对 Web 应用开启。 • 轻量模式 轻量模式是全局生效，隔离更彻底，等同于 TongWeb 轻量级版本的物理级隔离。 若用户只有 Web 应用而没有 EJB 应用，推荐使用“轻量模式”。,"Web兼容, 轻量模式"
从 root 用户切换到普通用户后，启动 TongWeb，系统报错 “The scratchDir you specified:[xxxx] is unusable”。 1. TongWeb 安装目录的权限给到 777 。 2. 使用 root 用户启动 TongWeb，并部署一个 war 应用，然后访问应用。 34 东方通应用服务器软件 TongWeb V8.0 常见问题手册。 3. 关闭 TongWeb。 4. 切换到普通用户（如：test）启动 TongWeb。 5. 启动后，系统报错 “The scratchDir you specified:[xxxx] is unusable”。 部署的 war 应用，点击链接报错。,原因分析： 切换为普通用户后，root 用户生成的 temp 文件导致部署的应用异常。 解决方案： 使用普通用户启动 TongWeb 前，删除 “${tongweb.base}/temp” 文件夹。,部署异常
基于数据源连接池的设计，空闲连接的回收机制是依赖连接的时间戳来判定是否需要回收，即便只有一个连 接在循环使用连接池，也会顺次“激活”所有的连接，使得所有连接的时间戳始终是新的，因此不会被回收。 只有在没有任何请求的情况下，超过最大空闲时间才会被回收掉。 对于需要快速回收数据库连接的场景，用户可尝试开启 “使用 LIFO 队列” 功能，使用后进先出类型的队列存 储数据库连接。 “使用 LIFO 队列” 默认“开启”。,若没有开启，用户可参照如下操作步骤，开启 “使用 LIFO 队列” 功能。 1. 登录 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧菜单栏中，选择 “Web 容器” > “数据源”，进入数据源列表页面。 4. 打开已创建的数据源，单击“其它”，进入其它页签。 5. 打开 “使用 LIFO 队列” 开关。 6. 开启完成后，单击 “更新”，即可完成 “使用 LIFO 队列” 的开启操作。,数据库回收连接
如何获取数据库连接池关联的物理连接,首先通过JNDI获取到连接池返回的逻辑连接，然后调用 com.tongweb.tongejb.resource.jdbc.managed.util.NativeJdbcExtractor 类（所在jar包位 于${tongweb.home}/version<版本号>/modules/ejb/tongweb-ejb.jar）的 extractNativeConnection 方法 ，将前面获取到的逻辑连接作为参数传递给此方法，该方法返回的结果即为该逻辑连接关联的物理连接。,获取物理连接
无状态会话Bean实例总数的监视为何会有跌落回升表 现,无状态会话Bean实例在使用完毕后会进入“重新初始化”状态，此时会从池中移除，因此看到实例总数跌落， 待初始化完毕后会重新回到池中，此时可以看到总数又回升。,EJB监视
使用w3协议，首次访问ejb应用可以成功，过10秒后再 次访问应用，会出现空白页并抛异常,解决方案：。 • 方案一： 修改“EJB w3协议”>“连接配置”>“读超时时间”，把值改大一些。 把“读超时时间”调大，连接保持时间会更久一些。 • 方案二： 在“基础配置”>“启动参数”，添加 -Dtongejb.client.keepalive=PING_PONG 。 添加启动参数，性能会稍微降低。,w3协议
监视数据为 -1,监视数据为 -1，表示相应的监视功能未开启。,监视
无法监控到应用数据源,• 使用监控应用数据源功能，需要进入“基础配置”>“全局配置”>“应用”，在应用页面，打开 “监视应用数据 源”开关。并且，在应用数据源初始化完成后，才能监控到。 • 请确保 JDBC 连接池类型为 HikariCP、Druid、DBCP、C3P0、BeeCP、BoneCP、Tomcat 或者 Hulk。 • DBCP、C3P0、BoneCP 目前暂不支持监控“线程等待数”，即该监控值始终为 “-1”。,应用数据源
异常日志：All other methods are uncovered,在web.xml中指定deny-uncovered-http-methods元素，在<web-resource-collection>使用<http_xFFFE_method>只配置了部分HTTP方法时，例如： <deny-uncovered-http-methods/> <security-constraint> <display-name>Example Security Constraint</display-name> <web-resource-collection> <web-resource-name>Protected Area</web-resource-name> <url-pattern>/successful.jsp</url-pattern> <http-method>DELETE</http-method> <http-method>GET</http-method> <http-method>POST</http-method> <http-method>PUT</http-method> </web-resource-collection> <auth-constraint> <role-name>admin</role-name> </auth-constraint> </security-constraint> 如果在web.xml文件中指定了deny-uncovered-http-methods元素，那么容器将拒绝任何未涵盖的HTTP方法，并返回403(SC_FORBIDDEN)状态码。 应用部署时会记录日志信息： Adding security constraints with URL pattern [/successful.jsp] to deny access with the uncovered HTTP methods that are not one of the following [DELETE POST GET PUT]. 如果未在web.xml文件中指定deny-uncovered-http-methods元素，将不会增加配置的URL Pattern的安全 约束。 应用部署时会记录错误日志信息： For security constraints with URL pattern [/successful.jsp] only the HTTP methods [DELETE POST GET PUT] are covered. All other methods are uncovered.,日志异常
启动TongWeb后，修改并保存console.xml，文件的 修改被还原,TongWeb提供“服务器主配置文件防篡改”功能，该功能默认为开启状态。 开启后，禁止在 TongWeb 运行期间对主配置文件 tongweb.xml、console.xml 等进行修改。 若被意外篡改，则自动进行恢复。 若需要关闭该功能，可进入“安全管理”>“安全策略”>“文件防篡改”，进入文件防篡改页签，可关闭“服务器主 配置文件防篡改”。 为保证服务器主配置文件安全不被篡改，不建议关闭。,防篡改
通知的详情表示什么含义,当有系统配置属性改变，服务器需要重新启动才能生效时，系统会给出一条通知，其“详情”一般表示具体的 发送变化的属性名，以及其变化前后的值。若变化的属性有多个，则会以分号分隔来表示。此外，属性发生 变化后，若再次编辑将其恢复为启动之初的值，则重启TongWeb通知会取消。,通知详情
通知的内容是什么,• 通知的内容范围力求包含所有需要管理员介入的操作提醒，一般包含系统模块变更后的重启TongWeb提 醒信息和许可即将到期或已经过期的提醒信息。 • 可发布通知的模块包括但不局限于 “全局配置”、“无状态 EJB”、“有状态 EJB”、“单例 EJB”、“EJB 连 接”、“启动参数”、“产品补丁”、“服务器日志” 以及授权到期的提醒。 • 控制台上显示的通知条目不会自动更新，需要手动刷新网页以更新。,通知内容
高并发压测只有5个工作线程,可能和授权（license.dat）有关，试用和教学用的授权有最大并发处理线程为5的限制，请尝试检查并更换授权以解决此问题。,5个线程
服务器返回的密码全是固定的*号,此设计是出于安全考虑的，密码不能泄漏出去，即使加密了也不能。,*号
SSL加密套件在IBM平台和其它平台不一致,IBM MQ 支持的 CipherSpec 及其对应的 CipherSuite： https://www.ibm.com/docs/zh/ibm-mq/9.1? topic=java-tls-cipherspecs-ciphersuites-in-mq-classes,IBM平台SSL加密套件
IP匹配规则是什么,"信任的IP、拦截的IP、爬虫的IP均使用如下统一匹配规则：。 1. 支持通配符*，比如10.10.45.*。 2. 支持指定IP区间，比如10.10.45.1-10.10.45.250。 3. 支持指定的IP，比如0.10.45.5。 4. 支持同时指定多个规则，规则之间使用英文逗号分隔。比如10.10.45.*,10.10.45.1-10.10.45.250。 5. 以上规则同时支持ipv4和ipv6",IP匹配规则
命令行工具分别有哪几种，有什么区别吗,命令行工具分为 “commandstool 命令行工具（直接执行）” 和 “cli 命令行工具（交互式执行）”。 两个命令行工具仅执行方式不同，执行效果相同。,"命令行工具, 分类"
命令行工具的是用来干什么的,可使用命令行方式来管理 TongWeb。,"命令行工具, 作用"
commandstool 命令行工具路径在哪儿,commandstool 命令行工具路径，如下所示。 • Linux ${tongweb.home}/bin/commandstool.sh。 • Windows ${tongweb.home}/bin/windows/commandstool.bat,"命令行工具, 路径"
commandstool 命令行工具支持哪几种执行模式,commandstool 命令行工具支持 “在线模式” 和 “离线模式”。,"commandstool命令行工具, 执行模式"
commandstool 命令行工具在线模式是怎样的,即在 TongWeb 服务器 “启动” 状态下，使用命令对其进行管理。 例如，启动 TongWeb 服务器后，在线模式修改初始密码。 默认初始账号和密码：thanos/thanos123.com。  密码中如果有特殊字符，需要加 “\” 进行转义。 ${tongweb.home}/bin>sh commandstool.sh --model=password --action=update --username=thanos。 --password=thanos123.com --acceptAgreement=true originalPassword=thanos123.com newPassword =Thanos12.com confirmPassword=Thanos12.com 在线模式下，支持对指定 TongWeb 实例执行相关操作。 通过添加 “targetType=instance targetName=<instance_name>” 普通参数的方式，指定实例名称即 可。,"commandstool命令行工具, 执行模式, 在线模式"
commandstool 命令行工具离线模式是怎样的,即在 TongWeb 服务器 “未启动” 状态，使用命令对其进行配置。 若需要使用离线模式，只需要在命令行参数里添加 --offline 即可。 例如，未启动 TongWeb 服务器，离线模式修改初始密码，在命令行参数里添加 --offline 。 默认初始账号和密码：thanos/thanos123.com。  密码中如果有特殊字符，需要加 “\” 进行转义。 ${tongweb.home}/bin>sh commandstool.sh --model=password --action=update --username=thanos 23 东方通应用服务器软件 TongWeb V8.0 命令行工具手册。 --password=thanos123.com --acceptAgreement=true originalPassword=thanos123.com newPassword=Thanos12.com confirmPassword=Thanos12.com --offline。 ◦ 离线模式下，支持对指定 TongWeb 实例执行相关操作。 通过添加 “--domain=<domain_name>” 参数指定实例名称即可。 ◦ 离线模式下，不指定 TongWeb 实例名称，则表示对默认实例 “domain1” 执行相关操作。,"commandstool命令行工具, 执行模式, 离线模式"
commandstool 命令工具安全认证是怎样的,安全认证是系统应用资源受保护所需的认证。 commandstool 命令工具每一次执行命令时，均需要携带 username、password 以及 acceptAgreement 进 行安全认证。 登录账号说明。 • 当仅需要获取监控信息时，建议使用系统资源监视管理员账户（如 monitor/monitor123.com）；。 • 当需要执行相关操作时，才建议使用系统管理员账户（如 thanos/thanos123.com）； 为了确保系统安全，每个账户只允许登录一个会话。如果您已使用 thanos 账户登录了控制台，那么再次 使用该账户访问命令行接口时，系统将自动中断您在控制台上的登录会话。 登录密码说明。 • 支持脚本中的密码进行预先加密（使用远端的加密工具）。 关于远端加密工具，详见《TongWeb_V8.0控制台使用手册》中的 “加密工具” 章节。 • 支持脚本中的密码进行传输过程自动加密（使用 “--encrypt” 参数设置远端加密公钥）。 关于 “--encrypt” 参数使用说明，详见基本参数。 示例说明 如下 “以 Linux 环境、commandstool.sh、--model=accesslog、--action=update 为例” 进行说明。  密码中如果有特殊字符，需要加 “\” 进行转义。 • 命令行 命令行中携带 “username”、“password” 和 “--acceptAgreement” 参数。 ${tongweb.home}/bin>sh commandstool.sh --model=accesslog --action=update --username=thanos。 --password=Thanos12.com --acceptAgreement=true。 • 回显信息 若回显信息出现 “访问日志更新成功” 字样，则说明更新访问日志成功。,"commandstool命令行工具, 安全认证"
commandstool 命令工具如何使用,首次使用 commandstool 工具执行相关命令前，请先使用 password 命令修改默认初始密码。 如下以 “修改默认初始密码” 为例演示如何使用 commandstool 工具执行命令。  密码中如果有特殊字符，需要加 “\” 进行转义。 TongWeb的默认账户信息如下所示。 • 用户名为“thanos”。 • 默认初始密码“thanos123.com”。 本示例将 TongWeb 默认初始密码修改为 “Thanos12.com”。 前置条件。 • 若使用 “在线模式” 执行命令，请确保 TongWeb 服务器已启动。 • 若使用 “离线模式” 执行命令，在执行命令的最后，添加 --offline 参数即可。 操作步骤 修改密码前，需要明确修改密码的功能模块（model）、支持的操作（action）以及参数。  关于命令行支持的功能模块(model)、支持的操作(action)，请参见支持的model、action。 1. 进入“${tongweb.home}/bin”目录。 2. 执行如下命令，查询修改密码的功能模块（model）为“password”。 sh commandstool.sh --help。 3. 执行如下命令，查看 password 命令支持的操作（action）和参数。 sh commandstool.sh -–model=password --help 25。 4. 执行 password 命令，修改默认密码。 ${tongweb.home}/bin>sh commandstool.sh --model=password --action=update --username=thanos。 --password=thanos123.com --acceptAgreement=true originalPassword=thanos123.com newPassword=Thanos12.com confirmPassword=Thanos12.com  密码中如果有特殊字符，需要加 “\” 进行转义。 参数 说明。 --model 与 --action 必选，表示操作的功能模块（password）以及具体的操作（update ）。 --username 与 --password 必选，由于需要访问 TongWeb 服务器，需要进行安全认证，因此每次 执行命令时，均需要携带 username 和 password 参数。 --acceptAgreement=true 必选，需要将 “acceptAgreement” 设置为 “true”，表示同意《许可协 议》，方可登录 TongWeb 服务器。 originalPassword、newPass word、confirmPassword 表示支持的参数，原始密码、新密码和确认密码。 若回显信息出现“修改密码更新成功”字样，则说明密码修改成功。 5. 密码修改成功后，即可使用修改后的密码，登录到 TongWeb 服务器。,"commandstool命令行工具, 执行单个命令, 使用"
如何使用commandstool 命令工具修改密码,首次使用 commandstool 工具执行相关命令前，请先使用 password 命令修改默认初始密码。 如下以 “修改默认初始密码” 为例演示如何使用 commandstool 工具执行命令。  密码中如果有特殊字符，需要加 “\” 进行转义。 TongWeb的默认账户信息如下所示。 • 用户名为“thanos”。 • 默认初始密码“thanos123.com”。 本示例将 TongWeb 默认初始密码修改为 “Thanos12.com”。 前置条件。 • 若使用 “在线模式” 执行命令，请确保 TongWeb 服务器已启动。 • 若使用 “离线模式” 执行命令，在执行命令的最后，添加 --offline 参数即可。 操作步骤 修改密码前，需要明确修改密码的功能模块（model）、支持的操作（action）以及参数。  关于命令行支持的功能模块(model)、支持的操作(action)，请参见支持的model、action。 1. 进入“${tongweb.home}/bin”目录。 2. 执行如下命令，查询修改密码的功能模块（model）为“password”。 sh commandstool.sh --help。 3. 执行如下命令，查看 password 命令支持的操作（action）和参数。 sh commandstool.sh -–model=password --help 25。 4. 执行 password 命令，修改默认密码。 ${tongweb.home}/bin>sh commandstool.sh --model=password --action=update --username=thanos。 --password=thanos123.com --acceptAgreement=true originalPassword=thanos123.com newPassword=Thanos12.com confirmPassword=Thanos12.com  密码中如果有特殊字符，需要加 “\” 进行转义。 参数 说明。 --model 与 --action 必选，表示操作的功能模块（password）以及具体的操作（update ）。 --username 与 --password 必选，由于需要访问 TongWeb 服务器，需要进行安全认证，因此每次 执行命令时，均需要携带 username 和 password 参数。 --acceptAgreement=true 必选，需要将 “acceptAgreement” 设置为 “true”，表示同意《许可协 议》，方可登录 TongWeb 服务器。 originalPassword、newPass word、confirmPassword 表示支持的参数，原始密码、新密码和确认密码。 若回显信息出现“修改密码更新成功”字样，则说明密码修改成功。 5. 密码修改成功后，即可使用修改后的密码，登录到 TongWeb 服务器。,"commandstool命令行工具, 修改密码"
如何查看commandstool 命令工具对某个功能支持的操作和参数,例如：查看 password 命令支持的操作（action）和参数 sh commandstool.sh -–model=password --help,"commandstool命令行工具, 帮助"
修改密码失败，且报 “连接失败，请检查连接的主机、端口是否正确或目标 TongWeb 是否已启动” 错 误。,可能的原因： 连接主机的端口号不正确，不再是默认的 “9060”。 解决方案：。 1. 打开 “${tongweb.base}/conf/tongweb.xml” 文件，获取控制台的实际端口。 2. 在执行命令中，添加 “--port”，指向控制台的实际端口。 关于解决该问题的更多信息，请参见《TongWeb_V8.0常见问题手册》的 “启动 TongWeb 服务器后，在 本机通过命令修改密码时报错？”。,"commandstool命令行工具, 修改密码失败"
如何使用commandstool 命令行工具批量执行命令,通过 --commandfile 参数批量执行命令。 将需要执行的多个命令行写进文件，文件类型不限（可以是 sh 、 bat 或者 txt ）。 • 若文件内多个命令行存在公共且配置相同的参数时，可拎出来执行，不需要每行均添加这些公共的参数。 • 若拎出来的参数与文件内的参数重复设置，文件内命令行设置的参数优先生效。 前置条件。 • 若使用 “在线模式” 执行命令，请确保 TongWeb 服务器已启动。 • 若使用 “离线模式” 批量执行命令，则添加 --offline 参数即可。 操作步骤。 1. 将多个命令写在一个“.txt”文件中，例如：cmdfile.txt。 说明： 文件里可以选择不写“./commandstool.[sh|bat]”，仅写可用参数。 --model=password --action=update --username=thanos --password=thanos123.com originalPassword=thanos123.com newPassword=Thanos12.con confirmPassword=Thanos12.con。 --username=thanos --password=Thanos12.com --model=consolesecurity --action=update trustedIP=192.168.22.185。 2. 进入 “${tongweb.home}/bin” TongWeb 安装目录。 3. 执行如下命令，批量执行命令。 文件路径以 “/home/tongweb/bin” 为例说明。 在线批量执行命令 sh commandstool.sh --acceptAgreement=true --commandfile=/home/tongweb/bin/cmdfile.txt 离线批量执行命令 sh commandstool.sh --acceptAgreement=true --commandfile=/home/tongweb/bin/cmdfile.txt --offline 说明：。 --acceptAgreement=true 和 --offline 为多个命令行的公共参数，其它公共参数同样可以拎出来执行，文件内 可以不重复书写。,"commandstool命令行工具, 批量执行命令"
cli命令行工具介绍,通过 cli 脚本，即可使用命令行方式来管理 TongWeb。 使用 cli 命令行工具交互式执行命令时，可通过 “Tab” 键提示或者自动补全参数。,"cli命令行工具, 批量执行命令"
cli命令行工具在哪里（工具路径在哪里）,cli 命令行工具路径，如下所示。 • Linux ${tongweb.home}/bin/cli.sh。 • Windows ${tongweb.home}/bin/windows/cli.bat,"cli命令行工具, 工具路径"
cli命令行工具在线模式怎么使用,• 在线模式 即在 TongWeb 服务器 “启动” 状态下，运行 “cli.[sh|bat]” 脚本。 ${tongweb.home}/bin>sh cli.sh 用户根据提示信息同意许可协议、输入用户名和密码连接 TongWeb 服务器。 连接成功后，即可使用命令对 TongWeb 进行管理。  在线模式下，支持对指定 TongWeb 实例执行相关操作。 通过添加 “targetType=instance targetName=instance_name” 普通参数的方式，指定实例名称即可。,"cli命令行工具, 在线模式"
cli命令行工具离线模式怎么使用,• 离线模式 即在 TongWeb 服务器 “未启动” 状态，运行 “cli.[sh|bat]” 脚本时，添加 --offline 。 ${tongweb.home}/bin>sh cli.sh --offline 用户根据提示信息同意许可协议、输入用户名和密码连接 TongWeb 服务器。 验证成功后，即可使用命令对 TongWeb 进行管理。 。 ◦ 离线模式下，支持对指定 TongWeb 实例执行相关操作。 通过添加 “--domain=domain_name” 参数指定实例名称即可完成。 例如： sh cli.sh domain_test --offline 。 ◦ 离线模式下，不指定 TongWeb 实例名称，则表示对默认实例 “domain1” 执行相关操作。,"cli命令行工具, 离线模式"
cli命令行工具使用前需要做什么操作吗？cli命令行工具安全认证具体怎么操作呢？,需要进行安全认证。 安全认证是系统应用资源受保护所需的认证。 cli 命令行工具在进入交互模式前，需要同意许可协议，并输入登录 TongWeb 的用户名和密码，进行一次安 全认证。 安全认证通过后，才能执行管理 TongWeb 的相关命令。 登录账号说明。 • 当仅需要获取监控信息时，建议使用系统资源监视管理员账户（如 monitor/monitor123.com）；。 • 当需要执行相关操作时，才建议使用系统管理员账户（如 thanos/thanos123.com）； 为了确保系统安全，每个账户只允许登录一个会话。如果您已使用 thanos 账户登录了控制台，那么再次 使用该账户访问命令行接口时，系统将自动中断您在控制台上的登录会话。,"cli命令行工具, 使用前置条件, 安全认证"
cli命令行工具如何使用？如何执行单个命令？如何修改密码？,首次使用 cli 工具执行相关命令前，请先使用 password 命令修改默认初始密码。 如下以 “修改默认初始密码” 为例演示如何使用 cli 工具执行命令。 TongWeb 的默认账户信息，如下所示。 • 用户名为 “thanos”。 • 默认初始密码 “thanos123.com”。 本示例将 TongWeb 默认初始密码修改为 “Thanos12.com”。 前置条件。 • 若使用 “在线模式” 执行命令，请确保 TongWeb 服务器已启动。 • 若使用 “离线模式” 执行命令，在运行 “cli.[sh|bat]” 脚本时，添加 --offline 。 操作步骤 以 Linux 环境为例说明。 1. 进入 “${tongweb.home}/bin” 目录。 2. 执行如下命令，运行 cli 命令行工具。 sh cli.sh 回显信息，如下所示。 ${tongweb.home}/bin> sh cli.sh Execute the command: cli 最终用户许可协议 一、特别提醒： …… Accept Agreement(Y or N):。 3. 输入 “Y”，同意许可协议。 Accept Agreement(Y or N): Y。 4. 输入登录 TongWeb 的用户名和密码，并按 “Enter”。 若成功连接到 TongWeb 服务器，则回显信息显示 TongWeb 相关版本信息，并进入交互式提示符 “$”。 用户只需要输入相关的命令，不用多次进行安全认证（携带用户名、密码和 “acceptAgreement”）。 Username: thanos Password: thanos123.com consumer_name:xxxx end_date:xxx TW_Version_Number:xx fileFrom: TW_Product_Name:TongWeb …… tongwebBase:/home/tongweb/domains/domain1 $。 5. 执行如下命令，即可修改初始密码。 。 ◦ 密码中如果有特殊字符，需要加 “\” 进行转义。 ◦ 用户可通过 “Tab” 键，提示或补全需要使用参数。 $--model=password --action=update originalPassword=thanos123.com newPassword=Thanos12.com confirmPassword=Thanos12.com 若回显信息提示 “修改密码更新成功” 字样，则说明修改初始密码成功。,"cli命令行工具, 如何使用, 执行单个命令, cli命令行工具修改密码"
cli命令行工具如何批量执行命令,通过 --commandfile 参数批量执行命令。 将需要执行的多个命令行写进文件，文件类型不限（可以是 sh 、 bat 或者 txt ）。 • 若文件内多个命令行存在公共且配置相同的参数时，可拎出来执行，不需要每行均添加这些公共的参数。 • 若拎出来的参数与文件内的参数重复设置，文件内命令行设置的参数优先生效。 前置条件。 • 若使用 “在线模式” 执行命令，请确保 TongWeb 服务器已启动。 • 若使用 “离线模式” 执行命令，在运行 “cli.[sh|bat]” 脚本时，添加 --offline 。 操作步骤 东方通应用服务器软件 TongWeb V8.0 命令行工具手册 30 东方通应用服务器软件 TongWeb V8.0 命令行工具手册。 1. 将多个命令写在一个“.txt”文件中，例如：cmdfile.txt。 说明： 公共参数可以拎出来执行，文件内可以不重复书写。 --model=password --action=update --username=thanos --password=thanos123.com originalPassword=thanos123.com newPassword=Thanos12.con confirmPassword=Thanos12.con。 --username=thanos --password=Thanos12.com --model=consolesecurity --action=update trustedIP=192.168.22.185。 2. 进入“${tongweb.home}/bin” TongWeb 安装目录。 3. 运行 cli 命令行工具，并同意许可协议、输入用户名和密码，进行安全认证。 4. 安全认证通过后，进入交互模式，并执行如下命令，批量执行命令。 文件路径以“/home/tongweb/bin”为例说明。 --commandfile=/home/tongweb/bin/cmdfile.txt,"cli命令行工具, 如何批量执行命令"
命令行工具基本参数有哪些,"命令行工具包含一些基本参数，这些参数适用于 “commandstool.[bat|sh]” 和 “cli.[bat|sh]” 工具的任何命 令。 用户可通过运行 “./commandstool.[bat|sh] --help” 或 “./cli.[sh|bat] --help” 查看支持的全量基本参数。 commandtools.[bat|sh] --model=model_name --action=action_name。 --username=username --password=password or --passwordfile=passwordfile_path。 --acceptAgreement=true [--agreement] [--host=localhost] (离线命令时不需要) [--port=9060] (离线命令时不需要) [--password2fa={Six-digit password}] [--secure={false|true}] [--method={GET|POST}] [--console=console] [key1=value1 key2=value2 ...] [--commandfile=commandfile_path] [--offline] (执行离线命令) [--domain=doamin_name] (指定离线命令的 TongWeb 域) [--encrypt=30819F...] [--lang={zh|en|...}] 基本参数的说明，如下表所示。 参数 是否必选 参数说明。 --model 是 指定要操作的功能模块的名称。 可以通过执行此命令来获取支持的模块名称列表 ：""commandtools.[bat|sh] --help""。 --action 是 指定要对模块执行的特定操作的名称。 模块支持的操作名称列表可以通过执行此命令来获取 ：""commandtools.[bat|sh] --model=modelname。 --help""。 --username 是 TongWeb 服务器的授权管理的用户名。 --password 是 TongWeb 服务器的授权管理的用户密码。 参数 是否必选 参数说明。 --passwordfile 是 设置 TongWeb 服务器的授权管理的用户密码的文件路径。 内容格式：""用户名=加密的密码""。 --acceptAgreement 是 请确保您已阅读并同意本产品的<许可协议>。 --agreement 否 阅读本产品的<许可协议>。 --host 否 设置目标 TongWeb 服务器管理控制台的访问 IP 或域名， 默认为 localhost。注：执行离线命令时，不需要指定。 --port 否 设置目标 TongWeb 服务器管理控制台的访问端口，默认为 9060。注：执行离线命令时，不需要指定。 --password2fa 否 用户开启动态密码，在登录系统时，输入动态密码，可免输 入账户密码。 --secure 否 设置是否使用 SSL 发送 HTTP 请求，需要根据目标 TongWeb 服务器上的管理通道确定，值为 true 或 false， 默认值为 true。 --method 否 设置用于发送 HTTP 请求的方法，可以是 GET 或 POST，默 认值为 GET。 --console 否 指定目标 TongWeb 服务器的管理控制台的访问前缀，其默 认值为 domain1 的 tongweb.xml 中指定的控制台应用程序 的访问前缀（console），此参数只在在线模式下生效。 [key1=value1 key2=value2 …] 否 设置要发送的参数，多个参数用空格分隔，格式如下 ：name=abc “street=99 Foxwood Rd”。 --commandfile 否 设置批量处理的命令行文件路径，文件内的命令参数优先级 高于命令窗口直接输入的参数。 --offline 否 添加此参数表示要在离线（目标 TongWeb 实例并未启动） 模式下执行命令。注：该参数不支持在命令文件内配置。 --domain 否 执行离线命令时有效，指定在哪个 TongWeb 域（实例）上 执行离线命令。注：该参数不支持在命令文件内配置。 --encrypt 否 设置远程 TongWeb 的“加密公钥”，从其“集中配置”模块可 获取到该参数，设置后，密码等安全相关的参数将会在传输 过程中自动加密。注：请不要使用“加密工具”在传输前对密 码进行预先加密。 参数 是否必选 参数说明。 --lang 否 设置交互使用的语言, zh:简体, zh_tr:繁體, en:English。 说明：。 • 若参数为boolean值（布尔值），则可以省略“=value”，参数的数值为描述属性的默认值。 • 参数的值若包含空格，如一些文件和地址等作为属性值，或者特殊字符如“&”等符号，需要将该属性用“” 包括起来，命令行才会识别。 例如：jdbcurl=""jdbc:mysql://localhost/tw?useUnicode=true&characterEncoding=GBK""。",命令行工具基本参数
命令行工具审计日志在哪里,命令行工具成功执行操作后，在目录“${tongweb.base}/logs/audit”中生成审计日志文件。,"命令行工具, 审计日志"
命令行工具在线模式使用示例,如下示例使用 commandstool 命令行工具部署 Web 应用。 以安装包中的 “examples.war” 为例说明，如下所示。 注意： 密码中如果有特殊字符需要加 \ 进行转义。 ${tongweb.home}/bin>sh commandstool.sh --model=app --action=add --username=thanos --password =Thanos12.com --acceptAgreement=true --host=localhost --port=9060 appFrom=fromUpload fromUpload =/home/test/examples/examples.war 参数说明 相关参数说明，如下表所示。 参数 参数说明。 --model TongWeb管理控制台菜单对应的功能模块名称。 您可以通过执行“commandstool.[bat|sh] --help”查看功能模块名称以及 功能模块介绍。 --action 功能模块包含的操作。 您可以通过执行“commandstool.[bat|sh] –model=modelname --help”查 看操作名称以及操作的详细介绍。 --username TongWeb服务器授权管理用户的用户名。 --password TongWeb服务器授权管理用户的密码。 --acceptAgreement 阅读并同意许可协议。 --host 应用部署的虚拟主机。 --port 监听网络请求的端口。 appFrom 应用来源，部署的应用可以从客户端上传，也可以通过服务端指定的位置 读取。可设置为“fromUpload”或者“fromServer”。 参数 参数说明 fromUpload 应用的位置。 服务器上应用程序的位置，通常是应用的程序包， 如“.war”、“.jar”、“.ear”、“.rar”。 验证部署结果。 1. 登录 TongWeb 管理控制台。 2. 在左侧导航栏中，选择“应用管理”>“应用”，进入应用列表页面。 3. 可查看到已部署的应用,"命令行工具, 使用示例, 使用例子, 在线模式"
命令行工具离线模式使用示例,如下示例使用 commandstool 命令行工具离线模式。 在命令行参数里添加 --offline 。 执行离线模式 以安装包中的 “examples.war” 为例说明，如下所示。 ${tongweb.home}/bin>sh commandstool.sh --model=app --action=add --username=thanos。 --password=Thanos12.com --acceptAgreement=true --host=localhost --port=9060 appFrom=fromUpload fromUpload=/home/test/examples/examples.war --offline 验证部署结果。 1. 登录 TongWeb 管理控制台。 2. 在左侧导航栏中，选择“应用管理”>“应用”，进入应用列表页面。 3. 可查看到已部署的应用。,"命令行工具, 使用示例, 使用例子, 离线模式"
如何通过命令行工具管理tongweb集群,通过命令行，操作集群下的实例。 1. 登录控制台创建名为 cluster0 的集群。 2. 单击该集群的 “管理” 即进入其管理页面，可部署应用或进行其它操作。 3. 通过命令行，查看该集群下的应用。 commandstool.bat --username=thanos --password=xxx --acceptAgreement=true --model=app --action=list targetType=cluster targetName=cluster0 操作单个实例或者节点，执行的命令跟集群类似。 ◦ 查看某个节点下的应用列表。 commandstool.bat --username=thanos --password=xxx --acceptAgreement=true --model=app。 --action=list targetType=node targetName=要查看的节点名称。 ◦ 查看某个实例下的应用列表。 commandstool.bat --username=thanos --password=xxx --acceptAgreement=true --model=app。 --action=list targetType=instance targetName=要查看的实例名称 以上命令中的参数说明，如下所示。 ◦ targetType：对应节点、集群、实例、注册实例的模块名，分别 为“node”、“cluster”、“instance”、“servicediscovery”。 ◦ targetName：对应节点、集群、实例、注册实例的名称。 38,"命令行工具, 管理tongweb集群"
命令行工具支持的model、action列表,"支持的 model、action 列表如下表所示，更多详细说明请参见模块参数。 模块 model action 访问日志 accesslog downloadfile, downloadlist, searchlog, show, update, weblog 进阶使用 advanced list, show 应用 app access, add, delete, list, monitor, show, start, stop, update 应用备份 appbackup add, delete, downloadfile, downloadlist, list, recover, show, update 应用数据源 appdatasource list, monitor, show 示例应用 applicationexampl es list, show 应用迁移 appmigration show, update 应用回收 apprecycle cleanup, delete, downloadfile, downloadlist, list, recover, show 应用模板 apptemplate add, delete, list, show, update 应用增量 appupdate add, delete, list, show 审计配置 auditconfig show, update 审计列表 auditlist add, delete, list, show, update 审计日志 auditlog list 阻塞线程 blockedthread forcestop, list, show 忙碌线程 busythread list, show 集中配置 centralizedconfig monitor, show 类资源分析 classloaded find, show, update 类加载结构 classloaderstruct tree 注册实例集群 cloudcluster list, show 集群 cluster access, add, delete, forcestop, gc, list, restartupgrade, show, start, stop, update 组合监视 combinedmonitor add, delete, list, monitor, show, update 通道 connector add, delete, list, monitor, show, start, stop, update 控制台安全 consolesecurity show, update 守护监视 daemonmonitor add, delete, downloadfile, downloadlist, list, monitor, show, update 数据源 datasource add, delete, list, monitor, show, update, validate 死锁线程 deadlockedthread forcestop, list, show EJB w3协议 ejbconnection downloadfile, downloadlist, monitor, show, update EJB http协议 ejbhttp downloadfile, downloadlist, show, update 加密工具 encryptor update 数据源集群 failoverdatasource add, delete, list, show, update, validate 我的收藏 favorites addfavorite, cancelfavorites, list, show 功能定制 feature show, update 首页 home home, monitor 虚拟主机 host add, delete, list, show, update 一键巡检 inspect add, delete, downloadfile, downloadlist, list, previewfile, show 实例 instance add, delete, downloadfile, downloadlist, forcestop, list, remove, restartupgrade, show, start, stop, update 实例模板 instancetemplate add, delete, downloadfile, downloadlist, list, show JavaMail 资源 javamail add, delete, list, show, update JCA 托管对象 jcaadminobject add, delete, list, show, update JCA 连接池 jcaconnectionpool add, delete, list, monitor, show, update Jdbc 模板 jdbcurltemplate add, delete, list, show, update 远程 JMX jmx show, update JNDI 树 jndi tree JNDI 资源 jndiresource add, delete, list, show, update JTA 事务 jta monitor, show, update JVM jvm gc, monitor JVM 配置 jvmconfig show, update 安全密钥 key show, update 公共类库 lib add, delete, list, show, update 产品授权 license show, update 负载均衡器 loadbalanceserver access, add, delete, downloadfile, downloadlist, forcestop, list, remove, restartupgrade, show, start, startconsole, stop, update 日志推送 logpush show, update 消息驱动 Bean mdb show, update 模式切换 modeswitch show, update 消息服务器 mqserver add, delete, forcestop, list, remove, show, start, stop, update 节点 node add, delete, downloadfile, downloadlist, forcestop, list, restartupgrade, show, start, stop, update, updateLic 系统通知 notice list, show 操作系统 operatingsystem monitor 脚本录制 operationrecordin g add, delete, downloadfile, downloadlist, finish, list, show OSGi 应用 osgibundle add, delete, list, show, start, stop OSGi 服务 osgiservice show, update OTLP 支持 otlp show, update 概览 overview os, server 修改密码 password key, update, validate 进程安全 processsecurity add, delete, list, show, update Prometheus 服务 prometheus show, update 安全域 realm add, delete, list, show, update 安全域用户 realmuser add, delete, list, show, update 注册中心 registry add, delete, list, show, update 角色 role add, delete, list, show, update 安全策略 security show, update 全局配置 server downloadfile, downloadlist, show, update 服务器日志 serverlog downloadfile, downloadlist, monitor, searchlog, show, update, weblog 注册实例 servicediscovery list, show 会话服务器 sessionha add, delete, list, show, update, validate TongDataGrid sessionserver add, delete, forcestop, list, remove, show, start, stop, update 单例 EJB singleton show, update 短信服务 sms add, delete, list, show, update 快照文件 snapshotfile add, delete, downloadfile, downloadlist, list, show 采集模板 snapshottemplate add, delete, list, show, update SNMP 服务 snmp show, update 启动策略 startpolicy show, update 启动参数 startupargs add, delete, list, show, update 有状态 EJB stateful show, update 无状态 EJB stateless show, update 静态度量 staticmetrics add, delete, list, show 支持列表 support downloadfile, downloadlist, list, show 线程池 threadpool add, delete, list, monitor, show, update 预警策略 thresholdstrategy add, delete, list, show, update 可信授权 trustedauthority downloadfile, downloadlist, show, update 可信文件 trustedfiles list, show 可信策略 trustedpolicy add, delete, list, show 可信进程 trustedprocess add, delete, list, show 产品升级 upgrade add, delete, list, show 管理员 user add, delete, list, show, update 权限分配 userrole list, show, update 版本生成 version add, delete, downloadfile, downloadlist, list, show 工作管理器 workmanager add, delete, list, show, update","命令行工具, model列表, action列表"
错误对照码有哪些？,• 000：%s。 • 001：部署应用的名称或ID冲突，例如EJB应用的名字已被其它应用占用。 • 002：请检查实例或集群状态。 • 003：未找到所需要的文件或文件访问权限受限：%s。 • 004：启用JTA支持，要求驱动类型为XA类型，您也可以配置JTA事务允许非XA事务分支。 • 005：使用指定的驱动和URL无法连接到数据库。 • 006：指定的目录或文件没有创建成功。 • 007：PersistenceUnit需要JTA支持，但没有定义支持JTA的数据源。 • 008：数据库驱动类加载失败，请确保已经正确配置了数据库 JDBC 驱动包。 • 009：文件须是 *.zip 类型的。 • 010：服务器正在启动中或相关服务尚未就绪，请稍后重试。 • 011：无法加载 servlet 类：%s。 • 012：没有这样的方法，类型：%s，操作：%s。 • 013：数据源资源 (%s) 未找到且未成功自动创建。 • 014：请检查端口 [%s] 是否正确。 • 015：远程服务器[%s:%s]请求错误：%s。 请查看日志以获取详细信息。 • 016：配置文件[%s]没有找到。 • 017：尝试指定应用程序附带的 JSF 实现的使用。 • 018：无法正常识别应用类型，请检查要部署的应用文件是否合法。 • 019：部署的应用程序名称不支持包含特殊字符，例如#: %s。 • 020：找不到应用备份。 • 021：应用程序增量更新文件必须是 *.zip 类型。 • 022：不支持删除系统预置的通道：%s。 • 023：不支持停止系统预置的通道：%s。 • 024：不支持删除系统预置的虚拟主机。 • 026：SSH身份验证失败，请检查用户名、密码或密钥是否正确。 • 027：SSH获取执行结果超时，请检查执行状态或重试。 • 028：SSH获取执行发生未知异常，请查看日志详情。 • 029：安全域连接异常，请检查连接信息。 • 030：当前服务器正在运行中，不支持此操作，请停止后重试。 • 031：不支持构建的版本类型[ %s ]。 • 032：证书密码不正确。 • 033：不是一个有效的升级文件。 • 034：该版本正在被域 [ %s ] 使用，不可进行更新、删除等操作。 • 035：实例[%s]获取remotekey失败，请检查remotekey配置。 • 036：名称[%s]已被使用，如列表中没有，请检查节点的domains目录下是否已存在同名文件夹。 • 037：应用端口[%s]已被使用。 • 038：管理端口[%s]已被使用。 • 039：不支持。 • 040：请检查节点[%s]是否启动或管理端口[%s]是否配置正确。 • 041：未找到节点[%s]。 • 042：轻量模式下不支持部署 *.jar(ejb) *.ear *.rar 类型的应用，请选择 *.war 类型的应用文件。 • 043：文件权限不足:%s。 • 044：端口[%s]已被使用。 • 045：须是一个合法的目录。 • 046：无法创建符号链接，可能是因为缺少必要的权限。 • 047：该类型的版本已存在，无需再次生成。 • 048：已经存在相同名称的应用。 • 049：转换为TongWeb应用时发生异常，应用部署失败。 • 050：类 %s 未找到。 • 051：公钥参数错误。 • 052：admin 通道重启中，请稍后再试。 • 053：Redis身份验证失败，请检查用户名、密码是否正确。 • 054：Redis连接异常，请检查redis服务是否启动或者网络是否能够连接。 • 055：OSGi 服务异常。 • 056：OSGi 服务未启动。 • 057：文件须是 *.jar 类型的。 • 060：不被信任的文件：%s。 • 061：连接注册中心失败，原因：%s,错误对照码
TongWeb自身安全配置项影响应用使用吗,TongWeb自身安全配置项，基本不影响应用，为建议配置项,"TongWeb安全加固, TongWeb自身安全配置项"
TongWeb自身安全配置项有哪些？,01. 以普通用户安装TongWeb。 02. TongWeb使用端口及防火墙开通策略。 03. 可选择性的关闭TongWeb控制台。 04. 开启动态密码。 05. 修改TongWeb默认密码。 06. 设置信任IP。 07. 开启访问日志。 08. 控制台禁止远程文件上传,"TongWeb安全加固, TongWeb自身安全配置项"
TongWeb以什么用户进行安装？,在Linux操作系统以普通用户安装并运行TongWeb，避免采用root用户导致TongWeb权限过大。  若项目需要使用80端口，仍需root用户,"TongWeb安全加固, TongWeb自身安全配置项, 普通用户, root用户"
TongWeb使用到的端口有哪些？,服务程序 功能 默认端口 端口作用 TongWeb 提供服务的核心进程 8088 默认应用访问端口 9060 默认控制台端口 7200 JMX端口，默认关闭 5200 EJB w3远程端口，默认关闭 TongWeb MQ 消息服务器 7676 JMS服务端口 TongDataGrid 内存会话服务器 5701 session复制端口,"TongWeb安全加固, 端口"
TongWeb防火墙开通策略是什么,防火墙设置基本原则：对外用户访问只暴露应用访问端口，其它端口为TongWeb内部进程通信端口，只需对 内放开，切勿对外暴露。 禁止在互联网暴露9060/console控制台，会被当做攻击对象。,"TongWeb安全加固, TongWeb自身安全配置项, 防火墙开通策略"
如果不常用TongWeb控制台建议关闭吗?TongWeb有安全问题吗？,"TongWeb控制台为常被攻击的对象，在不常使用TongWeb控制台维护的情况下，可关闭控制台。 将“${tongweb.home}/conf/tongweb.xml”中的 http-listener 端口状态设为“stopped”即关闭控制台。 <http-listener name=""system-http-listener"" port=""9060"" status=""stopped""/> 影响范围：这期间无法使用TongWeb控制台。","TongWeb安全加固, TongWeb自身安全配置项, 关闭控制台关闭"
TongWeb什么时候需要开启动态密码？,因 TongWeb 一般安装在内网，邮件认证不便，可通过动态密码方式开启动态密码，该扫码方式无需 TongWeb 联网，具体操作见《TongWeb_V8.0控制台使用手册》。 影响范围：登录TongWeb控制台需要手机扫码登录,"TongWeb安全加固, TongWeb自身安全配置项, 开启动态密码"
TongWeb首次登录需要修改默认密码吗？需要注意什么？,首次登录TongWeb控制台需修改密码。 除修改thanos密码外，另外三个用户security、auditor、monitor也需要修改默认密码。 影响范围：因修改控制台密码后可能会忘记密码造成不便，所以请妥善保管密码。,"TongWeb安全加固, TongWeb自身安全配置项, 首次登录, 修改默认密码"
如何让某些ip才能访问控制台？如何设置信任ip？,限制访问控制的客户端IP可进行如下设置，切忌设置为 *。 集中管理——>安全配置——>控制台安全——>基本属性——>信任ip，根据要求设置即可。 指定信任的客户端 IP 地址，其值可为具体的 IP、匹配 IP 的正则表达式或通配符 IP（如：168.1.2.*，168.1.4.5-168.1.4.99）。远程的客户端只有在被设置为信任后，才可进行首次默认密码更改、文件上传等敏感操作。注：不设置表示只有 TongWeb 的安装机器受信任，设置为 * 表示信任所有机器（不建议）。 影响范围：TongWeb控制台只允许指定的客户端IP访问。,"TongWeb安全加固, TongWeb自身安全配置项, 信任ip, 指定的客户端ip"
TongWeb受到客户端攻击时，如何知道客户端来源？,访问日志默认没有开启，开启访问日志需登录控制台，在日志管理中开启访问日志配置。 影响范围：无，在遭受客户端攻击时，可通过访问日志分析客户端来源,"TongWeb安全加固, TongWeb自身安全配置项, 客户端来源"
控制台禁止远程文件上传的好处与影响？,禁用文件上传可以在很大程度上保护系统的安全，禁用后，攻击者将不能再通过 TongWeb 控制台来进行部署木马应用、上传恶意程序等操作。禁用文件上传后，您仍然可以选择服务器上已有的文件来进行相关操作。注：出于安全考虑，建议保持禁用文件上传功能。 影响范围：无法通过控制台上传应用包。,"TongWeb安全加固, TongWeb自身安全配置项, 禁止远程文件上传"
应用相关安全配置项会有哪些影响？,应用相关安全配置项，从安全角度需要开启，但开启后可能会影响到应用正常使用，请酌情考虑。,"TongWeb安全加固, 应用相关安全配置项"
应用相关安全配置项有哪些？,01. 会话与Cookie。 02. 应用安全配置项。 03. 全局安全策略。 04. SSL配置相关,"TongWeb安全加固, 应用相关安全配置项"
全局安全策略文件防篡改对应参数及说明？,"控制台界面：安全策略——>文件防篡改 属性及属性说明，如下表所示。 持久化位置：conf/tongweb.xml:tongweb>server>security configProtection ：服务器主配置文件防篡改 开启后，禁止在 TongWeb 运行期间对主配置文件tongweb.xml、console.xml、default-web.xml 等进行修改。若被意外篡改，则自动进行恢复。 fileProtectionPattern：应用防篡改文件后缀 指定应用的防止篡改的文件的后缀。在应用部署后，对应用的所有原始文件进行周期性（由服务器“全局配置”>“定时任务周期”指定）的检测。当发现文件被篡改后，尝试恢复到原文件。配置防篡改文件后缀，表示开启该功能；不配置，则不开启。防篡改文件后缀格式为 .html, .png, .jpg等，多个后缀以英文逗号分隔。注意：同时开启热加载和防篡改功能，可能存在冲突，建议不要同时开启。","TongWeb安全加固, 应用相关安全配置项, 全局安全策略, 文件防篡改"
如何针对客户端的主机名拦截访问呢？,控制台界面：安全策略——>客户端拦截——>客户端主机名拦截（开启） 属性及属性说明，如下表所示。 持久化位置：conf/tongweb.xml:tongweb>server>security filterRemoteHost：客户端主机名拦截 出于安全等考虑，拦截特定主机名的客户端请求，请求被拦截后将得到 403 响应码。注：本机访问不受限制。 allowHost：允许的主机名 指定允许的主机名，其值可为具体的主机名称或匹配主机 名称的正则表达式。注：需要通道允许 DNS 反向查找。 denyHost：拒绝的主机名 指定拒绝的主机名，其值可为具体的主机名称或匹配主机 名称的正则表达式。注：需要通道允许 DNS 反向查找， 拒绝的主机名拦截优先于允许的主机名,"TongWeb安全加固, 应用相关安全配置项, 全局安全策略, 客户端拦截, 主机名拦截, 允许的主机名, 拒绝的主机名"
如何针对客户端IP拦截访问呢？,控制台界面：安全策略——>客户端拦截——>客户端 IP 拦截（开启） 属性及属性说明，如下表所示。 持久化位置：conf/tongweb.xml:tongweb>server>security filterRemoteAddr：客户端 IP 拦截 出于安全等考虑，拦截特定 IP 的客户端请求，请求被拦截后将得到 403 响应码。注：本机访问不受限制。 allowAddr：允许的 IP 指定允许的 IP，其值可为具体的 IP、匹配 IP 的正则表达 式或通配符 IP（如：168.1.2.*，168.1.4.5-168.1.4.99）。 denyAddr ：拒绝的IP 指定拒绝的IP，其值可为具体的 IP、匹配 IP 的正则表达式或通配符 IP（如：168.1.2.*，168.1.4.5-168.1.4.99）。注：拒绝的 IP 拦截优先于允许的 IP。,"TongWeb安全加固, 应用相关安全配置项, 全局安全策略, 客户端拦截, 客户端IP拦截, 允许的IP, 拒绝的IP"
如何防止客户端的SDOS攻击呢？,控制台界面：安全策略——>客户端拦截——>SDOS 攻击拦截（开启） 属性及属性说明，如下表所示。 持久化位置：conf/tongweb.xml:tongweb>server>security denySdos：SDOS 攻击拦截 检测并拦截 SDOS 攻击。 sdosTimeThreshold：SDOS 探测阈值（秒） 当一个请求的处理时间超过此 SDOS 探测阈值时，则将该请求判定为 SDOS 攻击。 sdosCountThreshold：SDOS 次数阈值 当一个客户端（通常是浏览器）发出的请求被判定为SDOS 攻击的次数超过此 SDOS 次数阈值，则阻止该客户端 IP 地址的一切请求。 sdosUnblockPeriod：解除阻止周期（小时） 被阻止的客户端 IP 将在一个周期后自动解。,"TongWeb安全加固, 应用相关安全配置项, 全局安全策略, 客户端拦截, SDOS, 攻击拦截"
协议头安全是怎样从Host Header证安全的？,控制台界面：安全策略——>协议头安全——>Host Header 拦截（开启） 属性及属性说明，如下表所示。 持久化位置：conf/tongweb.xml:tongweb>server>security hostHeaderFilter Host：Header 拦截 开启 Host Header 拦截后，将会从请求头“Host”中解析主机名和 IP 地址，只有符合规则的请求才可以访问本主机。注：本机访问不受限制。 allowHostHeader：允许的 Host 支持正则表达式，依照此规则对 Host 中的主机进行校验，如192.168.1.([0-9]*):9060|www.tw.com；未设置此规则，表示不进行该校验。注：“允许的 Host”校验的优先级低于“拒绝的 Host”。 denyHostHeader：拒绝的 Host 支持正则表达式，依照此规则对 Host 中的主机进行校验，如192.168.1.([0-9]*):9060；未设置此规则，表示不进行该校验。注：“允许的 Host”校验的优先级低于“拒绝的Host”。,"TongWeb安全加固, 应用相关安全配置项, 全局安全策略, 协议头安全, Host, Header拦截"
协议头安全是怎样从referer拦截保证安全的？,控制台界面：安全策略——>协议头安全——>referer拦截（开启） 属性及属性说明，如下表所示。 持久化位置：conf/tongweb.xml:tongweb>server>security refererFilter：referer 拦截 开启 referer 拦截后，将会从请求头“referer”中解析主机名和IP地址。只有符合规则的请求才可以访问本主机。注：本机访问不受限制。 allowReferer：允许的 referer 指定允许访问本主机的域名或者 IP，支持正则表达式。依 照此规则对 referer 中的主机进行校验。未设置此规则，表示不进行该校验。注：“允许的 referer”校验的优先级低于“拒绝的 referer”。 denyReferer ：拒绝的 referer 指定不允许访问本主机的域名或者 IP，支持正则表达式。依照此规则对 referer 中的主机进行校验。未设置此规则，表示不进行该校验。注：“允许的 referer”校验的优先级低于“拒绝的 referer”。,"TongWeb安全加固, 应用相关安全配置项, 全局安全策略, 协议头安全, referer拦截"
协议头安全是怎样通过响应头防护保证安全的？,控制台界面：安全策略——>协议头安全——>响应头防护（开启） 属性及属性说明，如下表所示。 持久化位置：conf/tongweb.xml:tongweb>server>security responseHeader：响应头防护 可对响应头添加特定的消息，以通知浏览器进行必要的安 全操作。 antiClickJackingEnabled：X-Frame-Options 站点可以通过确保网站没有被嵌入到别人的站点里面，从 而避免 点击劫持攻击。 antiClickJackingOption：X-Frame策略 DENY：页面不允许在frame中展示；SAMEORLGIN：页面可以在相同域名页面的frame中展示；ALLOW-FROM：页面可以在指定来源的 frame 中展示。 antiClickJackingUri： 指定来源 页面可以在指定来源的 frame 中展示，示例:http://ip:port 或者 http://ip:*。注：若是多个地址，需要使用空格隔开。 hstsEnabled：Strict-Transport Security 通知浏览器，网站禁止使用 HTTP 方式加载，浏览器应该自动把所有尝试使用 HTTP 的请求自动替换为 HTTPS 请求。 blockContentTypeSniffingEnabled：X-Content-Type Options 禁止浏览器的类型猜测行为。 xssProtectionEnabled：X-XSS-Protection 当检测到跨站脚本攻击 (XSS)时，浏览器将停止加载页面,"TongWeb安全加固, 应用相关安全配置项, 全局安全策略, 协议头安全, 响应头防护"
应用如何反爬虫？,控制台界面：安全策略——>反爬虫（开启） 属性及属性说明，如下表所示。 持久化位置：conf/tongweb.xml:tongweb>server>security enableCrawlerSessionManager：反爬虫管理 Web 爬虫在爬取站点时会触发数千个会话的创建，这可能会导致大量内存消耗。此功能确保爬虫与单个会话相关联- 就像普通用户一样 - 无论他们是否在请求中提供会话令牌。 sessionInactiveInterval：爬虫会话超时时间 指定爬虫会话的会话超时（单位：秒），通常应小于用户会话时间。 crawlerIps：识别爬虫 IP 设置匹配 IP 的正则表达式或通配符 IP（如：168.1.2.*，168.1.4.5-168.1.4.99）来识别爬虫会。 crawlerUserAgents：识别爬虫 User-Agent 设置匹配 User-Agent 的正则表达式来识别爬虫。,"TongWeb安全加固, 应用相关安全配置项, 全局安全策略, 反爬虫"
SSL相关漏洞问题及解决方法？,"SSL相关漏洞和问题如下：。 1. CVE-2015-2808： SSL/TLS 受诫礼(BAR-MITZVAH)攻击漏洞。 2. CVE-2014-3566： SSLv3在降级的旧版加密漏洞（POODLE）。 3. CVE-2016-0800： SSL DROWN攻击漏洞。 4. CVE-2016-0800： SSL DROWN攻击漏洞。 5. SSL证书非正式可信证书等。 解决以上漏洞和问题的方法： 第一步：制作证书由用户方提供。 1. 用户制作证书请求时需使用OpenSSL最新版本，老版本OpenSSL有安全漏洞。 2. 制作的证书密码位数要符合安全要求。 3. 如果是在THS、Apache、nginx上配的SSL，则在THS、Apache、nginx上解决漏洞。 第二步：在TongWeb上配置SSL证书。 1. 勾选相应TLS协议。 2. 在“启用密码套件”中配置安全的算法，比如以下算法： TLS_ECDHE_RSA_WITAES_128_CBC_SHA256,TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA,TLS_ECDHE _RSA_WITH_AES_256_CBC_SHA384,TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA,TLS_RSA_WITH_AES_ 128_CBC_SHA256,TLS_RSA_WITH_AES_128_CBC_SHA。 3. 在TongWeb使用的JDK中“jre\lib\security\java.security”配置禁用不安全的SSL协议和算法，如下： #JDK8 默认配置如下： jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \ DH keySize < 1024, EC keySize < 224, 3DES_EDE_CBC, anon, NULL, \ include jdk.disabled.namedCurves","TongWeb安全加固, SSL配置, SSl漏洞, 漏洞处理"
如何强制使用https访问应用？,控制台界面： Web容器——>通道——>安全 开启SSL（开启） HTTP重定向（开启）,"TongWeb安全加固, SSL配置, https访问"
如何防止应用受到XSS攻击？,应用——>安全 持久化位置：conf/tongweb.xml:tongweb>server>applications>app XSSFilterEnabled：XSS 攻击拦截 拦截可疑的 XSS 攻击请求，通常是含有 script、<、> 等特殊标记的请求，以 403 响应码返回到客户端。,"TongWeb安全加固, 应用相关安全配置项, XSS攻击"
REST API 是什么？,REST 接口是基于 HTTP 协议的 REST 风格的管理接口，返回的数据为 json 格式，可便于外部模块或系统调用，适用于系统集成等方面。,"REST, API"
怎么获取REST代码示例？,TongWeb8标准产品包中包含关于生成 REST 代码示例，请参见 “${tongweb.home}\version*\examples\examples.war” 的“JMX & REST Examples”示例,"REST, API, 代码示例"
REST接口规范是什么？,REST 接口的 URL 请求格式： https://localhost:9060/console/rest/json/{模块名}/{操作名}/{可选ID} 参数说明，如下所示。 • localhost:9060 根据需要修改为实际使用的 TongWeb 的 IP 和端口。 • {模块名}/{操作名} 针对具体模块执行的操作，模块和操作的列表详见支持的 model、action。 • {可选ID} 可选，模块（model）支持的参数 name 对应的值。 例如：查看应用备份，name 值为应用备份的名称，以 “examples.BackupFlag20221208122655” 为例 说明。 https://localhost:9060/console/rest/json/appbackup/show/examples.BackupFlag20221208122655,"REST, API, 请求格式, 参数说明"
REST接口的认证方式有哪些？,REST 接口是被安全机制保护的，需使用系统用户名和密码认证，认证方式有两种，分别是 ”登录认证“ 和 ” 免登录认证“。 若 console 开启了 CSRF 防护功能（默认是开启的），则需要同时基于 CSRF 令牌来使用。,"REST, API, 登录认证, 免登录认证, CSRF防护"
开启CSRF防护时REST接口怎么进行登录认证？,访问：https://localhost:9060/console/j_login?j_username=monitor&j_password=password& acceptAgreement=true。 • j_username：登录 TongWeb 的用户名。 • j_password：登录 TongWeb 的密码。 • acceptAgreement：许可证协议。 从响应头 “csrf.token” 中获取令牌后，在后续REST接口操作中携带此令牌 通过请求头附带获取的令牌。 https://localhost:9060/console/rest/json/server/monitor? csrf.token=DE08346846E11935B6B9F7F84117BA26,"REST, API, 登录认证, csrf.token, JSESSIONID, Cookie"
未开启CSRF防护时REST接口怎么进行登录认证？,访问：https://localhost:9060/console/j_login?j_username=monitor&j_password=password& acceptAgreement=true。 • j_username：登录 TongWeb 的用户名。 • j_password：登录 TongWeb 的密码。 • acceptAgreement：许可证协议。 认证通过（响应头为 Location=/console/rest/html/home/index）后，服务器以 Cookie 返回 JSESSIONID，随后的请求携带此 Cookie 即可正常使用 REST 接口。,"REST, API, 登录认证, csrf.token, JSESSIONID, Cookie"
REST接口怎么进行免登录认证？,每次访问具体的 REST 接口时，将参数 j_username 和 j_password 以 GET 请求参数的形式放置在 url 中，即 可通过验证并正常使用接口。 REST 接口的 URL 请求格式： https://localhost:9060/console/rest/json/{模块名}/{操作名}/{可选ID}?j_username=user& j_password=password&acceptAgreement=true 参数说明。 • j_username：登录 TongWeb 的用户名。 • j_password：登录 TongWeb 的密码。 • acceptAgreement：许可证协议。 用户名/密码说明。 • 当仅需要获取监控信息时，建议使用系统资源监视管理员账户（如 monitor/monitor123.com）；。 • 当需要执行相关操作时，才建议使用系统管理员账户（如 thanos/thanos123.com）； 为了确保系统安全，每个账户只允许登录一个会话。如果您已使用 thanos 账户登录了控制台，那么再次 使用该账户访问 REST 接口时，系统将自动中断您在控制台上的登录会话。,"REST, API, 用户说明, 免登录认证"
REST接口进行登录认证时，怎么保障密码的安全？,"通过 REST 接口，进行登录认证时，为了保证密码的安全性，建议使用加密后的密码。 TongWeb 提供了加密工具。 工具路径 ${tongweb.home}/version*/sysapp/console/WEB-INF/lib/tongweb-web-console-framework.jar 类方法 encryptWithPubKey 示例说明： 如 com.tongweb.sdk.util.TongWebUtils.encryptWithPubKey(password, transferKey)。 • password：登录 TongWeb 控制台的密码，如默认账号 monitor 的密码 “monitor123.com”。 • transferKey：进入 “集中管理” > “服务管理” > “集中配置”，在 “加密公钥” 文本框中，获取加密公钥。","REST, API, 密码加密, 加密工具, 加密公钥"
REST接口怎么注销令牌或者cookie？,使用完成后，需要及时注销会话。访问 https://localhost:9060/console/login.jsp?invalidate 接口（注意： 仍需携带上述的 Cookie 和 令牌），即可注销。 免登录认证，每次请求完成后会自动注销，无需手动操作,"REST, API, 注销, 令牌, 免登录认证"
REST接口错误码是什么意思？,• 001：部署应用的名称或ID冲突，例如EJB应用的名字已被其它应用占用。 • 002：请检查实例或集群状态。 • 003：未找到所需要的文件或文件访问权限受限：%s。 • 004：启用JTA支持，要求驱动类型为XA类型，您也可以配置JTA事务允许非XA事务分支。 • 005：使用指定的驱动和URL无法连接到数据库。 • 006：指定的目录或文件没有创建成功。 • 007：PersistenceUnit需要JTA支持，但没有定义支持JTA的数据源。 • 008：数据库驱动类加载失败，请确保已经正确配置了数据库 JDBC 驱动包。 • 009：文件须是 *.zip 类型的。 • 010：服务器正在启动中或相关服务尚未就绪，请稍后重试。 • 011：无法加载 servlet 类：%s。 • 012：没有这样的方法，类型：%s，操作：%s。 • 013：数据源资源 (%s) 未找到且未成功自动创建。 • 014：请检查端口 [%s] 是否正确。 • 015：远程服务器[%s:%s]请求错误：%s。 请查看日志以获取详细信息。 • 016：配置文件[%s]没有找到。 • 017：尝试指定应用程序附带的 JSF 实现的使用。 • 018：无法正常识别应用类型，请检查要部署的应用文件是否合法。 • 019：部署的应用程序名称不支持包含特殊字符，例如#: %s。 • 020：找不到应用备份。 • 021：应用程序增量更新文件必须是 *.zip 类型。 • 022：不支持删除系统预置的通道：%s。 • 023：不支持停止系统预置的通道：%s。 • 024：不支持删除系统预置的虚拟主机。 • 026：SSH身份验证失败，请检查用户名、密码或密钥是否正确。 • 027：SSH获取执行结果超时，请检查执行状态或重试。 • 028：SSH获取执行发生未知异常，请查看日志详情。 • 029：安全域连接异常，请检查连接信息。 • 030：当前服务器正在运行中，不支持此操作，请停止后重试。 • 031：不支持构建的版本类型[ %s ]。 • 032：证书密码不正确。 • 033：不是一个有效的升级文件。 • 034：该版本正在被域 [ %s ] 使用，不可进行更新、删除等操作。 • 035：实例[%s]获取remotekey失败，请检查remotekey配置。 • 036：名称[%s]已被使用，如列表中没有，请检查节点的domains目录下是否已存在同名文件夹。 • 037：应用端口[%s]已被使用。 • 038：管理端口[%s]已被使用。 • 039：不支持。 • 040：请检查节点[%s]是否启动或管理端口[%s]是否配置正确。 • 041：未找到节点[%s]。 • 042：轻量模式下不支持部署 *.jar(ejb) *.ear *.rar 类型的应用，请选择 *.war 类型的应用文件。 • 043：文件权限不足:%s。 • 044：端口[%s]已被使用。 • 045：须是一个合法的目录。 • 046：无法创建符号链接，可能是因为缺少必要的权限。 • 047：该类型的版本已存在，无需再次生成。 • 048：已经存在相同名称的应用。 • 049：转换为TongWeb应用时发生异常，应用部署失败。 • 050：类 %s 未找到。 • 051：公钥参数错误。 • 052：admin 通道重启中，请稍后再试。 • 053：Redis身份验证失败，请检查用户名、密码是否正确。 • 054：Redis连接异常，请检查redis服务是否启动或者网络是否能够连接。 • 055：OSGi 服务异常。 • 056：OSGi 服务未启动。 • 057：文件须是 *.jar 类型的。 • 060：不被信任的文件：%s。 • 061：连接注册中心失败，原因：%s,"REST, API, 错误对照表"
${tongweb.home}和${tongweb.base}分别代表什么,${tongweb.home}是指用户具体的TongWeb安装路径。 ${tongweb.base是指TongWeb实例运行路径。例如，默认实例运行路径 为“${tongweb.home}/domains/domain1”。,"安装, tongweb.home, tongweb.base"
TongWeb8可以安装到哪些平台环境上？,TongWeb8支持的平台环境如下： 操作系统：。 • Windows Microsoft Windows 系列。 • Linux RedHat 系列、Suse Linux 系列、麒麟操作系统、统信 uos 操作系统、中科方德 操作系统等。 • Mac OS Mac OS 系列 芯片： 支持国内主流的 ARM、X86、MIPS、LoongArch 芯片架构。 例如：华为鲲鹏(ARM)、飞腾(ARM)、海光(X86)、兆芯(X86)、龙 芯(MIPS/LoongArch)等。 数据库: 主流数据库：Oracle、MySQL5、MySQL8、Sybase。 15、dameng、Kingbase、Kingbase8、Oscar、HSQL、Sybase type 4 for Sybase。 11.x、jtds sybase、postgreSQL、SQLServer、Derby Client、Derby Embedded、IBM Type。 4、gbase8t、gbase8s、sr、db2、highgo、uxdb、GaussDB 100、InspurK_x0002_DB、linkoopdb、oceanbase、MogDB 等。,"安装, 操作系统, cpu, 数据库"
TongWeb8对内存和硬盘空间的要求是什么？,内存：不低于80MB 硬件空间：至少需要 1024MB 磁盘空间,"安装, java, 内存, 磁盘, 浏览器"
TongWeb8支持哪些版本的java环境？,JDK8-JDK21。 • 支持 Oracle JDK，但部分 Oracle JDK 版本商用收费，在生产使用时请注意商业 授权，或采用 Open JDK、Tong JDK。 • 启用国密认证，JDK 要求 JDK8-JDK11。 • 使用虚拟线程，JDK 要求 JDK21。 • 需要安装 JDK，不能仅安装 JRE。仅安装 JRE 会导致 TongWeb 部分功能不能使 用。 • Linux 下若使用 IBM JDK，则需要手动放置如下 jar 包到 “${tongweb.home}/lib/compatible” 目录，否则启动 TongWeb 失败。 ◦ JDK 8.0 bcprov-jdk15on-1.70.jar。 ◦ JDK 8.0+ bcprov-jdk18on-1.78.1.jar,"安装, java, 内存, 磁盘, 浏览器"
TongWeb8的推荐最低配置是什么？,推荐最低配置：4核CPU、4G内存、20G硬盘,"安装, java, 内存, 磁盘, 浏览器"
如何获取TongWeb8安装包？,已购买 TongWeb 产品，在TongWeb 产品光盘中提供 TongWeb 安装包。,"安装, 光盘"
如何获取TongWeb8的license？,安装 License 后，才能启动 TongWeb，可选择 “本地授权” 或者 “服务授权”。 • 本地授权：通过提供的 license.dat 文件进行本地授权。 • 服务授权：通过 License Server 服务进行远程服务授权。 类型 获取 license 描述 本地授权 license.dat 购买 TongWeb 产品后，TongWeb 产品光盘中提供 了 license.dat 授权认证文件。 服务授权 License Server 安装包 购买 TongWeb 产品后，发货的同时发 License Server 安装包。 关于如何搭建 License Server 服务，详见《License Server_V4.5安装部署手册》。 说明： TongWeb 支持轻量版、标准版、企业版、教学版及容器云版。 版本功能差异通过 license 进行控制，请获取指定版本的 license。,"安装, 本地授权, 服务授权, license"
如何安装TongWeb8？,完成安装包解压即完成 TongWeb 产品的安装。 支持在 Kubernetes（k8s）平台上通过 Operator 部署 TongWeb，详情请咨询东方通相关人员。 获取的安装包以 “TongWebx.x.x.x.tar.gz” 为例说明。 Windows 平台 将安装包拷贝到待安装 TongWeb 的目录，解压到的目录即为产品的安装目录。 Linux 平台。 1. 将安装包拷贝到待安装 TongWeb 的目录。 2. 执行如下命令，解压安装包，解压后的目录即为产品的安装目录。 tar -zxvf TongWebx.x.x.x.tar.gz,"安装, 安装目录, windows, linux"
怎么使用本地授权文件？,通过读取本地的 “license.dat” 文件的方式进行授权认证。 购买 TongWeb 产品后，在 TongWeb 产品光盘中提供有 license 文件。 将获取的 license.dat 文件复制到安装完成的 TongWeb 根目录下：${tongweb.home} 注意： License 将根据授权产品名称、授权版本、版本类型以及授权 IP 来判断与产品是否匹配,"安装, license.dat"
怎么使用License Server 服务授权？,"通过远程搭建的 License Server 服务进行远程授权。 支持 License Server 版本。 4.5.0.0 及以上版本。 前置条件。 • 已搭建 License Server 服务。 关于如何搭建 License Server 服务，请参见《License Server_V4.5安装部署指南》。 • 已获取 License Server 服务的 IP 地址和端口（默认端口 “8888”）。 • 已联系东方通相关人员获取 “license-client-4.5.x.x.jar” 文件，并存放到 “${tongweb.home}/lib/system” 目录或者 “${tongweb.base}/lib/system” 目录。 添加 Java 启动系统属性。 1. 进入 “${tongweb.home}/bin” 目录。 2. 打开 admin.[bat|sh] 脚本。 3. 在文件中，添加 Java 启动时的系统属性，如下所示。 # License Server IP地址和端口，配置格式为 [ip]:[port] # 多个IP地址使用英文逗号分隔，如 192.168.1.1:8888,192.168.1.2:8888 # 当使用https时，请务必配置为 “https://[ip]:[port]”。 -Dserver.tongweb.license.license-ips=License Server IP地址和端口 #License Server 公钥信息，需要从 License Server 控制台获取。 -Dserver.tongweb.license.publicKey=License Server 公钥信息","安装, license-client, 启动系统属性"
TongWeb8安装目录下，各子级目录的具体作用是什么？,bin 可执行文件。 domains 已建立的实例的存放位置。 lib 全域共享的 jar 包。 lib/app 目录下为应用共享的 jar 包。 version*.zip 对应产品版本的库文件。 license.dat 安装的 TongWeb License 文件。,"安装, bin, domain, version*.zip"
TongWeb8实例目录包含哪些信息？,TongWeb 默认实例存放于 “${tongweb.home}/domains/domain1”目录。 创建的新实例目录位于 “${tongweb.base}/domains”，以实例名进行命名，实例下的目录结构相同 autodeploy TongWeb 提供的默认自动部署目录。 conf 配置文件所在目录。 • console.xml：集中管理和用户登录配置文件。 • tongweb.xml：主配置文件。 • default-web.xml：默认的 Web 描述文件。 data 用于存放应用备份文件。 • /app/backup：备份部署应用存放路径。 • /app/recycle：解部署应用存放路径。 • /app/update：创建应用增量存放路径。 • /conf：存放自动备份的 console.xml 和 tongweb.xml 文件目录。 • /secure：存放受管的可信文件列表的文件目录。 deployment 已部署应用的应用程序目录。 lib 实例的库文件。例如：数据源的驱动包，可提前存放在 “/lib” 目录下。 logs 存放日志文件的目录。 • access：访问日志存放路径。开启访问日志后，可查看，默认关闭。 • audit：审计日志存放路径。 • gc：gc垃圾回收日志存放路径。 • jvm：进程jvm相关日志存放路径。 • server：服务器日志存放路径。 • tongweb.pid：用于记录进程的 PID。 temp TongWeb 启动后，生成的目录。 用于存放 TongWeb 运行过程中产生的临时文件。,安装
TongWeb8有哪些配置文件，分别存放在何处？,TongWeb 提供了可视化界面和主配置文件两种方式供用户配置和管理应用。 主配置文件的路径，如下所示。 • 主配置文件：${tongweb.base}\conf\tongweb.xml。 • 集中管理和用户登录配置文件：${tongweb.base}\conf\console.xml。 • 默认的 web 描述文件：${tongweb.base}\conf\default-web.xml,"安装, tongweb.xml, console.xml, default-web.xml"
TongWeb8的配置文件有做备份处理吗？,主配置文件（tongweb.xml 和 console.xml）在运行期间支持双重备份，防止被手动篡改。 双重备份 指内存和实例路径 “${tongweb.base}\conf” 下，分别进行实时备份。 实例路径下实时备份文件。 • 文件：tongweb.xml.lastUpdated 和 console.xml.lastUpdated。 • 路径：${tongweb.base}\conf,"安装, 配置文件, 备份"
当配置文件丢失或错误时，怎么通过备份恢复配置文件？,为了确保主配置文件的安全性，在 TongWeb 运行期间采取了防篡改措施。若主配置文件被意外篡改，系统 会自动恢复并不会应用这些修改。 • 启动 TongWeb 时，若检测到主配置文件被意外删除或者篡改，而导致启动失败，则会使用实例路径下实 时备份文件 “.lastUpdated” 恢复主配置文件。 • 若 “主配置文件” 和 “实例路径下实时备份文件” 在运行期间被删除或篡改，TongWeb 会自动使用内存里 的实时备份文件进行恢复。,"安装, 配置文件, 恢复"
TongWeb8如何正确修改配置文件？,当用户在预置自动部署相关配置、配置启动参数、自定义控制台前缀、设置信任 IP 等情况下时，需要修改主配置文件并使其生效。 在确保安全的情况下，在控制台关闭 “服务器主配置文件防篡改” 开关，默认 “开启”。 该开关用于禁止在 TongWeb 运行期间对主配置文件进行修改。 1. 登录 TongWeb 控制台。 2. 切换到目标实例。 3. 在左侧菜单栏中，选择 “安全管理” > “安全策略”，进入安全策略页面。 4. 在 “文件防篡改” 页签，关闭 “服务器主配置文件防篡改” 开关。 5. 关闭后，重启 TongWeb 服务器使配置生效。 6. 该开关关闭后，用户即可在 TongWeb 运行期间修改主配置文件。 修改完成后，请及时开启该开关，防止主配置文件在运行期间被篡改。,"安装, 修改配置文件"
不能登录控制台TongWeb8如何正确修改配置文件？,当用户在预置自动部署相关配置、配置启动参数、自定义控制台前缀、设置信任 IP 等情况下时，需要修改主配置文件并使其生效。 停止 TongWeb 服务器，然后再进行修改。,"安装, 修改配置文件"
TongWeb8的bin目录下各脚本的作用是什么？,${tongweb.home}/bin：包含了 Linux 平台上产品启动、停止等所需要的可执行脚本文件。 ${tongweb.home}/bin/windows：包含了 Windows 平台上产品启动、停止等所需要的可执行脚本文 件。 admin 服务器主脚本。可用于管理服务器内部资源、服务器启停、版本信息、安 装 TongWeb 自启动服务，生成轻量版、嵌入版等。 关于脚本的使用说明，请参见《TongWeb_V8.0控制台使用手册》 “进阶 使用” 中的 “admin.[bat|sh] 脚本使用说明”章节。 cli 命令行工具。交互式执行命令且可通过 “Tab” 键提示或者自动补全参数。 关于命令行工具的使用说明，请参见《TongWeb_V8.0命令行工具手 册》。 commandstool 命令行工具。 关于命令行工具的使用说明，请参见《TongWeb_V8.0命令行工具手 册》。 forcestop 强停服务器实例脚本。 startd 以后台模式启动服务器实例。 Linux 环境下建议以后台模式启动服务器实例，执行 startd.sh 脚本，可防 止 SSH 断开后，TongWeb 进程停止。 startserver 启动服务器实例。 stopserver 停止服务器实例。 tongweb-launcher.jar 启动引导程序。 version 运行脚本后，可查看 TongWeb 版本信息（产品版本、构建时间、命名空 间、运行模式、OS、JVM 等）和 License 信息。,"安装, 脚本, commandstool, admin"
${tongweb.base}/temp/cache的作用是什么？,临时文件目录 “${tongweb.base}/temp/cache” 用于存放 TongWeb 在运行时的编译文件，即 “.class” 文件。 例如：JSP 编译后的文件。清空 work 目录，然后重启 TongWeb，即可达到清除缓 存的作用。 修改 console 访问前缀、停止应用、卸载应用后均会自动清理 work 目录。,"安装, temp/cache, work"
TongWeb8的日志存放在哪？,日志路径：${tongweb.base}/logs，其中包含：access，audit，gc，jvm，server，tongweb.pid,"安装, 日志, gc, server.log, access.log"
TongWeb8的日志文件分别记录了什么？,access 访问日志。启用访问日志后，即可生成访问日志文件。默认为“关闭”。 进入TongWeb管理控制台 > “日志管理” > “访问日志”页面，启用访问日志。 audit 审计日志。 用于跟踪记录用户对服务器进行的操作。仅安全审计员可查看和配置审 计日志。 gc gc垃圾回收日志。默认为“关闭”。 若需要GC垃圾回收日志，可通过如下方式进行配置。 1. 进入TongWeb管理控制台 > “基础配置” > “JVM配置”>“GC策略”页面。 2. 开启“记录GC日志”，并设置“GC日志文件”路径即可。默认路径 为“logs/gc/gc.log”。 jvm 进程 JVM 相关的日志。 启用记录 JVM 日志后，系统才会传给 JVM 加载，生成 JVM 日志文件。默认为 “开 启”。 若需要关闭，可通过如下方式进行配置。 1. 进入 TongWeb 管理控制台 > “基础配置” > “JVM 配置”>“JVM 日志”页面。 2. 关闭“记录JVM日志”即可。 关闭“记录JVM日志”后，日志将不记录到日志文件中。 server 服务器运行期间产生的系统日志。 tongweb.pid 用于记录进程的 PID，在做开机自启动 systemd 服务时，指明进程 PID 文件。 注意：。 • 删除该文件后会宕机。 • 如果是老版本升级，本地实例在重启并完成升级后，会提示启动失败，此时可忽 略该提示；当重启集中管理后状态将会恢复正常。,"安装, 日志, gc, server.log, access.log"
怎么验证JDK环境？,前置条件。 • 已从官网下载并安装JDK。 • JDK 版本要求：JDK8-JDK21。 注意：。 ◦ 支持 Oracle JDK，但部分 Oracle JDK 版本商用收费，在生产使用时请注意商业授权，或采用 Open JDK、Tong JDK。 ◦ 启用国密认证，JDK 要求 JDK8-JDK11。 ◦ 使用虚拟线程，JDK 要求 JDK21。 ◦ 需要安装 JDK，不能仅安装 JRE。仅安装 JRE 会导致 TongWeb 部分功能不能使用。 ◦ Linux 下若使用 IBM JDK，则需要手动放置如下 jar 包到 “${tongweb.home}/lib/compatible” 目录， 否则启动 TongWeb 失败。 ▪ JDK 8.0 bcprov-jdk15on-1.70.jar ▪ JDK 8.0+ bcprov-jdk18on-1.78.1.jar 操作步骤 在命令行界面，输入“java -version”。 若回显信息为Java 版本，说明安装成功。,"安装, jdk"
关于JDK环境需要注意什么？,首次安装 TongWeb 后，启动 TongWeb 时，优先查找系统环境变量里的 PATH。 • 当 TongWeb 在用户的系统环境变量 PATH 没查找到 java 命令时，TongWeb 将无法启动。 此时，您可以在 “${tongweb.home}/bin” 目录手动创建 “JAVA_HOME.txt” 文件，并配置 java 的安装路 径。 “JAVA_HOME.txt” 文件 Linux 环境和 Windows 环境共用，均从该文件读取 java 安装路径。 当 TongWeb 可以正常启动后，您也可以在 “${tongweb.home}/domains/domain1/conf/tongweb.xml” 中设置 TongWeb 实例的 JAVA_HOME。 或者进入管理控制台 >“基础配置”>“JVM配置”>“环境变量”，添加 java 路径及环境变量。此处设置的 JAVA_HOME 为当前 TongWeb 实例缺省使用的 java。 ◦ 不同的 TongWeb 实例可通过 “tongweb.xml” 自定义为不同的 java。 ◦ 若不设置 TongWeb 实例的 JAVA_HOME，则 TongWeb 实例使用 PATH 或者 JAVA_HOME.txt 配置 的 java。 ◦ 当设置了系统环境变量 PATH 或者 JAVA_HOME.txt 时，又设置了 TongWeb 实例的 JAVA_HOME,"安装, jdk, 注意事项"
windows环境怎么启动并访问TongWeb8?,1. 进入到 “${tongweb.home}/bin/windows” 目录。 2. 运行 startserver.bat ，即可启动 TongWeb 应用服务器默认实例。 3. 在浏览器地址中，输入如下地址，按 Enter，进入 TongWeb 管理控制台登录页面。 https://localhost:9060/console。 4.在输入登录地址后，会弹出安全提示页面直接单击“高级”>“继续访问”，即可访问TongWeb管理控制台登录页面。 5.输入 “账户名称” 和 “账户密码”，进入 TongWeb 管理控制台。,"安装, startserver"
linux环境怎么启动并访问TongWeb8?,1. 执行如下命令，查看 Openfiles 值为默认“1024”(该值偏小)，建议设置为“65535”。 ulimit -a。 2. 修改 “/etc/security/limits.conf”，增加如下两行配置。 * soft nofile 65535 * hard nofile 65535。 3. 执行如下命令，进入到 “${tongweb.home}/bin” 目录。 cd ${tongweb.home}/bin。 4. 若没有执行权限，则执行如下命令，将 bin 目录下的文件权限变更为可执行权限。 chmod -R 755 *。 5. 执行如下命令，以后台模式启动 TongWeb 服务器实例。 ./startd.sh 若回显信息出现 “Server startup in xx seconds”，则说明启动 TongWeb 成功。 注意：。 ◦ “./startd.sh” 表示以后台模式启动服务器，在 Linux 下建议以后台模式启动，可防止 SSH 断开后 ，TongWeb 进程停止。 ◦ 若用户仅调试或临时运行服务，则可以运行 “startserver.sh” 脚本，在当前终端可以直接看到服务器 输出的日志信息等。 ◦ 使用 jps 命令，可查看的运行的 TongWeb 进程，例如 “TongWebMain”、“tongweb-launcher.jar” 等。 ◦ 若需要停止 TongWeb 服务器，请执行 “stopserver.sh” 脚本。,"安装, startserver"
TongWeb8怎么设置信任ip？,1. 登录 TongWeb 管理控制台。 2. 在控制台左上角，单击“集中管理”，进入集中管理页面。 3. 选择 “安全配置” > “控制台安全”，进入控制台页面。,"安装, 信任ip"
TongWeb8无法登录控制台怎么设置信任ip？,修改${tongweb.base}/conf/console.xml中的trustedIP,"安装, 信任ip"
TongWeb8的控制台怎么修改初始密码？,为了保障系统的安全性，成功登录 TongWeb 管理控制台后，系统强制要求修改“初始密码”。 修改初始密码，要求在安装 TongWeb 的本机 IP 上进行修改。 1. 登录 TongWeb 管理控制台。 2. 在控制台左上角，单击“集中管理”，进入集中管理页面。 3. 在左侧导航栏中，选择“安全配置”>“修改密码”，进入修改密码页面。,"安装, 初始密码"
TongWeb8部署应用前需要准备什么？,开通 TongWeb 所在机器和数据库服务器之间的端口，确保能够连接成功。 • 确保浏览器客户端所在的IP为信任IP。 • 由于示例需要调用数据源，因此需要提前准备好数据库源相关信息。 比如：连接URL、驱动类、用户名、密码、相应版本对应的JDBC的jar包。 数据源示例以如下信息为例说明。 ◦ 连接URL：jdbc:mysql://168.1.1.1:3316/zmm2。 ◦ 驱动类：com.mysql.cj.jdbc.Driver。 ◦ 用户名：root。 ◦ 密码：****（请根据实际环境填写） 东方通应用服务器软件 TongWeb V8.0 安装与使用指引 27。 ◦ 驱动包：mysql-connector-java-8.0.11.jar 若已将驱动包存放在“${tongweb.base}/lib/”目录下，则在部署应用时，“驱动包位置” 参数不填写。,安装
TongWeb8控制台的初始账户密码是什么？,◦ 账户名称：thanos。 ◦ 账户密码：thanos123.com,安装
TongWeb8怎么创建数据源？,"1. 进入TongWeb管理控制台。 2. 在左侧导航栏中，选择“资源管理” > “数据源”，进入数据源页面。 3. 单击“创建”，进入创建数据源页面。 4. 配置数据源基本属性参数。 数据源名 数据源名称 testdb 别名 数据源的别名被用作绑定到 JNDI 资源树上的名称。 不填写 数据库连接方式 使用 TongWeb 预置的 Jdbc 模板连接数据库。 使用 JDBC 标准方式 连接URL 数据库连接URL。请根据实际环境填写。 jdbc:mysql://168.1.1。 3.108:3316/zmm2 驱动类 数据库驱动类的全名称。 com.mysql.cj.jdbc.Dr iver 用户名 登录数据库的用户名。 root 密码 登录数据库用户名对应的密码。 ****(请根据实际环境 填写) 驱动包位置 设置数据库驱动类Jar文件在服务器上的绝对路径。多个 路径以“,”分隔。 • 若在TongWeb启动前，已经将驱动包文件放置 到“${tongweb.base}/lib”，则可不设置驱动Jar的位 置。 例如存放在默认实例下： “${tongweb.home}/domains/domain1/lib/mysql_x0002_connector-java-8.0.11.jar”。 • 若在TongWeb启动后再放置，则需要重启TongWeb 服务器才能生效。 5.其他参数采用默认值，您也可以根据需要进行配置。 6. 配置完成后，单击“添加”，完成数据源的创建操作。 7. 在数据源列表中，单击已创建数据源所在行的“测试”，测试连接是否成功。","安装, 数据源"
TongWeb8怎么部署应用？,1. 进入 TongWeb 管理控制台。 2. 在左侧导航栏中，选择“应用管理”>“应用”，进入应用列表页面。 3. 单击“部署”，进入应用/部署页面。 4. 应用属性配置完成后，单击“添加”，完成应用部署操作。 若界面弹出“应用添加成功”提示信息，则说明应用部署成功。 在应用/列表页面，可查看已部署的应用。,"安装, 应用"
TongWeb8部署应用后，怎么获取访问路径？,应用部署成功后，您可以访问部署的应用，并测试通过访问应用的方式调用数据源。 1. 在左侧导航栏中，选择“应用管理”>“应用”，进入应用/列表页面。 2. 在已部署应用所在行的操作列，单击“链接”，进入应用/链接页面。 3.单击生成的 URL 链接，即可访问您部署的应用。,"安装, 访问路径"
怎么安全启动TongWeb8？,您可以根据需要在管理控制台中，选择“安全管理”>“安全策略”，进入“启停安全”页签，开启“启动限制”。 开启“启动限制”后，对TongWeb的启动进行权限验证，验证通过后才能正常启动TongWeb，否则启动将会 终止。,"安装, 安全启动"
怎么安全停止TongWeb8？,您可以根据需要在管理控制台中，选择“安全管理”>“安全策略”，进入“启停安全”页签，开启“安全停止”。 开启“安全停止后”，当使用TongWeb的停止脚本（ stopserver.[bat|sh] 或者 forcestop.[bat|sh] ）停止TongWeb 服务时，需要输入正确的系统管理员密码，才能停止。,"安装, 安全停止"
windows平台怎么停止TongWeb8？,前置条件 已安装并启动TongWeb。 操作步骤。 • 使用 Ctrl+C 停止 在TongWeb的运行窗口直接按下 Ctrl+C ，即可终止TongWeb的运行。 • 通过停止脚本（stopserver.bat）停止 在“${tongweb.home}/bin/windows”目录下运行“stopserver.bat”，即可停止TongWeb的运行。 • 通过强停脚本（forcestop.bat）停止 在“${tongweb.home}/bin/windows”目录下运行“forcestop.bat”，即可停止TongWeb的运行。 说明： 当TongWeb服务器难以成功停止，或者停止过程出现意外阻塞的情况时，您可以执行强停脚本，停 止TongWeb服务器。 强制停止通常是以强制杀进程的方式实现。,"安装, 停止"
linux平台怎么停止TongWeb8？,前置条件 已安装并启动TongWeb。 操作步骤。 • 使用 Ctrl+C 停止 在TongWeb的运行窗口直接按下 Ctrl+C，即可终止TongWeb的运行。 • 通过停止脚本（stopserver.sh）停止 在“${tongweb.home}/bin”目录下运行“stopserver.sh”，即可停止TongWeb的运行。 • 通过强停脚本（forcestop.sh）停止 在“${tongweb.home}/bin”目录下运行“forcestop.sh”，即可停止TongWeb的运行。 说明：。 ◦ 当 TongWeb 服务器难以成功停止或者停止过程出现意外阻塞的情况时，您可以通过执行强停脚本的 方式停止 TongWeb 服务器。 ◦ 强制停止通常是以强制杀进程的方式实现。,"安装, 停止"
TongWeb8的标准版/企业版/教学版”怎么切换为轻量版,通过标准版、企业版或教学版控制台切换为“轻量模式”，以轻量模式运行的 TongWeb 与 License 控制台的 轻量版相同。 1. 登录TongWeb管理控制台。 2. 切换至目标实例。 3. 在左侧导航栏中，选择“基础配置”>“全局配置”，进入全局配置页面。 4. 打开 “轻量模式” 开关。 5. 单击“更新”，并重启 TongWeb 服务器使配置生效,"安装, 标准版/企业版/教学版, 轻量"
怎么卸载TongWeb8？,TongWeb为免安装版本。 若需要卸载TongWeb，请先将TongWeb服务器停止。然后，直接删除安装目录即可完成TongWeb的卸载。,"安装, 卸载"
TongWeb8怎么生成单独的轻量版？,通过标准版、企业版或教学版控制台生成的轻量版，主要用于云平台、微服务环境。 功能上等同于轻量版，但不包含控制台、国密算法、本地节点实例管理、本地节点的会话服务器管理、命令 行、JMX、REST接口。 1. 登录 TongWeb 管理控制台。 2. 单击控制台左上角的 “集中管理”，进入集中管理页面。 3. 在左侧导航栏中，选择“扩展支持”>“版本生成”，进入版本生成页面。 4. 单击“创建”，进入版本生成/创建页面。 5. “生成类型” 选择为 “轻量版”。 6. 根据需要选择是否需要控制台，并勾选命名空间。 7. 其它参数请根据需要配置。 8. 单击“生成”，即可生成轻量版。 在版本生成列表中，可查看已构建的产品版本，包含产品版本名称、生成类型、含控制台、命名空间、版 本号等信息。,"安装, 单独, 轻量"
怎样才能启动 TongWeb 应用服务器的默认实例呢？,启动 TongWeb 应用服务器默认实例的步骤如下：。 1.进入到 “${tongweb.home}/bin/windows” 目录。 2.运行 startserver.bat ，即可启动 TongWeb 应用服务器默认实例。,"TongWeb, 启动, 默认实例, startserver.bat, ${tongweb.home}/bin/windows"
TongWeb 服务器实例以后台模式启动的方法是什么？,若需要以后台模式启动 TongWeb 服务器实例，可执行 “startd.bat” 脚本。,"TongWeb, 后台模式, startd.bat, 启动服务器实例"
用什么方法可以查看正在运行的 TongWeb 进程呢？,使用 jps 命令，可查看运行的 TongWeb 进程，例如 “TongWebMain”、“tongweb-launcher.jar” 等。,"TongWeb, 查看进程, jps, 命令, TongWebMain, tongweb-launcher.jar"
停止 TongWeb 服务器的操作方法有哪些？,若需要停止 TongWeb 服务器，请执行 “stopserver.bat” 脚本或者按 “Ctrl+C” 停止服务器。,"TongWeb, 停止服务器, stopserver.bat, Ctrl+C"
首次登录 TongWeb 管理控制台的步骤是怎样的呢？,首次登录 TongWeb 管理控制台，请通过安装 TongWeb 的本机浏览器进行登录。步骤如下：。 1.在浏览器地址中，输入地址 https://localhost:9060/console ，按 Enter，进入 TongWeb 管理控制台登录页面。需使用 “https” 协议访问，9060 为 TongWeb 管理控制台默认监听端口。 2.输入登录地址后，会弹出安全提示页面。 3.直接单击 “高级”>“继续访问”，即可访问 TongWeb 管理控制台登录页面。 4.输入 “账户名称”（系统管理员默认账户名称为 thanos ）和 “账户密码”（系统管理员默认账户密码为 thanos123.com ），若未开启 “动态密码”（默认未开启），则可不填写动态密码。当用户首次登录失败后，需要输入登录验证码。默认情况下，用户连续认证失败 5 次后，账户将被锁定。用户也可使用 OAuth2 协议登录控制台，详见 《TongWeb_V8.0 控制台使用手册》中的 “OAuth2 协议登录控制台”。 5.阅读《许可协议》，并勾选 “已阅读并同意《许可协议》”。 6.单击 “登录”，即可登录到 TongWeb 控制台首页。默认情况下，控制台会话超时时间为 15 分钟。,"TongWeb, 管理控制台, 首次登录, 登录步骤, https, 9060, 端口, 默认账户, 登录失败, 会话超时时间"
TongWeb 管理控制台的默认监听端口是什么？,TongWeb 管理控制台默认监听端口是 9060。,"TongWeb, 管理控制台, 默认监听端口, 9060"
TongWeb 管理控制台系统管理员的默认账户名称和密码分别是什么？,TongWeb 管理控制台系统管理员默认账户名称是 thanos ，默认账户密码是 thanos123.com 。,"TongWeb, 管理控制台, 系统管理员, 默认账户, thanos, thanos123.com"
TongWeb 管理控制台登录失败后会有什么要求或者限制吗？,当用户首次登录失败后，需要输入登录验证码。默认情况下，用户连续认证失败 5 次后，账户将被锁定。,"TongWeb, 管理控制台, 登录失败, 登录验证码, 账户锁定"
TongWeb 管理控制台默认的会话超时时间是多长？,默认情况下，TongWeb 管理控制台会话超时时间为 15 分钟。,"TongWeb, 管理控制台, 会话超时时间, 15, 分钟"
TongWeb 管理控制台初始密码为什么需要修改呢？,为了保障系统的安全性，成功登录 TongWeb 管理控制台后，系统强制要求修改 “初始密码”。,"TongWeb, 管理控制台, 初始密码, 系统安全性"
TongWeb 管理控制台的初始密码应在什么地方进行修改？,修改初始密码，要求在安装 TongWeb 的本机 IP 上进行修改。步骤如下：。 1.登录 TongWeb 管理控制台。 2.在控制台左上角，单击 “集中管理”，进入集中管理页面。 3.在左侧导航栏中，选择 “安全配置”>“修改密码”，进入修改密码页面。,"TongWeb, 管理控制台, 初始密码, 安装本机, IP, 集中管理, 安全配置, 修改密码"
TongWeb 管理控制台初始密码的修改步骤和要求是什么？,修改步骤如下：。 1.登录 TongWeb 管理控制台。 2.在控制台左上角，单击 “集中管理”，进入集中管理页面。 3.在左侧导航栏中，选择 “安全配置”>“修改密码”，进入修改密码页面。 4.修改初始密码，参数说明： 。原始密码：登录系统的原始密码。新密码：用于登录系统的新密码，密码长度介于 10-20 个字符之间，新密码不能和原始密码相同。确认密码：确认用于登录系统的新密码。动态密码：默认 “不开启”，若需要开启 “动态密码”，请参见《TongWeb_V8.0 控制台使用手册》中的 “开启动态密码”。 5.密码修改完成后，单击 “更新”，更新密码信息。若界面弹出 “修改密码成功” 提示信息，则说明修改密码成功。,"TongWeb, 管理控制台, 初始密码, 原始密码, 新密码, 确认密码, 动态密码, 修改密码成功, 更新"
TongWeb 管理控制台设置新密码时的具体要求是什么？,TongWeb 管理控制台新密码用于登录系统，密码长度需介于 10-20 个字符之间，且新密码不能和原始密码相同。,"TongWeb, 管理控制台, 新密码, 密码长度, 不能与原始密码相同"
怎样知道 TongWeb 管理控制台密码已经修改成功了呢？,密码修改完成后，单击 “更新”，更新密码信息。若界面弹出 “修改密码成功” 提示信息，则说明修改密码成功。,"TongWeb, 管理控制台, 密码修改, 更新, 修改密码成功提示"
访问 TongWeb 控制台时，在何种情况下无需设置信任 IP 呢？,若仅使用安装 TongWeb 的本机访问 TongWeb 控制台，则可跳过设置信任 IP 这一步骤。,"TongWeb, 控制台, 安装本机, 访问, 跳过, 信任, IP"
若要通过远程浏览器访问 TongWeb 管理控制台，需要进行哪些操作？,若需要使用远程浏览器访问 TongWeb 管理控制台，需要将远程浏览器所在的主机 IP 设置为 “信任 IP”。具体步骤如下：。 1.登录 TongWeb 管理控制台。 2.在控制台左上角，单击 “集中管理”，进入集中管理页面。 3.选择 “安全配置” > “控制台安全”，进入控制台页面。 4.设置 “信任 IP” 即可。信任 IP 设置完成后，您即可通过信任 IP 所在浏览器客户端访问 TongWeb 管理控制台。另外，设置为 “*” 表示信任所有机器（不建议）。,"TongWeb, 管理控制台, 远程浏览器, 信任, IP, 设置步骤, 集中管理, 安全配置, 控制台安全"
在 TongWeb 管理控制台中，“信任 IP” 设置为 “” 代表着什么呢？,在 TongWeb 管理控制台中，设置 “信任 IP” 为 “” 表示信任所有机器，但不建议这样设置。,"TongWeb, 管理控制台, 信任, IP, 设置为, “”, 信任所有机器"
在 TongWeb 管理控制台设置 “信任 IP” 后，对访问控制台有什么影响？,在 TongWeb 管理控制台中设置 “信任 IP” 完成后，您即可通过信任 IP 所在浏览器客户端访问 TongWeb 管理控制台。,"TongWeb, 管理控制台, 信任, IP, 设置, 浏览器客户端, 访问"
想查看系统 Openfiles 的默认值，且该默认值偏小，需要将其修改为合适的值。,首先执行 ulimit -a 命令查看 Openfiles 值，默认通常为 “1024”。接着修改 “/etc/security/limits.conf” 文件，增加如下两行配置： soft nofile 65535 hard nofile 65535,Openfiles、默认值、修改配置
要进入 TongWeb 的 bin 目录，若该目录下文件没有执行权限，需要进行权限变更。,执行 cd ${tongweb.home}/bin 命令进入到 “${tongweb.home}/bin” 目录。若没有执行权限，执行 chmod -R 755 * 命令将 bin 目录下的文件权限变更为可执行权限。,"TongWeb、bin, 目录、文件权限"
需要启动 TongWeb 服务器实例，并且了解不同启动方式的区别。,在 “${tongweb.home}/bin” 目录下，执行 ./startd.sh 命令以后台模式启动 TongWeb 服务器实例，若回显信息出现 “Server startup in xx seconds”，则说明启动成功。在 Linux 下建议以后台模式启动，可防止 SSH 断开后 TongWeb 进程停止。若仅调试或临时运行服务，可运行 “startserver.sh” 脚本，在当前终端能直接看到服务器输出的日志信息等。,TongWeb、启动、后台模式、startd.sh、startserver.sh
想知道怎样查看当前运行的 TongWeb 进程，以及在需要时如何停止 TongWeb 服务器。,使用 jps 命令可查看运行的 TongWeb 进程，例如 “TongWebMain”、“tongweb-launcher.jar” 等。若需要停止 TongWeb 服务器，请执行 “stopserver.sh” 脚本。,TongWeb、进程查看、停止服务器、jps、stopserver.sh
想要了解查看 TongWeb 产品相关信息的具体操作步骤。,首先登录 TongWeb 管理控制台，进入 “默认实例” 页面；接着在左侧导航栏中，单击 “首页”，进入 “首页” 页面，即可查看 TongWeb 产品的相关信息，包括产品名称、版本号、命名空间、运行模式、实例目录、安装目录、Java 环境、构建日期等。,TongWeb、产品信息、查看步骤
知道 TongWeb 产品信息具体涵盖了哪些分类和参数。,产品信息分类下的参数及说明如下： 。产品名称：产品的名称为 “TongWeb”。版本号：产品的版本号。命名空间：命名空间，例如：javax、jakarta。运行模式：当前 TongWeb 运行模式。实例目录：产品的实例的目录。安装目录：产品的安装目录。Java 环境：服务器实例使用的 java 路径信息。构建日期：服务器构建的日期。,TongWeb、产品信息、参数说明
想要了解 TongWeb 授权信息的具体构成。,授权信息包含以下内容： 。授权产品：产品为 “TongWeb”。授权版本：授权产品的版本类型。版本类型：产品的版本类型。授权客户：授权客户的名称。授权类型：产品的授权类型。授权期限：授权期限，授权期限内才能启动 TongWeb。授权 IP：授权的 IP 地址，只允许在授权 IP 段范围内的 IP 地址才能启动 TongWeb。授权节点数：授权集中管理可管理的最大节点数。,TongWeb、授权信息、授权参数
想了解 TongWeb 关于 license 有效期的检查规则以及能否自定义相关设置。,TongWeb 每日 06：00 检查 license 有效期，若 license 到期，TongWeb 将停止服务。用户也可以自定义授权检查时间及授权到期提醒，具体操作如下： 。进入 “基础配置”>“全局配置”>“授权”，在授权页面设置 “授权检查时间”。进入 “基础配置”>“全局配置”>“授权”，在授权页面设置 “授权到期提醒”。,"TongWeb、license, 有效期、授权检查时间、授权到期提醒"
想知道安装 TongWeb 服务器后默认实例的本地路径。,默认本地实例路径为 “${tongweb.home}/domains/domain1/”。,TongWeb、默认实例、路径
询问进入 TongWeb 默认实例页面的操作方法。,登录 TongWeb 管理控制台后，进入 “默认实例” 页面。,TongWeb、默认实例、管理控制台
想了解在 TongWeb 默认实例上能够开展的操作内容。,可以根据需要在默认实例上进行应用管理、Web 容器、EJB 容器、OSGi 容器、资源管理、安全管理、云原生、监视管理、诊断管理、日志管理、基础配置等操作，详见应用管理及配置管理。,TongWeb、默认实例、操作内容
当 TongWeb 提供的默认实例不能满足自身需求，该如何处理。,可以根据自己的需要创建一个或多个自己的实例，多实例场景说明请参见多实例场景。,TongWeb、默认实例、创建实例
想了解新创建的本地 TongWeb 实例的默认存放位置。,创建的本地 TongWeb 实例默认存放在 “${tongweb.home}/domains/” 目录。,TongWeb、本地实例、存放目录
询问在不同的 TongWeb 实例上能够开展的操作有哪些。,在不同实例上可以根据需要进行应用管理、Web 容器、EJB 容器、资源管理、监视管理、诊断管理、日志管理、基础配置等操作。,TongWeb、不同实例、操作内容
在同一个节点存在多个实例的情况下，默认实例 domain1 的使用有什么建议。,在同一个节点多个实例场景下，建议默认实例 domain1 只做管理，不部署应用。,"TongWeb、多实例场景、默认实例, domain1、管理、部署应用"
想了解在哪些具体场景下，需要通过创建多个 TongWeb 实例来解决问题。,以下场景可通过创建多个实例的方式解决： 。场景一：服务器 CPU、内存比较大，可通过创建多个 TongWeb 实例，充分利用系统资源。场景二：不同应用需要使用不同 JDK 版本，关于如何给不同实例配置不同的 JDK 版本，请参见不同实例配置不同 JDK 版本。场景三：应用之间互相冲突，需要分别部署在不同 TongWeb 实例上。场景四：应用有内存溢出或占用线程资源多，频繁出问题的放一个 TongWeb 实例上运行，不影响其它应用。,TongWeb、多实例、场景说明
当不同应用需要使用不同 JDK 版本时，应采取什么办法。,可通过创建多个 TongWeb 实例解决，关于如何给不同实例配置不同的 JDK 版本，请参见不同实例配置不同 JDK 版本。,"TongWeb、不同, JDK, 版本、实例配置"
想了解是否可以将本地 TongWeb 实例安装到指定的绝对目录。,支持将本地 TongWeb 实例安装到一个指定的绝对目录，若目录不存在，TongWeb 会自动建立。,TongWeb、本地实例、指定目录
在 Windows 系统下，指定安装目录创建 TongWeb 实例时需要注意什么。,Windows 下创建实例时，若需要指定安装目录，可能需要管理员启动 TongWeb。,TongWeb、Windows、指定安装目录、管理员启动
当没有指定安装目录时，TongWeb 本地实例的默认安装位置。,若未指定安装目录，则默认安装到 “${tongweb.base}/domains” 目录下。,TongWeb、本地实例、默认安装目录
询问在 TongWeb 管理控制台创建本地实例的具体操作步骤。,1.登录 TongWeb 管理控制台。 2.在控制台左上角，单击 “集中管理”，进入集中管理页面。 3.在左侧导航栏中，选择 “服务管理” > “实例”，进入实例页面。 4.单击 “创建”，进入创建实例页面。 5.配置实例相关信息： 。名称：输入节点名称。所在节点：选择 “default”。其它参数：请根据需要配置。 6.配置完成后，单击 “添加”，完成实例的添加操作。,TongWeb、本地实例、创建步骤、管理控制台
想知道本地 TongWeb 实例创建完成后的默认状态。,本地实例创建完成后，默认为 “停止” 状态。,TongWeb、本地实例、创建完成、停止状态
想了解启动 TongWeb 实例的具体操作步骤。,1.进入 TongWeb 管理控制台。 2.在控制台左上角，单击 “集中管理”，进入集中管理页面。 3.在左侧导航栏中，选择 “服务管理”>“实例”，进入实例页面。 4.单击目标实例所在行的 “启动”，弹出确认启动实例窗口。 5.单击 “确定”，完成启动实例操作。若界面弹出 “实例启动成功” 提示信息，且 “运行中” 更新为 “true”，则说明实例启动成功。启动实例可能因为超时而导致失败，可在一段时间后刷新状态，确认是否启动成功。,TongWeb、实例启动、管理控制台
启动 TongWeb 实例时失败了，询问解决办法。,启动实例可能因为超时而导致失败，您可以在一段时间后刷新状态，确认是否启动成功。,TongWeb、实例启动、失败处理
想知道通过什么方式确定 TongWeb 实例是否成功启动。,若界面弹出 “实例启动成功” 提示信息，且 “运行中” 更新为 “true”，则说明实例启动成功。,TongWeb、实例启动、启动成功判断
询问停止处于 “启动” 状态的 TongWeb 实例的操作步骤。,1.进入 TongWeb 管理控制台。 2.在控制台左上角，单击 “集中管理”，进入集中管理页面。 3.在左侧导航栏中，选择 “服务管理”>“实例”，进入实例页面。 4.单击目标实例所在行的 “停止”，弹出确认停止实例窗口。 5.单击 “确定”，完成停止实例操作。若界面弹出 “实例停止成功” 提示信息，且 “运行中” 更新为 “false”，则说明实例停止成功。,TongWeb、实例停止、管理控制台
想了解判断 TongWeb 实例是否成功停止的方法。,若界面弹出 “实例停止成功” 提示信息，且 “运行中” 更新为 “false”，则说明实例停止成功。,TongWeb、实例停止、停止成功判断
想知道进行 TongWeb 实例切换需要满足什么条件。,已创建且启动实例，才能切换实例。,TongWeb、实例切换、创建实例、启动实例
询问切换 TongWeb 实例的具体操作步骤。,1.进入 TongWeb 管理控制台。 2.在控制台左上角，单击 “集中管理”，进入集中管理页面。 3.在左侧导航栏中，选择 “服务管理”>“实例”，进入实例页面。 4.单击 “管理”，即可切换到目标实例。,TongWeb、实例切换、管理控制台
想了解成功切换到 TongWeb 目标实例后能够开展的操作内容。,您即可在该实例上进行相关配置管理，包含应用管理、Web 容器、EJB 容器、资源管理等。,TongWeb、目标实例、配置管理、应用管理
在实际应用中有多种高并发业务场景需构建 Web 应用服务器集群支撑，能介绍一下 TongWeb 集群的组成吗？另外关于 TongWeb 集群如何搭建和管理呢？,TongWeb 集群是由多个同时运行的 JavaEE 应用服务器（TongWeb 实例）、负载均衡器、TDG 组成。集群中负载均衡器、TongWeb 实例、TongDataGrid (TDG) 可以任意增加节点，无启动顺序要求。关于如何搭建和管理 TongWeb 集群，请参见集群管理。,"TongWeb, 集群、JavaEE, 应用服务器、TongWeb, 实例、负载均衡器、TDG、TongDataGrid、集群搭建、集群管理"
在 TongWeb 管理控制台中，怎样将 “应用” 菜单收藏到 “我的收藏”？收藏后又该如何取消收藏呢？另外，“我的收藏” 菜单栏在什么情况下会消失呢？,将 “应用” 菜单收藏到 “我的收藏” 的操作步骤如下：。 1.登录 TongWeb 管理控制台。 2.切换到目标实例。 3.在左侧导航栏中，选择 “应用管理”>“应用”，进入应用列表页面。 4.单击列表右侧的 “★”，即可点亮该菜单，添加到 “我的收藏”。 取消收藏的方法：您也可以使用同样的方式，将 “★” 点灭，取消收藏的菜单。 “我的收藏” 菜单栏消失的情况：当 “我的收藏” 里的菜单全部都取消收藏后，“我的收藏” 菜单栏将会消失。,"TongWeb, 管理控制台、应用菜单、我的收藏、收藏操作、取消收藏、左侧导航栏、应用管理、目标实例"
在 TongWeb 管理控制台中，想要禁用一些不常用的功能，比如应用回收全部功能，具体应该怎么操作呢？操作完成后如何确认是否成功以及在哪里查看该功能是否已被禁用？,具体操作步骤如下：。 1.登录 TongWeb 管理控制台。 2.在控制台左上角，单击 “集中管理”，进入集中管理页面。 3.在左侧导航栏中，选择 “系统管理”>“功能定制”，进入功能定制页面。 4.根据需要勾选禁用功能，例如：应用回收全部功能。 5.单击 “更新”，即可完成禁用功能操作。若界面弹出 “功能定制更新成功”，则说明更新功能定制成功。 6.进入 “应用管理” 页面，可查看 “应用回收” 功能已隐藏。,"TongWeb, 管理控制台、功能定制、系统管理、应用回收、禁用、集中管理、应用管理"
在 TongWeb 管理控制台中，想要快速找到并跳转到指定的功能位置，听说可以使用其提供的搜索功能，具体该如何操作呢？例如我想找会话服务器相关功能，该怎么搜索呢？,具体操作步骤如下：。 1.登录 TongWeb 管理控制台。 2.在控制台右上角的搜索框中，输入待搜索的关键字。例如搜索会话服务器，输入 “会话”，即可弹出关键字相关的功能。 3.在弹出的关键字关联选项中，选择并单击指定功能，即可跳转到指定位置。,"TongWeb, 管理控制台、搜索功能、控制台右上角、关键字、会话服务器、跳转、指定位置"
在容器云环境下，想要以单个进程的模式来运行 TongWeb 服务器实例，应该怎么操作呢？这种模式适用于什么场景？操作前需要满足什么条件？并且这种模式下有哪些功能会受到影响呢？,"以单个进程模式运行 TongWeb 服务器实例适用于容器云环境下使用启动参数定制容器内存大小的场景。 注意事项：在此模式下，TongWeb 的启动参数、JVM 配置、持镜像模式、配置中心、配置文件自修复、版本升级、授权中心功能将自动关闭。 前置条件：请确保 “${tongweb.home}/version*.zip” 已解压。 操作步骤：。 1.首先，请设置如下环境变量： export TONGWEB_DEST_PATH=/home/tongweb/ export TONGWEB_VERSION=x.x.x.x export JAVA_OPTS=-Xms2048M -Xmx2048M 说明：。 ◦ TONGWEB_DEST_PATH：TongWeb 的安装根目录，即 ${tongweb.home}；。 ◦ TONGWEB_VERSION：运行的TongWeb的版本，即 ${tongweb.home} 下 version目录名称的 “” 部分；。 ◦ JAVA_OPTS：设置 JVM 启动参数，如 ""-Xms2048M -Xmx2048M"" 等。 2.进入安装根目录 “${tongweb.home}/bin”。 3.执行如下命令，启动 TongWeb 服务器实例：sh standalone.sh。","TongWeb、单个进程模式、容器云、启动参数、JVM, 配置、环境变量、standalone.sh、安装根目录"
在执行 TongWeb 启动命令的时候，想要即时传递并修改服务器的配置参数，像 JVM 内存、资源配置这些，具体该怎么操作呢？在操作过程中有哪些需要注意的地方？,在执行 TongWeb 启动命令时可以即时传递并修改服务器的配置参数，如 JVM 内存、资源配置等。 注意事项：。 1.要使用此功能，启动命令后面必须先加域名，再加配置参数，多个配置参数以空格隔开。 2.一组参数（如 “-Dlog.logs=sever.log”）需加双引号，否则 cmd 窗口可能会把此类参数变为两个参数 “-Dlog” 和 “.logs=sever.log”。 3.由于操作系统限制，不支持 ${xx} 变量符，请用真实的参数代替。,"TongWeb、启动命令、配置参数、JVM, 内存、资源配置、域名、双引号、变量符"
想要修改 TongWeb 的堆内存，应该使用怎样的命令来操作呢？具体的命令格式和参数是什么样的？,"可以使用命令 “startserver.bat domain1 ""-Xms2048m"" ""-Xmx2048m""” 来修改堆内存，其中 “startserver.bat” 是启动服务器的命令，“domain1” 是域名（启动命令后需先加域名），“-Xms2048m” 表示设置初始堆内存大小为 2048 兆字节，“-Xmx2048m” 表示设置最大堆内存大小为 2048 兆字节。",TongWeb、堆内存、startserver.bat、-Xms、-Xmx、domain1
在 TongWeb 中，想要设置启用轻量模式并且开启自动部署功能，应该通过怎样的操作来实现呢？具体使用什么命令以及命令中的参数含义是什么？,"在 TongWeb 中设置启用轻量模式和自动部署，可以使用命令 “startserver.bat domain1 ""tongweb.server.liteMode=true"" ""tongweb.server.autoDeploy=true""”。其中 “startserver.bat” 是启动服务器的命令，“domain1” 是域名（启动命令后需先加域名）；“tongweb.server.liteMode=true” 这个参数表示启用轻量模式，“tongweb.server.autoDeploy=true” 这个参数表示开启自动部署功能。",TongWeb、startserver.bat、domain1、轻量模式、liteMode、自动部署、autoDeploy
在 TongWeb 的多实例场景中，对于 Windows 和 Linux 系统，分别要怎样启动默认实例和指定实例呢？并且在多个实例都开启 “自启动” 的情况下，启动默认实例会有什么情况发生？,在 TongWeb 多实例场景下： Windows 系统： 。进入 “${tongweb.home}/windows” 目录。启动当前主机的默认实例，执行命令 “startserver.bat”。若当前主机下存在多个实例，且多个实例均开启 “自启动”，则启动默认实例的同时，由默认实例带动其他实例同步启动。启动指定实例，执行命令 “startserver.bat 实例名”。 Linux 系统： 。进入 “${tongweb.home}” 目录。启动当前主机的默认实例，执行命令 “./startserver.sh”。若当前主机下存在多个实例，且多个实例均开启 “自启动”，则启动默认实例的同时，由默认实例带动其他实例同步启动。启动指定实例，执行命令 “./startserver.sh 实例名” 。,TongWeb、多实例、默认实例、指定实例、startserver.bat、startserver.sh、Windows、Linux、自启动
在 TongWeb 的多实例场景中，对于 Windows 和 Linux 系统，分别要怎样停止默认实例和指定实例呢？停止操作有哪些不同的方式（正常停止和强制停止）？,在 TongWeb 多实例场景下： Windows 系统： 。进入 “${tongweb.home}/windows” 目录。停止当前主机的所有实例（即停止默认实例并带动其他实例停止），执行命令 “stopserver.bat”。停止指定实例，执行命令 “stopserver.bat 实例名”。强停指定实例，执行命令 “forcestop.bat 实例名”。 Linux 系统： 。进入 “${tongweb.home}” 目录。停止当前主机的所有实例（即停止默认实例并带动其他实例停止），执行命令 “./stopserver.sh”。停止指定实例，执行命令 “./stopserver.sh 实例名”。强停指定实例，执行命令 “./forcestop.sh 实例名”。,TongWeb、多实例、停止实例、默认实例、指定实例、stopserver.bat、stopserver.sh、forcestop.bat、forcestop.sh、Windows、Linux
在 TongWeb 中，想要通过命令行来操作集群下的实例，比如查看集群、节点、实例下的应用列表，具体该如何操作呢？操作前需要进行哪些步骤？相关命令中的参数又是什么意思呢？,操作步骤如下：。 1.登录控制台创建名为 cluster0 的集群。 2.单击该集群的 “管理” 即进入其管理页面，可部署应用或进行其它操作。 3.通过命令行查看该集群下的应用，使用命令：commandstool.bat --username=thanos --password=xxx --acceptAgreement=true --model=app --action=list targetType=cluster targetName=cluster0 。查看某个节点下的应用列表，使用命令：commandstool.bat --username=thanos --password=xxx --acceptAgreement=true --model=app --action=list targetType=node targetName = 要查看的节点名称 。查看某个实例下的应用列表，使用命令：commandstool.bat --username=thanos --password=xxx --acceptAgreement=true --model=app --action=list targetType=instance targetName = 要查看的实例名称 。 参数说明： 。targetType：对应节点、集群、实例、注册实例的模块名，分别为 “node”、“cluster”、“instance”、“servicediscovery”。targetName：对应节点、集群、实例、注册实例的名称。,TongWeb、命令行、cluster0、commandstool.bat、targetType、targetName、集群、节点、实例、应用列表
了解tongweb可以部署哪些应用,支持 Web 应用（.war）、EJB 应用（.jar）、Connector 应用（.rar）、EAR 应用（.ear）、其他应用（.car）这五种类型。,TongWeb、应用类型、部署类型
了解web应用的结构组成,由动态资源（如 JSP、Servlet、JSP Tag 库等）和静态资源文件（如 HTML 页面和图片文件等）组成，还包含 WEB - INF 目录，其中 classes 存放应用所需类和资源，lib 存放类包，web.xml 是 Java EE 标准部署描述文件（Java EE8 规范中可无此文件 ）。,TongWeb、应用类型、web应用组成
了解ejb应用,基于分布式事务处理，用于开发和部署多层结构、分布式、面向对象的 Java 应用系统，借助应用服务器及 EJB 容器提供的系统级服务，简化开发者对大型企业级应用业务逻辑的开发工作,TongWeb、应用类型、ejb应用
了解Connector应用,它是一种资源适配器，主要由符合 JCA 规范的 Connector 应用类（JAR 包形式）和符合 Java EE 标准的部署描述文件 “ra.xml” 组成，允许 Java EE 应用组件访问企业信息系统的底层资源管理器并交互 。,TongWeb、应用类型、Connector应用
了解EAR应用,EAR 应用作为企业级应用的项目集合，可将多个 jar 和 war 文件打包在一个 ear 文件中，便于在应用服务器中整体部署，能包含 Web 应用、EJB 应用和公用包等多个 Java EE 应用或组件 。,TongWeb、应用类型、ear应用
了解CAR应用,"非标准格式的其他应用, 选择此类应用文件后，只能通过后台获取其应用 类型。",TongWeb、应用类型、car应用
未命名知识点,,
支持部署类型,文件部署和目录部署,TongWeb、应用部署、部署类型
了解文件部署和目录部署,文件部署以应用包形式部署，支持所有应用类型，默认部署到 “${tongweb.base}/deployment” 目录，指定位置部署时原地解压；目录部署以展开目录形式进行，支持多种应用类型，方便频繁修改文件的应用 。,TongWeb、应用管理、文件部署、目录部署
外部或者共享jar 如何配置到tongweb,将需要的 jar 文件放入 “或{tongweb.base}/lib/system” 目录下，可使系统自动加载这些 jar 文件，适用于应用程序需要外部 jar 包、使用 -javaaagent 参数时等场景 。,TongWeb、应用管理、类加载、外部jar、配置jar、共享jar
tongweb是如何加载class的,加载模式分为父优先和子优先，若指定了类库，则会按照类库中的jar包的顺序加载。子优先包含强制从应用 加载的类、强制从 TongWeb 加载的类、加载应用实现、Web 兼容模式。,TongWeb、应用管理、类加载机制
tongweb类加载器,父优先优先加载 TongWeb 自带类；子优先优先加载应用自带的类。子优先还包含强制从应用加载的类、强制从 TongWeb 加载的类、加载应用实现、Web 兼容模式等细分模式 。,TongWeb、应用管理、类加载模式、父优先、子优先
了解如何使用类加载,应用部署时，推荐使用“默认”配置。若部署应用出现类加载不对的问题时，请根据日志进行排查，Web 应用建议打开 “Web 兼容模式”，ejb-jar、ear 应用不能开启 “Web 兼容模式”，可配置 “加载应用实 现”。,"TongWeb、应用管理、类加载模式、Web, 兼容模式"
web兼容模式的作用,适用于基于 Tomcat 或其它 Servlet 容器开发的应用，开启此模式可关闭 EJB、JCA 等服务，尝试从应用自身加载 JSF、JavaMail、WebService、XML 等技术实现，以提升兼容性,"TongWeb、应用管理、Web, 兼容模式"
支持多种方式进行应用部署,分为单节点部署和集群部署；可以通过控制台部署（通过控制台上传或指定服务器位置）、自动部署（开启后将应用程序包或目录放于自动部署目录）、热部署（开启 “热加载” 后修改文件自动重新部署）、命令行部署（使用 commandstool 脚本）这几种方式 实现部署,TongWeb、应用部署、部署方式
了解控制台部署,通过控制台上传，在控制台选择并上传应用包，如 *.war ， *.ear 等格式的文件；指定服务器位置， 如果您已将应用程序包放置在服务器的某个位置，您可以在控制台指定该位置，以便服务器能够找到并部 署该应用程序包，当指定位置后，系统部署应用时，将不会解压到 “${tongweb.base}/deployment” 目录，而是直接原地 解压部署。,TongWeb、应用管理、控制台部署
控制台部署注意事项,支持部署特定嵌入式版本开发的 SpringBoot 应用 jar 包，需开启 “SpringBoot 兼容”；支持同时部署 “javax” 和 “Jakarta” 命名空间的应用，需开启 “命名空间兼容”（仅用于 POC 测试）；上传文件功能默认关闭；手动修改 tongweb.xml 时，“appId” 参数值必须与应用文件夹名称一致 。,TongWeb、应用管理、控制台部署、控制台部署步骤
如何进行控制台部署,1. 登录 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“应用管理”>“应用”，进入应用列表页面。 4. 单击 “部署”，进入部署应用页面。 5. 设置服务器上应用程序的部署路径、选择 “虚拟主机” 以及设置 “启动优先级”。 ◦ 上传文件:控制台默认关闭上传文件功能。若需要开启，请参见禁用文件上传。 ◦ 应用回收:默认开启，应用卸载后自动回收到应用回收中，用户可在应用回收列表中查看。关于应用 回收的信息，详见应用回收。 ◦ 其他参数:请根据需要配置，详细配置说明请参见应用参数配置说明。 “加载 Class-path 资源” 特别说明 开启 “Class-Path 资源” 后，系统将会根据应用根目录下的 “META-INF/MANIFEST.MF” 文件(Class-Path 参数)来加载更多的 jar 等文件到应用中。多个 jar 文件使用空格分隔。 6. 配置完成后，单击“添加”，完成应用部署操作。 若页面弹出“应用添加成功”提示信息，则说明应用部署成功。 在应用列表中，可查看已部署的应用，包含应用名、部署路径、访问前缀、虚拟主机、应用类型、自动部 署、应用状态等。 应用状态，如下所示:。 ◦ “STARTED”:运行中 ◦ “STOPPED”:停止。 ◦ “FAILED”:失败 注意: 若应用 “web.xml” 中已为应用设置 “<default-context-path>test</default-context-path>” 访问前缀， 则应用的访问前缀为 “web.xml” 配置的访问前缀,TongWeb、应用管理、控制台部署、控制台部署注意事项
了解自动部署,自动部署默认“关闭”。若需要自动部署应用，请先进入“基础配置” > “全局配置” > “应用” 下，开启“自动部 署应用”。当开启自动部署后，您只需要将待部署的应用程序包(.war、.jar、.rar、.ear、.car 等)或者应用 程序目录，放置在自动部署目录(默认路径为 “${tongweb.base}/autodeploy”)。 在开启 “自动部署应用” 后，系统默认打开 “自动更新” 开关，TongWeb 服务器将自动且持续监控该目录 中的任何变动。一旦检测到新的应用程序包或应用程序目录被添加，它便会立即启动自动部署流程，无需手 动干预。部署完成后，TongWeb 会在该目录下生成一个名为 “[应用名称].deployed” 的文件作为已部署标 识。,TongWeb、应用管理、自动部署
如何进行自动部署,以如下信息为例进行说明。 • 默认自动部署目录:${tongweb.base}/autodeploy。 • 应用程序包:${tongweb.home}\version*\examples\examples.war 注意事项。 • 部署场景。 ◦ 若部署成功，则生成 “[文件名称].deployed” 标识文件。 ◦ 若部署失败，则生成 “[文件名称].failed” 文件，更新应用需要先卸载后再部署。 • 卸载场景。 ◦ 删除应用(文件夹、*.war、*.jar、*.ear、或其对应的 “[文件名称].deployed” 文件)，系统自动卸载 应用，且生成 “[文件名称].unDeployed” 标识文件。 注:相关解压目录一并删除。 ◦ 支持在页面上直接卸载自动部署应用。 ◦ 卸载应用后，在“应用回收”页面，可查看卸载的应用。 ◦ 在 “应用回收” 页面恢复卸载的应用后，恢复部署到 “${tongweb.base}/deployment” 目录，且不再是 自动部署应用。 • 自动部署的应用。 ◦ 自动部署的应用，支持在页面上进行更新其部署参数。 ◦ 停止 TongWeb，将原本自动部署目录下的应用文件删除，再次启动 TongWeb 后，系统自动清理残 留文件。 ◦ 已经自动部署过的应用(即生成过 “[文件名称].deployed”)，重启后不再触发自动部署。 • 更改自动部署目录 原来的自动部署目录更新为非自动部署目录后，已被自动部署的应用不能受影响。 操作步骤。 1. 将应用程序包拷贝到自动部署目录 “${tongweb.base}/autodeploy”。 2. 在应用列表中，查看已部署的应用。 应用状态为 “STARTED” 表示应用部署成功。 3. 在 “${tongweb.base}/autodeploy” 目录下，可查看到部署成功标识。 还可以通过用户web.xml或者tongweb-web.xml预置配置，详细操作参考用户使用手册,TongWeb、应用管理、自动部署步骤
存在多个应用时，指定应用部署的顺序,通过预置配置，为每个应用添加 “startupPriority” 设置部署顺序。 设置部署顺序后，在服务器启动时，TongWeb 服务器会根据设置的值按从小到大的顺序部署。取值范围为“0-99”。,TongWeb、应用管理、自动部署、应用部署顺序
自动部署注意事项,支持应用程序包和目录两种自动部署方式。部署成功生成 “[文件名称].deployed” 标识文件，失败生成 “[文件名称].failed” 文件。更新应用需先卸载后部署，已自动部署过的应用重启后不再触发自动部署 。,TongWeb、应用管理、自动部署
了解热部署,热部署是应用部署之后，在线实时对应用进行修改，结果会立刻展现,TongWeb、应用管理、热部署
开启热部署,开启“热加载”，即开启热部署，当用户修改 “${tong.base}/deployment” 中的应用的类文件或应用的配 置文件 web.xml 后，应用会自动进行重新部署并将最新的内容提供给用户,TongWeb、应用管理、热部署、打开热部署
如何进行热部署,1. 登录 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“应用管理”> “应用”，进入应用列表页面。 4. 单击“部署”，进入应用部署页面。 5. 单击“资源加载”，进入资源加载页面。 6. 开启 “热加载”，即开启热部署。 7. 其他参数请根据需要进行配置。 8. 配置完成后，单击“添加”，完成应用的部署操作。,TongWeb、应用管理、热部署、热部署步骤
热部署存在的危险,热部署开启 “热加载” 后，修改应用文件会自动重新部署，但在生产环境中可能存在稳定性风险，所以不建议开启。,TongWeb、应用管理、热部署、热部署注意事项
了解命令行部署,TongWeb 支持命令行部署。命令行的启动脚本是以 commandstool 命名的脚本文件，有 bat(Windows) 和 sh(Linux/Unix)两个版本。 启动脚本路径:。 • Windows:${tongweb.home}/bin/windows • Linux:${tongweb.home}/bin 关于 commandstool 的执行方式及基本参数，请参见《TongWeb_V8.0命令行工具手册》，此处提供部署应 用命令的使用说明。,TongWeb、应用管理、命令行部署
如何进行命令行部署,使用 commandstool 部署 Web 应用，如下所示 ${tongweb.home}/bin> sh commandstool.sh --model=app --action=add --username=thanos --password=thanos123.com --acceptAgreement=true --port=9060 --host=localhost appFrom=fromUpload fromUpload=D: \tongweb\version*.x\examples\examples.war 相关参数说明：。 --model TongWeb 管理控制台菜单对应的功能模块名称。 您可以通过执行“commandstool.[bat|sh] --help”查看功能模块名称以及 功能模块介绍。 --action 功能模块包含的操作。 您可以通过执行“commandstool.[bat|sh] –model=modelname --help”查 看操作名称以及操作的详细介绍。 --username TongWeb 服务器授权管理用户的用户名。 --password TongWeb 服务器授权管理用户的密码。 --acceptAgreement 设置为 “true”，表示阅读并同意许可协议。同意许可协议才允许登录 TongWeb 服务器。 --host 应用部署的虚拟主机。 --port 监听网络请求的端口。 appFrom 应用来源，部署的应用可以从客户端上传，也可以通过服务端指定的位置 读取。可设置为“fromUpload”或者“fromServer”。 fromUpload 应用的位置，服务器上应用程序的位置，通常是应用的程序包， 如“.war”、“.jar”、“.ear”、“.rar”。,TongWeb、应用管理、命令行部署、命令行部署应用
如何访问部署后的应用,1. 进入 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择 “应用管理” > “应用”，进入应用列表页面。 4. 在应用所在行的操作列，单击 “链接”，进入链接详情页面。 4. 在应用所在行的操作列，单击 “链接”，进入链接详情页面。 5. 单击生成的链接，即可访问部署的应用,TongWeb、应用管理、应用访问
了解应用监视,"您可以通过监视应用功能，实时监测应用的运行状况，包含阻塞/中断的线程数、当前会话数、资源缓存量、 请求数、错误请求数、请求处理时间,还能查看应用名称、状态、阻塞线程名、Servlet 明细、Filter 明细等 。",TongWeb、应用管理、应用监视
通过控制台查看应用监视,0. 进入TongWeb管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“应用管理”>“应用”，进入应用列表页面。 4. 单击“监视”，进入监视页面。 5. 您可以查看应用的实时阻塞的线程数、当前会话数等。 6. 用户还可查看应用名称、应用状态、阻塞的线程名、Servlet 明细、Filter 明细、WebService 明 细、REST 明细、中断的线程数、资源缓存量(KB)、请求处理总数、错误请求处理总数、请求处理时间 (毫秒)、启动时间以及启动耗时(毫秒)。 说明: 阻塞的线程名为“-1”，表示未开启慢线程检测功能。 若需要开启 “慢线程检测”，则选择 “应用管理” > “应用”，进入目标应用的 “性能” 页签，打开 “慢线程检 测” 开关即可。,TongWeb、应用管理、应用监视
下载监视结果,1. 进入应用列表页面。 2. 单击“监视”，进入监视视图页面。 3. 在监视视图页面，单击鼠标右键，可将监视视图另存为“.png”图片。,TongWeb、应用管理、应用监视、应用下载
通过控制台查看应用,1. 进入 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“应用管理”>“应用”，进入应用列表页面。 4. 您可以查看已部署应用的应用名、部署路径、访问前缀、虚拟主机、应用类型、自动部署、应用状态等。 应用状态，如下所示:。 ◦ “STARTED”:运行中。 ◦ “STOPPED”:停止。 ◦ “STARTING”:正在加载应用 ◦ “DEPLOYING”:部署中。 ◦ “FAILED”:失败,TongWeb、应用管理、应用查看
通过控制台编辑应用,应用部署完成后，若需要修改应用所配置的参数，可通过管理控制台进行并编辑应用。 编辑完成后，系统将会重新部署该应用，使修改生效。 注意事项 SpringBoot 兼容、命名空间兼容不允许编辑。 操作步骤。 1. 进入 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“应用管理”> “应用”，进入应用列表页面。 4. 单击“应用名”链接，进入编辑应用页面。 5. 您可以根据需要修改应用的相关属性配置。 ◦ SpringBoot 兼容、命名空间兼容:不能修改。 ◦ 其它参数:请根据需要进行修改。 6. 修改完成后，单击“更新”，完成应用的编辑操作。 若页面弹出“应用更新成功”，则说明编辑应用成功。,TongWeb、应用管理、应用编辑
通过控制台启动应用,应用部署完成后，默认为 “STARTED” 的状态。若您的应用处于 “STOPPED” 状态，您可以通过管理控制台 启动应用，使应用可以对外提供服务。 注意事项 该操作仅对 Web 类型的应用有效。 前置条件 已部署应用，且应用运行状态为 “STOPPED”。 操作步骤。 1. 进入 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“应用管理”>“应用”，进入应用列表页面。 4. 在应用所在行的操作列，单击“启动”，启动应用。 说明: 用户可根据需要勾选一个或多个应用，并单击列表上方的 “启动” 按钮，批量启动应用。 5. 在弹出的确认窗口中，单击 “确定”，完成启动应用操作。 若页面弹出 “应用启动成功” 提示信息，则说明启动应用成功。,TongWeb、应用管理、应用启动
通过控制台停止应用,应用部署完成后，默认为 “STARTED” 的状态。若该应用需要停止对外提供服务，可对应用执行停止操作。 停止应用后，该应用不再对外提供服务，继续访问该应用，页面将返回 404 错误码。 注意事项。 • 该操作仅对 Web 类型的应用有效。 • 当停止应用时，容器调用 servlet、filter 等的 destory 方法，以便让 Servlet 相关对象可以释放它所使用 的资源。如应用新建的端口、线程需要在 destory 方法中声明销毁。 当启动应用时，相当于进行了部署流程。 操作步骤。 1. 进入 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择 “应用管理” > “应用”，进入应用列表页面。 4. 在应用所在行的操作列，单击 “停止”，停止应用。 说明: 用户可根据需要勾选一个或多个应用，并单击列表上方的 “停止” 按钮，批量停止应用。 5. 在弹出的确认窗口中，单击“确定”，完成停止应用操作。 若界面弹出“应用停止成功”提示信息，则说明应用停止成功。 应用停止后，用户再次访问应用，页面返回“HTTP ERROR 404”，页面无法访问。,TongWeb、应用管理、应用停止
通过控制台卸载应用,已部署的应用若需要停止应用的服务，可对应用执行卸载操作。 卸载应用后，TongWeb 将会把部署的应用从内存中卸载。对于自动部署和上传部署的应用，卸载后，应用 会自动备份到“${tongweb.base}/data/app/recycle”目录。 注意事项。 • 若部署的应用存在关联的“应用增量”，卸载应用时，系统将同步删除应用增量包，并与应用合并为一个应 用，备份到 “${tongweb.base}/data/app/recycle” 目录。 • 若应用卸载后需要恢复应用，您可以在“应用回收”页面或者自动备份的文件，对卸载的应用进行恢复。 控制台卸载。 1. 进入 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“应用管理”>“应用”，进入应用列表页面。 4. 在应用所在行的操作列，单击“卸载”，卸载应用。 5. 在弹出的确认窗口中，单击“确定”，完成卸载应用操作。 若页面弹出“应用卸载成功”提示信息，则说明应用卸载成功。 删除“应用名称.deployed”标志文件 针对自动部署的应用，可通过删除 “应用名称.deployed” 标志文件的方式卸载应用。 1. 进入 “${tongweb.base}/autodeploy” 目录。 2. 删除 “应用名称.deployed” 标志文件，即可卸载应用。,TongWeb、应用管理、应用卸载
了解应用模板,用户可以通过应用模板预定义部署应用的参数。当部署应用时，指定应用模板后，系统将会使用应用模板里 的参数来部署应用。部署应用时指定的其它参数将会被忽略。 用户也可以在“全局配置”中，指定全局应用模板。若部署应用时，没有指定应用模板，则会尝试使用”全局配 置“里的”全局应用模板“。 注意事项 若应用同时配置了自定义描述文件 tongweb-web.xml，则会优先使用 tongweb-web.xml 里面的配置参数。,TongWeb、应用管理、应用模板
通过控制台创建应用模板,1. 进入 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“应用管理”>“应用模板”，进入应用模板页面。 4. 单击“创建”，进入创建应用。 5. 设置应用模板名称、启动优先级、虚拟主机等参数。 其它参数:请根据实际情况配置，详细说明请参见应用模板参数配置说明。 6. 配置完成后，单击“添加”，完成应用模板的创建操作。 若界面弹出“添加应用模板成功”提示信息，则说明创建应用模板成功。模板页面。,TongWeb、应用管理、应用模板创建
通过控制台使用应用模板,指定应用模板后，系统将会使用应用模板里的参数来部署应用。 • 部署应用时指定应用模板。 1. 在左侧导航栏中，选择 “应用管理”>“应用”，进入应用列表页面。 2. 部署应用或者编辑已部署的应用时，进入应用详情页面。 3. 单击“添加”(部署应用时)或“更新”(编辑应用时)，完成应用模板的应用。 • 全局配置时指定应用模板。 1. 在左侧导航栏中，选择 “基础配置”>“全局配置”>“应用”，进入应用配置页面。 2. 在 “全局应用模板” 下拉列表中，选择已创建的应用模板。 3. 单击 “更新”，更新全局配置。若界面弹出 “全局配置更新成功” 提示信息，则说明更新全局配置成功。,TongWeb、应用管理、应用模板使用
通过控制台查看应用模板,1. 进入 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“应用管理”>“应用模板”，进入应用模板页面。 4. 您可以查看已创建的应用模板，包含应用模板的序号、模板名等。,TongWeb、应用管理、应用模板查看
通过控制台修改应用模板,应用模板配置信息修改后，引用该模板的应用需要更新应用(更新应用后，系统将应用重新部署)后才能生 效。 1. 进入 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“应用管理”>“应用模板”，进入应用模板页面。 4. 单击目标应用模板的模板名，进入应用模板详细配置信息页面。 5. 根据需要修改应用模板的相关信息，应用模板的名称、SpringBoot 兼容、命名空间兼容不可修改。 6. 修改完成后，单击 “更新”，即可完成应用模板的编辑操作。,TongWeb、应用管理、应用模板修改
通过控制台删除应用模板,已被应用应用的模板不可删除。 若需要删除应用模板，请先解除相关引用。删除后不可恢复，请谨慎操作。 1. 登录 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“应用管理”>“应用模板”，进入应用模板列表页面。 4. 单击目标应用模板所在行的“删除”，弹出确认删除窗口。 5. 单击“确定”，完成应用模板的删除操作。,TongWeb、应用管理、应用模板删除
了解更新应用功能,您可以通过创建应用增量的方式，以达到更新应用的目的。 应用增量更新包是应用的局部更新文件。 创建应用增量后，应用增量会和目标应用合并到一起，起到更新应用的作用。 一个目标应用可以安装多个增量包，合并时会根据增量包的时间依次叠加进行。 注意事项。 • 实现替换或新增应用文件。 用户可根据需要输入模板的名称，单击 “搜索” 按钮，搜索指定应用模板。 用户可根据需要勾选一个或多个应用模板，并单击列表上方 “删除” 按钮，批量删除应用模板。 需使增量更新包文件组织结构与目标应用保持一致。 • 实现移除目标应用中的文件。 需要在增量更新包根目录建立 “DeleteFiles.txt” 文件，并在其中分行标记要移除的文件，每行记录一个文 件，文件路径为相对于目标应用根目录的相对路径。 • 应用增量更新包必须是“*.zip”类型。,TongWeb、应用管理、更新应用
更新应用功能的使用,应用增量更新包创建成功后，存放在“${tongweb.base}/data/app/update/应用名/patch/应用增量名称+时 间”。 操作步骤。 1. 进入 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择 “应用管理” > “应用增量”，进入应用增量页面。 4. 单击“创建”，进入创建应用增量页面。 5. 设置应用增量名称、选择目标应用、上传应用增量包或者设置应用增量包在服务器上的位置。 ◦ 上传文件:控制台默认关闭上传文件功能。若需要开启，请参见禁用文件上传。 ◦ 其它参数:请根据实际情况配置，详细说明请参见应用增量参数配置说明。 6. 配置完成后，单击“添加”，完成应用增量的创建操作。 若界面弹出“添加应用增量成功”提示信息，则说明创建应用增量成功。,TongWeb、应用管理、更新应用、创建应用增量
更新应用功能的使用,1. 进入 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“应用管理”>“应用增量”，进入应用增量页面。 4. 您可以查看已创建的应用增量。 包含应用增量的名称、目标应用、创建日期等。 5. 单击目标应用增量，进入应用增量详细信息页面。 6. 您可以查看应用增量的名称、目标应用、创建日期等。,TongWeb、应用管理、更新应用、查看应用增量
更新应用功能的使用,回退应用增量包后，应用回退到应用更新前。 回退应用增量包后，“${tongweb.base}/data/app/update/应用名/patch”里对应的应用增量文件会同步删 除。 回退应用增量更新包后，系统自动删除增量更新包，且不可恢复，请谨慎操作。 1. 登录 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“应用管理”>“应用增量”，进入应用增量列表页面。 4. 单击目标应用增量所在行的“回退”，弹出确认回退窗口。 5. 单击“确定”，完成应用增量文件的回退操作。 若界面弹出“应用增量回退成功”提示信息，则说明回退应用增量文件成功。 “${tongweb.base}/data/app/update/应用名/patch/”目录下的对应的应用增量文件也将被删除。,TongWeb、应用管理、更新应用、回退应用增量
应用备份,注意事项。 • 您可以通过管理控制台备份当前生效的应用文件，默认备份路径为 “${tongweb.base}/data/app/backup” 目录。 说明: 您也可以 “基础配置” > “全局配置” > “应用”，自定义应用备份目录。 • 同一个应用最多可创建三个备份，继续备份会清理较老的备份，请谨慎操作。 说明: 您也可以进入 “基础配置” > “全局配置” > “应用”，自定义应用备份数量，超过该值后，继续备份会清除 较老的备份。 您也可以通过备份的应用文件，恢复当前应用，详细操作请参见恢复备份应用。 前置条件。 • 已获取管理控制台系统管理员账号和密码。 • 已部署应用。 操作步骤。 1. 进入 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“应用管理”> “应用备份”，进入应用备份页面。 4. 单击“创建”，进入创建应用备份页面。 5. 在“备份应用”下拉列表中，选择待备份的应用，并根据需要添加备份应用的相关描述信息。 6. 单击“添加”，完成应用的备份操作。 7. 在应用备份列表中，可查看备份的应用，您也可以进入“${tongweb.base}/data/app/backup”目录，查看备份的应用。,TongWeb、应用管理、备份应用
如何查看备份应用配置,1. 登录 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“应用管理”>“应用备份”，进入应用备份列表页面。 4. 单击目标应用所在行的“配置信息”，即可查看目标应用的配置信息详情。 包含备份应用、名称、应用文件、配置信息、备份日期、备份说明等。,TongWeb、应用管理、备份应用
如何下载备份的应用,您可以根据需要下载已备份的应用或者配置文件(tongweb-web.xml)。并可以将下载的配置文件 (tongweb-web.xml)用作自动部署应用时的预配置文件。 操作步骤。 1. 登录 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“应用管理”>“应用备份”，进入应用备份列表页面。 4. 在下载应用所在行的操作列，单击“下载”，弹出选择需要下载的文件窗口。 5. 选择待下载的应用或者配置文件(tongweb-web.xml)。 6. 单击“下载”，即可下载文件。 下载以备份应用的名称命名的“.zip”包，解压后即可使用。,TongWeb、应用管理、备份应用下载
如何恢复备份应用,您可以在应用备份列表中，直接单击目标应用备份所在行的“恢复”，恢复应用。恢复期间应用会被停止。若 有存在的会话，则会话会丢失。 注意事项。 • 恢复备份应用时，自动恢复部署到 “${tongweb.base}\deployment” 目录。 • 若在 “${tongweb.base}\backup\app\backup” 里应用备份文件被删除，应用备份列表里的备份应用记录也会被清除，则该应用将无法恢复，请谨慎操作。 操作步骤。 1. 登录 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“应用管理”>“应用备份”，进入应用备份列表页面。 4. 在待恢复应用所在行的操作列，单击“恢复”，恢复到本次备份。 若界面弹出“应用备份恢复成功”提示信息，则说明恢复应用成功。,TongWeb、应用管理、备份应用恢复
如何管理应用备份,查看应用备份 在应用备份列表中，您可以根据需要进行查看、恢复、删除指定应用备份。 1. 进入 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“应用管理”>“应用备份”，进入应用备份页面。 4. 您可以查看应用备份中已备份的应用。 包含备份应用的名称、应用文件、备份日期、备份说明等信息。 5. 单击应用备份名称，可以更新应用备份的备份说明。 删除应用备份 删除应删除应用备份里的应用备份文件时，“${tongweb.base}\backup\app\backup”里对应的应用文件会同步删除 。 删除后不可恢复，请谨慎操作。 1. 登录 TongWeb 管理控制台。 2. 切换到目标实例。 3. 在左侧导航栏中，选择“应用管理”>“应用备份”，进入应用备份列表页面。 4. 单击目标应用备份文件所在行的“删除”，弹出确认删除窗口。 5. 单击“确定”，完成应用备份文件的删除操作。 若界面弹出“应用备份删除成功”提示信息，则说明删除应用备份文件成功。 “${tongweb.base}/data/app/backup”目录下的对应的应用备份文件也将被删除。用备份文件时，该组件引用的其它组件不会被删除。,TongWeb、应用管理、管理应用备份、查看应用备份、删除应用备份
EJB 是什么？它有哪些类型？,EJB（Enterprise Java Beans）是用于开发和部署多层结构的、分布式的、面向对象的Java应用系统的跨平台的构件体系结构。根据其服务范围，EJB可分为本地EJB和远程EJB两种类型。本地EJB只能在同一个应用内部访问，而远程EJB可以跨应用、跨进程和跨网络进行访问。,"TongWeb8, EJB"
如何在TongWeb中部署EJB模块？,TongWeb支持EJB模块的部署，EJB模块可打包在“jar”、“.ear”、“.war”三种标准应用文件中，部署到TongWeb服务器上。,"TongWeb8, EJB, 部署"
如何访问远程EJB？,"访问远程EJB的第一步是要获得其所在JNDI的上下文Context对象。需要填写必要的远程信息，例如使用HTTP或W3协议。如果远程客户端不在TongWeb上，需要在TongWeb控制台下载“tongweb-ejb-client-all.jar”并引入到项目中。 #可选，客户端连接池大小，默认值50，使用W3协议时会影响线程池活跃线程数，建议设置不超过EJB专用协议最大 线程数 System.setProperty(""tongejb.client.connection.pool.size"", ""50""); #客户端连接超时时间 System.setProperty(""tongejb.client.connection.socket.timeout"", ""10000""); #客户端连接超时时间 System.setProperty(""tongejb.client.connection.socket.read"", ""10000""); #客户端连接池等待超时时间 System.setProperty(""tongejb.client.connection.pool.timeout"", ""10000""); #可选 PING_PING/PING_PONG，设置客户端socket连接处理方式，默认值 PING_PING, 当连接失效时不去重新创建连接；PING_PING当连接失效时，清空socket连接并创建新的连接 System.setProperty(""tongejb.client.keepalive"",""PING_PING""); #设置连接程序，注：该程序位于tongweb-ejb-client.jar内，需首先将该jar及其依赖jar放入客户端程序的类路径中 Properties p = new Properties(); #固定参数值，不可更改 p.put(""java.naming.factory.initial"",""com.tongweb.tongejb.client.RemoteInitialContextFactory""); #使用HTTP协议，与W3协议二选一，以根据服务器开放的服务为准 p.put(""java.naming.provider.url"",""http://IP:8088/ejbserver/ejb""); #使用W3协议，与HTTP协议二选一，以根据服务器开放的服务为准 p.put(""java.naming.provider.url"",""w3://IP:5200""); #查找远程ejb的JNDI名，该JNDI名通常是EJB模块的mappedName，可选择添加JavaEE环境参数 java:comp/env/，如 ejbContext.lookup(""java:comp/env/ManagerBeanRemote"") Context ejbContext = new InitialContext(p); ManagerBeanRemote mbr = (ManagerBeanRemote)ejbContext.lookup(""ManagerBeanRemote""); #调用远程ejb的业务方法 mbr.remoteCall();","TongWeb8, EJB, 远程访问"
如何配置EJB集群以支持故障转移需求？,"EJB集群可用于支持故障转移需求，保障EJB服务的高可用。具体的故障转移策略包括粘性、轮流、随机。访问EJB集群与访问EJB唯一的区别在于`java.naming.provider.url`参数，格式为`failover:[strategy:]urlList`，其中`strategy`可以是""sticky""（亲和）、“round-robin”（轮转）、“random”（随机）。 配置示例 Properties p = new Properties(); ... //使用HTTP协议的集群配置方式 p.put(""java.naming.provider.url"",""failover:sticky:http://IP:8088/ejbserver/ejb,http://IP2:8088/ejbserver/ejb""); //使用W3协议的集群配置方式 p.put(""java.naming.provider.url"",""failover:random:w3://IP:5200,w3://IP2:5200""); ...","TongWeb8, EJB, 集群"
如何通过HTTP协议访问EJB？,通过HTTP协议访问EJB需要在TongWeb控制台的“EJB http协议”模块中开启HTTP协议，并通过“通道”模块进行管理。访问时需要设置`java.naming.provider.url`为类似`http://IP:8088/ejbserver/ejb`的格式。,"TongWeb8, EJB, HTTP协议"
如何关闭TongWeb控制台的部署？,"可以通过修改`${tongweb.base/conf/tongweb.xml`文件，在`<applications><app/></applications>`字段下，添加`state=""STOPPED""`属性，即可关闭console控制台的部署。","TongWeb8, 控制台, 关闭部署"
如何开放TongWeb的端口？,TongWeb端口开启访问规则基本原则是对外用户访问只暴露应用访问端口，其它端口为内部进程通信端口。只需对内放开，不需对外暴露。默认端口包括：8088（默认应用访问端口）、9060（默认控制台端口）、7200（JMX端口，默认关闭）、5200（EJB w3远程端口，默认关闭）、TongWeb MQ消息服务器7676（JMS服务端口）、TongDataGrid内存会话服务器5701（session复制端口）。,"TongWeb8, 端口, 开放端口"
如何改变应用与端口的启动顺序？,可以通过开启或关闭“延迟启动通道”的方式改变应用与端口的启动顺序。开启后，TongWeb在启动时，会优先启动应用，应用启动完成后，再启动端口。,"TongWeb8, 启动顺序, 应用与端口"
TongWeb的应用配置优先级是怎样的？,应用配置优先级为：web.xml > tongweb-web.xml > 用户输入（控制台、命令行、REST等方式） > 默认参数。用户可以在应用内部放置一个tongweb-web.xml事先定下来所有的业务参数，以方便部署时无需再输入。,"TongWeb8, 配置优先级, 应用配置"
如何配置TongWeb的开机自启？,安装TongWeb后，若需要本机开机时自动启动TongWeb，可以通过控制台界面或使用admin.sh的方式开启开机自启服务。 - 在控制台中，切换到目标实例，选择“基础配置”>“启动策略”，进入启动策略页面，开启“开机自启”即可。 - admin.sh 脚本方式，安装服务 —— ./admin.sh systemd install，卸载服务 —— ./admin.sh systemd uninstall,"TongWeb8, 开机自启, 启动策略"
TongWeb的日志路径是什么,日志路径为：${tongweb.base}/logs。日志文件包括访问日志(access)、审计日志(audit)、GC垃圾回收日志(gc)、JVM相关日志(jvm)、服务器运行期间产生的系统日志(server)等。,"TongWeb8, 日志路径, 日志管理"
如何为不同实例配置不同JDK版本,当不同的应用需要使用不同JDK版本时，可以通过创建不同的实例，为实例配置不同的JDK版本。步骤包括：登录TongWeb管理控制台，进入集中管理页面，选择“服务管理”>“实例”，进入实例页面，单击“创建实例”，根据需要配置实例相关参数，启动实例，进入启动实例的管理页 > JVM配置 > 环境变量中设置Java路径值为目标JDK安装目录。,"TongWeb8, JDK版本, 实例配置"
如何调整TongWeb的线程池？,调整线程池的方法包括调整最大线程数和最小线程数。最大线程数的调整方法是：进入TongWeb管理控制台，选择“Web容器”>“通道”，进入通道编辑页面，在“线程”页签下，配置“最大线程数”。最小线程数的调整方法是：在“线程”页签下，配置“最小备用线程数”。,"TongWeb8, 线程池, 调整线程"
如何引用TongWeb的数据源,"采用java:comp/env/jdbc/testdb方式引用数据源。配置数据源jdbc/testdb，代码dataSource = (DataSource) initialContext.lookup(""java:comp/env/jdbc/testdb"")，应用web.xml中配置信息如下信息 <resource-ref> <description>jdbc/testdb</description> <res-ref-name>jdbc/testdb</res-ref-name> <res-type>javax.sql.DataSource</res-type> <res-auth>Container</res-auth> </resource-ref>","TongWeb8, 数据源, 引用数据源"
如何设置TongWeb的JavaEE8全局编码？,JavaEE8规范里全局编码“request-character-encoding”，以web.xml优先，控制台次之。在web.xml中设置：`<request-character-encoding>GBK</request-character-encoding>`和`<response-character-encoding>GBK</response-character-encoding>`。,"TongWeb8, JavaEE8, 全局编码"
如何开启TongWeb的“禁止System退出”？,进入“安全管理”>“安全策略”>“启停安全”，开启“System退出检测”和“禁止System退出”，日志提示信息如下所示：[INFO] - System exit request has been denied.,"TongWeb8, 安全管理, 禁止System退出"
如何使用TongWeb的jstack功能？,通过TongWeb控制台即可完成jstack操作。步骤包括：进入TongWeb管理控制台，切换到目标实例，选择“诊断管理”>“采集模板”，进入采集模板页面，设置采集模板名称，并勾选分析工具“jstack”，基于创建的采集模板打快照，下载到本机分析。,"TongWeb8, jstack, 诊断管理"
如何调整TongWeb的资源缓存？,查看应用的监视项的“资源缓存量”，对缓存进行调整。注意不要盲目调大缓存，避免资源浪费。,"TongWeb8, 资源缓存, 调整缓存"
如何开启TongWeb的“使用老版Cookie处理器”？,进入“应用管理”>“应用”，进入应用详细信息页面，单击“会话与Cookie”，进入会话与Cookie配置信息页面，开启“使用老版Cookie处理器”。,"TongWeb8, Cookie处理器, 老版Cookie"
如何关闭TongWeb的“Strict Quote Escaping”？,进入“应用管理”>“应用”，进入应用详细信息页面，单击“JSP”，进入JSP配置信息页面，关闭“Strict Quote Escaping”。,"TongWeb8, JSP配置, Strict, Quote, Escaping"
如何开启TongWeb的“允许跨应用访问”？,进入“应用管理”>“应用”，进入应用详细信息页面，单击“安全”，进入安全配置信息页面，开启“允许跨应用访问”，并单击“更新”。,"TongWeb8, 跨应用访问, 安全配置"
如何处理TongWeb中路径或参数中的未编码字符？,在目标HTTP通道中，开启“路径中允许使用的未编码字符”和“参数中允许使用的未编码字符”，并配置允许的字符集。,"TongWeb8, 未编码字符, 路径参数"
如何解决TongWeb部署应用时的超时日志信息？,部署应用时的“慢线程检测”、“阻塞阈值”用于处理超时的线程。调整相关参数以解决超时问题。,"TongWeb8, 部署应用, 超时日志"
如何处理TongWeb的数据源连接泄露日志？,通过配置数据源的健康检查和连接泄漏检查功能，检测并记录泄漏连接的日志。开启“连接泄漏检查”功能，设置泄漏判定时间和比例，以检测和处理连接泄漏。,"TongWeb8, 数据源, 连接泄露"
如何处理TongWeb的数据源连接满日志？,调整数据源的最大连接数和连接池的超时时间，以避免连接池耗尽。确保数据库连接及时归还连接池，避免长时间占用连接。,"TongWeb8, 数据源, 连接满"
如何处理TongWeb的请求处理队列满问题？,调整http通道线程池的大小和任务队列的容量，优化应用的性能和资源利用率，以避免请求处理队列满的问题。,"TongWeb8, 请求处理队列, 队列满"
如何查看TongWeb的授权信息？,登录TongWeb管理控制台，进入集中管理页面，选择“系统管理”>“产品授权”，查看产品授权信息，包括授权产品、授权版本、版本类型、授权客户、授权类型、授权期限、授权IP、授权节点数等。,"TongWeb8, 授权管理, 查看授权"
如何更新TongWeb的授权信息？,更新授权信息后，license自动同步到所有节点。更新步骤包括：登录TongWeb管理控制台，进入集中管理页面，选择“系统管理”>“产品授权”>“更新”，上传或指定授权文件在服务器上的位置，设置授权文件目录，单击“更新”。,"TongWeb8, 授权管理, 更新授权"
如何设置TongWeb的授权检查时间？,登录TongWeb管理控制台，切换到目标实例，选择“基础配置”>“全局配置” > “授权”，进入全局配置的“授权”页面，设置检查的时间点。,"TongWeb8, 授权管理, 授权检查时间"
如何设置TongWeb的授权到期提醒？,用户可根据需要设置授权到期提前提醒的天数，同时可设置提醒的方式，包含邮件和短信。设置步骤包括：登录TongWeb管理控制台，切换到目标实例，选择“基础配置”>“全局配置” > “授权”，进入全局配置的“授权”页面，根据需要设置提前的时间以及发送方式。,"TongWeb8, 授权管理, 授权到期提醒"
如何将TongWeb的授权推送到授权中心？,在“默认实例”的“全局配置”模块打开“启用授权中心”，并选择“注册中心”将授权文件推送到授权中心。步骤包括：准备两个TongWeb实例，配置TongWebA的注册中心，打开“启用授权中心”，推送到授权中心，配置TongWebB从注册中心拉取授权文件。,"TongWeb8, 授权管理, 推送授权"
如何进行TongWeb的产品升级？,支持TongWeb产品版本在线升级，根据需要将TongWeb升级到一个新的版本。升级步骤包括：登录TongWeb管理控制台，进入集中管理页面，选择“系统管理”>“产品升级”，上传文件或设置产品“.zip”包在服务器上的位置，单击“升级”，完成产品升级操作。,"TongWeb8, 产品升级, 版本升级"
在TongWeb V8.0中如何创建集群？,"1. 登录TongWeb管理控制台，进入""集中管理""页面。 2. 在左侧导航栏选择""服务管理 > 集群""，进入集群页面。 3. 点击""创建""，填写集群名称、选择节点、负载均衡器、配置监听端口等参数。 4. 提交后集群将创建完成，默认处于停止状态，需手动启动。","TongWeb8, 集群管理, 创建集群"
如何为集群扩容节点？,"1. 在""服务管理 > 节点""中创建新节点（支持SSH或手动方式）。 2. 在""服务管理 > 实例""中为新节点创建实例并关联到目标集群。 3. 启动新节点后，集群将自动识别新增实例。","TongWeb8, 集群管理, 节点扩容"
TongDataGrid在集群中起什么作用？,TongDataGrid(TDG)是会话服务器，用于存储和备份应用的Session数据。当某个TongWeb节点故障时，其他节点可通过TDG恢复Session数据，保障会话高可用。,"TongWeb8, 集群组件, 会话管理"
如何为TongWeb集群配置负载均衡器？,"1. 安装THS/Nginx/Apache负载均衡器。 2. 在""服务管理 > 负载均衡器""中创建负载均衡器实例。 3. 配置监听端口（如9200）、节点关联等参数。 4. 启动负载均衡器并与集群绑定","TongWeb8, 负载均衡, THS"
如何设置TongWeb节点随系统自动启动？,"1. 创建节点时勾选""开机自启""选项。 2. Linux系统需配置tongweb.service服务。 3. Windows系统不支持此功能。 4. 节点启动后会带动关联实例自动启动","TongWeb8, 节点管理, 自启动"
TongWeb集群中的实例有哪些管理操作？,支持操作包括：。 1. 启停/强停实例。 2. 下载实例日志。 3. 切换实例管理界面。 4. 编辑实例配置。 5. 移除冗余实例记录,"TongWeb8, 实例管理, 运维操作"
创建TongWeb节点时支持的注册方式是什么？,两种注册方式：。 1. SSH方式：自动安装TongWeb并创建默认实例。 2. 手动方式：适用于已安装TongWeb的环境，需配置传输密钥,"TongWeb8, 节点管理, 注册方式"
如何配置TongWeb集群的会话共享功能？,"1. 创建TongDataGrid会话服务器。 2. 在""资源管理 > 会话服务器""中关联TDG。 3. 部署应用时选择""会话与Cookie""配置项。 4. 指定使用的TDG实例","TongWeb8, 会话管理, 高可用"
"集群配置中的""滚动更新""功能有何用途？",开启滚动更新后：。 1. 应用更新时逐个更新实例。 2. 保证业务连续性。 3. 避免同时重启导致服务中断。 4. 更新效率较低但更安全,"TongWeb8, 集群管理, 滚动更新"
停止TongWeb节点会产生什么影响？,1. 仅停止节点默认域domain1。 2. 由该节点启动的其他实例不受影响。 3. 需单独停止关联的实例和负载均衡器。 4. 集群会自动剔除不可用节点,"TongWeb8, 节点管理, 启停操作"
实例模板在集群管理中的应用场景是什么？,实例模板用于：。 1. 快速复制实例配置（数据源、全局变量等）。 2. 保持多实例配置一致性。 3. 生成标准版/轻量版时复用配置。 4. 不支持应用程序的复制,"TongWeb8, 资源配置, 实例模板"
如何获取TongWeb集群的运行日志？,"1. 节点/实例需处于运行状态。 2. 在对应管理页面点击""下载""按钮。 3. 选择需要下载的日志类型（server/access/audit）。 4. 日志会打包为以节点/实例命名的压缩包","TongWeb8, 日志管理, 故障排查"
将实例注册到集中管理的方法有哪些？,"1. 自动注册：通过""全局配置""设置注册URL。 2. 服务注册中心：集成Nacos等注册中心。 3. 手动注册：配置加密公钥和传输密钥","TongWeb8, 集中管理, 服务注册"
TongWeb轻量版与企业版的主要差异是什么？,1. 轻量版去除EJB/JCA等企业级功能。 2. 轻量版支持云原生部署。 3. 企业版包含完整JavaEE功能。 4. 可通过版本生成功能互相转换,"TongWeb8, 版本管理, 轻量模式"
如何设置集群中应用的会话超时时间？,"1. 在应用部署的""会话与Cookie""配置页。 2. 设置""最大非活动间隔(秒)""。 3. 可针对单个应用独立配置。 4. 需同步配置TDG的通信超时参数","TongWeb8, 会话管理, 应用配置"
什么情况下需要对集群进行强制停止？,1. 正常停止流程长时间无响应。 2. 进程出现死锁或阻塞。 3. 需要立即释放资源。 4. 注意：可能导致数据丢失,"TongWeb8, 集群管理, 故障处理"
TongWeb提供哪些集群监控手段？,1. 组合监视模板。 2. Prometheus指标采集。 3. 一键巡检功能,"TongWeb8, 监控管理, 运维监控"
如何创建消息服务器？,创建消息服务器需要在集中管理页面中选择“资源配置”>“消息服务器”，进入消息服务器列表页面，点击“创建”，配置消息服务器相关参数，如名称、自启动、所在节点等，最后点击“添加”完成消息服务器的创建。,"TongWeb8, 集群管理, 创建消息服务器"
如何生成TongWeb轻量版？,生成TongWeb轻量版需要登录TongWeb管理控制台，进入集中管理页面，选择“扩展支持”>“版本生成”，进入版本生成页面，选择“轻量版”类型，配置命名空间等参数，点击“生成”即可生成轻量版。生成的轻量版存在于“${tongweb.home}\tongweb-lite”目录下。,"TongWeb8, 版本生成, 轻量版"
