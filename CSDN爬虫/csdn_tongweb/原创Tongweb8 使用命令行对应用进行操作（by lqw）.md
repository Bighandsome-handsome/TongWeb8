# 原创Tongweb8 使用命令行对应用进行操作（by lqw）

> 原文地址: https://blog.csdn.net/weixin_39938069/article/details/140381768

---

文章目录
声明
思路和概念
新增应用
更新应用
启动应用
停止应用
删除应用
启停
声明
本帖只是做一些简单的命令行操作，仅供参考，详细内容建议参考TongwebV8.0 命令行工具参考，生产环境操作，最好先做好备份。
思路和概念
首先我们要知道，tw8的命令行工具在哪里（一般在tw8安装目录的bin目录下）：
其次，我们要弄清楚对象。
在tw8 里，有以下三个重要的对象的概念：实例，节点和集群
根据业务的需求不同，应用可以部署在实例里，也可以部署在节点和集群里，所以我们要弄清楚，操作的对象是哪一个，是实例，节点，还是集群，这个是在命令行工具里用到的非常重要的参数：
本次示范主要用实例和节点来操作（其中实例为默认实例domain1，节点为自建节点testnode01）
以查看domain1下的应用列表为例：
./commandstool.sh --model=app --action=add --username=thanos
–password=Yeyehuo163.com --acceptAgreement=true --port=9060 --host=localhost appFrom=fromUpload
fromUpload=/opt/TongWeb8.0.7.3/examples/webServiceExample.war
首先，我們要整理清楚，是针对谁，例如节点，实例，集群；做什么操作，例如增删查；以及需要什么参数，例如用户名，密码，应用名，应用路径，应用上传形式。
以上面的例子来说明：
–model=app 意思是应用模块，–acion=add 就是新增操作 --username 意思是用户名，–password 意思是密码，–port 是端口（这个一般有默认设置的，就用默认的好了），—host 是使用的虚拟主机名（一般默认localhost），appFrom=fromUpload 意思是上传的形式上传应用包 ，fromUpload就是指应用包路径。
其中，–action就是操作，下图是支持的操作列表：
好了，接下来我们根据这种逻辑去试一下
新增应用
参考示范：
./commandstool.sh
--model
=
app
--username
=
thanos
--password
=
Yeyehuo163.com
--acceptAgreement
=
true
--action
=
add
targetType
=
instance
targetName
=
domain1
appFrom
=
fromUpload
fromUpload
=
/opt/TongWeb8.0.7.3/vesionexample/examples/examples.war
这里用的是thanos用户，密码Yeyehuo163.com，新增操作，针对对象为实例，实例名字为domain1，fromUpload 进行上传，上传路径/opt/TongWeb8.0.7.3/vesionexample/examples/examples.war。
实际操作请确认一下targetType和targetName（targetType：cluster（集群），node（节点），instance（实例） ）。
更新应用
./commandstool.sh
--model
=
app
--username
=
thanos
--password
=
Yeyehuo163.com
--acceptAgreement
=
true
--action
=
update
targetType
=
instance
targetName
=
domain1
name
=
examples
这里用的是thanos用户，密码Yeyehuo163.com，更新操作，针对对象为实例，实例名字为domain1，应用名examples。
实际操作请确认一下targetType和targetName（targetType：cluster（集群），node（节点），instance（实例） ）。
启动应用
./commandstool.sh
--model
=
app
--username
=
thanos
--password
=
Yeyehuo163.com
--acceptAgreement
=
true
--action
=
start
targetType
=
instance
targetName
=
domain1
name
=
examples
这里用的是thanos用户，密码Yeyehuo163.com，启动操作，针对对象为实例，实例名字为domain1，应用名examples。
实际操作请确认一下targetType和targetName（targetType：cluster（集群），node（节点），instance（实例） ）。
停止应用
./commandstool.sh
--model
=
app
--username
=
thanos
--password
=
Yeyehuo163.com
--acceptAgreement
=
true
--action
=
stop
targetType
=
instance
targetName
=
domain1
name
=
examples
这里用的是thanos用户，密码Yeyehuo163.com，停止操作，针对对象为实例，实例名字为domain1，应用名examples。
删除应用
./commandstool.sh
--model
=
app
--username
=
thanos
--password
=
Yeyehuo163.com
--acceptAgreement
=
true
--action
=
delete
targetType
=
instance
targetName
=
domain1
name
=
examples
这里用的是thanos用户，密码Yeyehuo163.com，删除操作，针对对象为实例，实例名字为domain1，应用名examples。
实际操作请确认一下targetType和targetName（targetType：cluster（集群），node（节点），instance（实例） ）。
启停
以集群为例：
# 进入到tw8的bin目录
cd
/opt/TongWeb8.0.7.3/bin
# 启动集群
./commandstool.sh
--model
=
cluster
--action
=
start
--password
=
Yeyehuo163.com
--acceptAgreement
=
true
--username
=
thanos
name
=
cluster
#停止集群
./commandstool.sh
--model
=
cluster
--action
=
stop
--password
=
Yeyehuo163.com
--acceptAgreement
=
true
--username
=
thanos
name
=
cluster
实际操作请确认一下model和tnameame（model：cluster（集群），node（节点），instance（实例） ）。