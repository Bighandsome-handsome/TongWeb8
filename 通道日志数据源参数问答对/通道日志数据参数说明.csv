参数,名称,参数说明,,,,,,
logPattern,系统日志的日志格式,日志内容的记录格式，包括时间戳、线程名、日志级别等。,,,,,,
enableConsoleLogging,系统日志的启用控制台日志,启用后，系统将在控制台输出日志信息,,,,,,
takeoverJUL,系统日志的接管 Java Logger,将使用 java.utillogging.Logger 打印的应用日志转入到TongWeb 日志模块统一处理，如存入 TongWeb 的server.log 日志文件等。不开启，则会丢弃这些应用日志。注：若应用已有 Java Logger 配置且需要使用自己的，则需修改 tongweb.xml，删除-Djava.utillogging/logmanager 参数。,,,,,,
takeoverSystemPrint,系统日志的接管系统打印,将系统打印（System.out、System.err）的日志转入到日志模块统一处理。注：若不开启，则会丢弃这些日志。,,,,,,
printToConsoleOnly,系统日志的应用日志仅输出到控制台,"启用后,应用代码通过系统打印 (System.out、System.err)和JUL (java.utilloggingloggers)输出的日志将仅在控制台输出,而不再存入系统日志文件(即默认的server.log文件)。",,,,,,
enableAsynchronous Logging,系统日志的开启异步日志,"日志记录可以在单独的线程中执行,好处是应用程序本身不会被缓慢的IO操作阻塞,写入线程以低优先级运行并与应用程序一起自动关闭。",,,,,,
bufferQueueSize,系统日志的缓冲队列大小,"日志缓冲队列大小,单位为条数。缓冲队列所能容纳的日志字节大小的最大值为缓冲队列大小乘以每条日志的字节大小,可据此估计日志子系统所需要的内存峰值。",,,,,,
checkInterval,系统日志的轮询间隔,"开启异步日志后,TongWeb会周期性检测是否有需要输出的日志,此处可设置检测的频率,即每隔多久检测一次,单位:毫秒。",,,,,,
baseFile,系统日志的文件目录,将日志文件存放到指定的目录下。,,,,,,
loggerFileName,系统日志的文件名称,指定日志文件的名称，日志文件将以此名称开头存储在指定目录下。,,,,,,
appendTypeDir,系统日志的追加类型目录,启用后，将在指定的文件目录下增加一个server目录以存放日志文件。,,,,,,
rollingFile,系统日志的日志文件轮转,将日志信息按文件大小或时间进行轮转，确保日志文件不会过大。,,,,,,
append,系统日志的日志追加,启用日志追加模式，日志信息将追加到现有日志文件中而不是覆盖。,,,,,,
rotationDay,系统日志的按天轮转,将每日未达到大小阈值的日志在零点切割到一个新文件中。,,,,,,
rotationBySize,系统日志的按大小轮转,当日志文件大小（单位：MB）达到该阈值时，将切割出一个新的日志文件。注：设置为0表示不启用此功能。,,,,,,
keepMaxFiles,系统日志的保留文件个数,指定在清理日志文件时，需保留文件的个数。,,,,,,
compression,系统日志的日志文件压缩,是否开启日志文件压缩功能。开启后，对轮转后的日志文件进行压缩。,,,,,,
chunk,系统日志的文件编码,指定日志文件的编码格式。,,,,,,
buffered,系统日志的缓冲写入,是否开启文件缓冲写入功能。开启后，当持续记录的日志内容大小（单位：字节）之和达到缓冲大小时才一次性写入文件，而不是每条日志都立即写入文件（在服务器停止时会全部写入），这通常可以提高日志记录性能。关闭后，每条日志都立即写入文件。,,,,,,
bufferedSize,系统日志的缓冲大小,缓冲写入的阈值，当持续记录的日志内容大小（单位：字节）之和达到此值时，一次性写入进文件。,,,,,,
enableThreadLogging,系统日志的开启线程日志,开启线程日志后，系统日志在原有日志的基础上，会同步地单独保存到一个独立的文件中，该文件以输出日志的当前线程的ID或线程名命名。注意：线程日志文件不具备压缩、缓冲、压缩等能力，且会在下次重启服务器或编辑日志配置时自动清空，不建议在生产环境下使用。,,,,,,
logLevel,系统日志的默认日志级别,设置默认日志级别，只有在日志信息的严重程度等于或高于此级别时，才会记录日志。,,,,,,
julLogLevel,系统日志的Java Logger 日志级别,设置 Java Logger 日志级别，只有在日志信息的严重程度等于或高于此级别时，才会记录日志。注：其值低于“默认日志级别”时会自动使用“默认日志级别”。,,,,,,
enabledModuleLogLevel,系统日志的启用模块日志级别,按模块设置各自的日志级别，而不使用默认日志级别。,,,,,,
moduleLogLevelDatasource,系统日志的数据源,设置数据源模块的日志级别，只有在数据源模块日志信息的严重程度等于或高于此级别时，才会记录日志。,,,,,,
moduleLogLevelEJB,系统日志的EJB 容器,设置 EJB 容器模块的日志级别，只有在 EJB 容器模块日志信息的严重程度等于或高于此级别时，才会记录日志。,,,,,,
moduleLogLevelConnector,系统日志的通道,设置通道模块的日志级别，只有在通道模块日志信息的严重程度等于或高于此级别时，才会记录日志。,,,,,,
moduleLogLevelWebContainer,系统日志的Web 容器,设置 Web 容器模块的日志级别，只有在 Web 容器模块日志信息的严重程度等于或高于此级别时，才会记录日志。,,,,,,
moduleLogLevelJNDI,系统日志的JNDI,设置 JNDI 模块的日志级别，只有在 JNDI 模块日志信息的严重程度等于或高于此级别时，才会记录日志。,,,,,,
initialShowLogLines,系统日志的初始加载行数,设置首次打开在线日志页面时加载的最新日志行数。,,,,,,
pullLogLines,系统日志的日志刷新大小,设置浏览器每次从服务器拉取日志的最大行数。拉取太多日志可能造成网络和服务器压力，请根据实际情况设置。,,,,,,
maxShowLines,系统日志的最大显示行数,当Web日志页面累积输出的日志过多时，可能会引起浏览器压力过大而无响应，设置最大显示行数可丢弃超出行数的部分以减轻浏览器压力，因此建议根据实际情况设置最大显示行数。,,,,,,
accessLogEnabled,访问日志配置的启用访问日志,启用访问日志后，HTTP请求的时间、URI、响应码等信息可以被记录到日志文件里。,,,,,,
hosts,访问日志配置的作用到虚拟主机,在指定的虚拟主机上开启访问日志。,,,,,,
customMode,访问日志配置的使用自定义格式,使用自定义格式定义访问日志的内容记录格式，可方便从其它服务器移植。,,,,,,
customPattern,访问日志配置的自定义格式,"自定义访问日志的内容记录格式：%a - 远程IP地址; %A - 本地IP地址; %B - 发送的字节数,不包括HTTP头; %D - 处理请求的时间(以毫秒为单位); %T - 处理请求的时间(以秒为单位); %h - 远程主机名; %H - 请求协议; %m - 请求方法; %p - 本地端口; %q - 查询字符串; %r - 请求的首行内容; %s - 响应的HTTP状态代码; %S - 用户会话ID; %t - 日期和时间; %u - 远程用户身份验证; %U - 请求的URL路径; %v - 本地服务器名; %l - 处理请求的线程名称; %X - 连接的状态; %N - 应用的名称; %{XXX}i xxx代表传入的头(HTTP Request); %{XXX}c xxx代表传出的响应头(HTTP Response); %{XXX}r xxx代表ServletRequest属性名; %{XXX}s xxx代表HttpSession中的属性名。",,,,,,
presetPattern,访问日志配置的日志内容,访问日志内容的组成部分。,,,,,,
requestHeader,访问日志配置的记录请求头,"在访问日志中记录指定的请求头的值。在这里设置请求头的名称,多个名称以英文逗号分隔。",,,,,,
responseHeader,访问日志配置的记录响应头,"在访问日志中记录指定的响应头的值。在这里设置响应头的名称,多个名称以英文逗号分隔。",,,,,,
cookie,访问日志配置的记录Cookie,"在访问日志中记录指定的Cookie的值。在这里设置Cookie的名称,多个名称以英文逗号分隔。",,,,,,
session,访问日志配置的记录 Session,"在访问日志中记录指定的 Session的值。在这里设置Session的名称,多个名称以英文逗号分隔。",,,,,,
baseFile,访问日志配置的文件目录,将日志文件存放到指定的目录下。,,,,,,
appendTypeDir,访问日志配置的追加类型目录,启用后，将在指定的文件目录下增加一个access目录以存放日志文件。,,,,,,
rollingFile,访问日志配置的日志文件轮转,将日志信息按文件大小或时间进行轮转，确保日志文件不会过大。,,,,,,
append,访问日志配置的日志追加,启用日志追加模式，日志信息将追加到现有日志文件中而不是覆盖。,,,,,,
rotationDay,访问日志配置的按天轮转,将每日未达到大小阈值的日志在零点切割到一个新文件中。,,,,,,
rotationBySize,访问日志配置的按大小轮转,当日志文件大小（单位：MB）达到该阈值时，将切割出一个新的日志文件。注：设置为0表示不启用此功能。,,,,,,
keepMaxFiles,访问日志配置的保留文件个数,指定在清理日志文件时，须保留文件的个数。,,,,,,
compression,访问日志配置的日志文件压缩,是否开启日志文件压缩功能。开启后，对轮转后的日志文件进行压缩。,,,,,,
chunk,访问日志配置的文件编码,指定日志文件的编码格式。,,,,,,
buffered,访问日志配置的缓冲写入,是否开启文件缓冲写入功能。开启后，当持续记录的日志内容大小（单位：字节）之和达到缓冲大小时才一次性写入文件，而不是每条日志都立即写入文件（在服务器停止时会全部写入），这通常可以提高日志记录性能。关闭后，每条日志都立即写入文件。,,,,,,
bufferedSize,访问日志配置的缓冲大小,缓冲写入的阈值，当持续记录的日志内容大小（单位：字节）之和达到此值时，一次性写入进文件。,,,,,,
initialShowLogLines,访问日志配置的初始加载行数,设置首次打开Web日志页面时加载的最新日志行数。,,,,,,
pullLogLines,访问日志配置的日志刷新大小,设置浏览器每次从服务器拉取日志的最大行数。拉取太多日志可能造成网络和服务器压力，请根据实际情况设置。,,,,,,
maxShowLines,访问日志配置的最大显示行数,当Web日志页面累积输出的日志过多时，可能会引起浏览器压力过大而无响应，设置最大显示行数可丢弃超出行数的部分以减轻浏览器压力，因此建议根据实际情况设置最大显示行数。,,,,,,
name,数据源的数据源名,数据源的名称。,,,,,,
aliases,数据源的绑定 JNDI 名,数据源的别名会被用作其绑定到 JNDI 资源树上的名字，一个数据源可以逗号分隔指定多个别名。,,,,,,
dataSourceTemplate,数据源的数据源模板,指定数据源模板后，将会使用数据源模板里的参数来创建数据源。注：在表单页面切换数据源模板后，表单页面内的数据将会被覆盖更新。,,,,,,
jdbcUrITemplate,数据源的数据库连接方式,可选使用 TongWeb 预置的 JDBC 模板（可通过“Jdbc 模板”模块添加新的模板）连接数据库，使用 JDBC 模板可省去输入 JDBC 的 URL、驱动类等信息，由 TongWeb 根据输入的数据库服务器 IP、端口、数据库名等信息自动组装这些信息。注：为空表示不使用模板，而使用 JDBC 标准方式。,,,,,,
ip,数据源的数据库 IP,连接数据库的 IP 地址，支持使用 localhost 域名。,,,,,,
port,数据源的数据库端口,连接数据库的端口。,,,,,,
dbname,数据源的数据库名称,数据库名称。,,,,,,
JdbcUrl,数据源的连接URL,数据库连接URL。,,,,,,
JdbcDriver,数据源的驱动类,数据库驱动类的全名称。,,,,,,
UserName,数据源的用户名,登录数据库的用户名。,,,,,,
Password,数据源的密码,登录数据库的用户密码。,,,,,,
klasspath,数据源的驱动包位置,设置数据库驱动类所在的Jar文件的绝对路径，多个路径以英文逗号分隔。若在启动之前（注：启动后再放无效）已经将文件放置到了${tongweb.base}/lib下，则可以不设置。注意：在集群环境中，请确保每个实例所在的服务器上都需放置所需的文件。,,,,,,
refLib,数据源的驱动包类库,添加数据库驱动类所在的类库，如果同时设置了“驱动包位置”，那么将一起生效，且“驱动包位置”比“驱动包类库”更优先加载。,,,,,,
connectionProperties,数据源的连接属性,当驱动类型为Driver时，Driver连接数据库所需要的连接参数。根据需要进行填写，格式要求是 propertyName=PropertyValue，多个参数以英文逗号分隔。注意：数据库的用户名和密码参数不需要在这里填写。,,,,,,
clientInfo,数据源的客户端信息,设置 JDBC 连接的客户端信息，其值格式为key=value的键值对，多个键值对以英文逗号分隔。,,,,,,
defaultCatalog,数据源的Catalog,设置给定的目录名称，以便在此连接对象的数据库中选择一个子空间来工作。若驱动程序不支持目录，则它将默默地忽略这个请求。,,,,,,
initSQL,数据源的初始化 SQL,指定一个存放 SQL 语句的文件的名称，可在每次建立数据库物理连接以后执行其中的 SQL，以完成相应的数据库初始化操作。出于安全考虑，该文件须位于${tongweb.base}/conf/jdbc 目录，且其类型限定为 *.txt 和 *.sql。,,,,,,
maxActive,数据源的最大连接数,连接池可分配的最大活动连接数。,,,,,,
initialSize,数据源的初始连接数,连接池建立时初始创建的连接数。,,,,,,
minIdle,数据源的最小空闲数,连接池始终维持一定数量的数据库连接，以供应用所需，其数量至少是此处设置的最小空闲数。,,,,,,
maxIdle,数据源的最大空闲数,连接池中保留的空闲连接的最大数量，若达到了此数，会释放多余的数据库物理连接。,,,,,,
minEvictableIdleTimeeMillis,数据源的空闲容忍时间,连接池在其空闲连接数超出最小空闲数后，会对超出的空闲连接进行空闲时间检查，若其空闲时间超过了此处设置的空闲容忍时间（单位：毫秒），则会释放对应的数据库物理连接。,,,,,,
batchSize,数据源的单批次创建数,连接池创建数据库连接数量可分批次进行，以减小对数据库的压力。此处设置连接池单批次创建连接的最大个数，注：设置为0表示不限制，即不启用此功能。,,,,,,
batchInterval,数据源的批次间隔,连接池创建数据库连接是分批次进行，可设置批次间的间隔时间（单位：秒）。注：此选项在“单批次创建数”大于0时有效。,,,,,,
usingLIFOQueue,数据源的连接后进先出,开启后，连接池中的连接将以后进先出顺序提供给客户端线程，即后创建和后回池的连接优先被客户端线程获取使用。,,,,,,
fair,数据源的线程公平等待,在连接池为空时，客户端线程会等待池中有连接可用，打开此功能后，先等待的线程会优先获得连接，否则顺序会不确定（但会有更好的性能），注：此功能通常适用于需要严格顺序的场景，但会有一定的性能损失。,,,,,,
maxWait,数据源的等待超时,客户端最多等待连接可用的时间（单位：毫秒），超时后，会得到连接池抛出的SQLEXception。设置为0表示不等待，此时若无可用连接，客户端会立即得到SQLEXception。,,,,,,
threadBinding,数据源的线程绑定,开启后，通过此数据源获取的连接将会绑定到当前工作的 HTTP 线程上。在当前 HTTP 请求处理完成之前，多次从该数据源获取连接将会是之前绑定的同一个。在 HTTP 请求处理完成之后，绑定的连接自动从线程上解绑。注：若该数据源会参与多种数据库事务，请谨慎开启本功能。注：打开“支持 JTA”后不支持此设置。,,,,,,
instantRecycling,数据源的即时回收,在业务请求处理结束后，立即检查并将未关闭的连接对象回收至连接池内，以供继续复用。,,,,,,
testOnBorrow,数据源健康管理的获取连接时验证,"在从池中获取连接时进行数据库连接有效性验证,失效后立即回收。",,,,,,
testOnReturn,数据源健康管理的归还连接时验证,"在连接返回到池之时进行数据库连接有效性验证,失效后立即回收。",,,,,,
testWhileIdle,数据源健康管理的空闲时验证,"对未使用的连接进行数据库连接有效性验证,失效后立即回收。注:若处于空闲中的连接正在进行验证(开启了“空闲时验证”),则会被同时计入“空闲连接数”和“验证中连接数”两个指标,此时“活跃连接数”、“空闲连接数”和“验证中连接数”三者之和会比“连接池大小”多1。",,,,,,
clearPolicy,数据源健康管理的失效清理策略,"当检测到有连接失效后,有两种可选的清理方式,当前检测连接:仅回收当前检测到的失效连接;所有空闲连接:立即回收池中所有的空闲连接。",,,,,,
timeBetweenEvictionRunsMillis,数据源健康管理的检查周期,周期性进行空闲连接验证、泄漏连接关闭和空闲连接池大小调整的时间间隔(单位:毫秒)。,,,,,,
connectionVerificationMode,数据源健康管理的验证方式,"连接验证的方式,包括Connection.isValid方式和table验证。当选择table验证时,需要填写一个用于测试的数据库表名,若填写表名则测试语句为SELECT 1 FROM [表名],若填写表名为空则测试语句为SELECT 1。",,,,,,
tableName,数据源健康管理的测试连接表名,"填写一个用于测试的数据库表名,若填写表名则测试语句为SELECT 1 FROM [表名],若填写表名为空则测试语句为SELECT 1。",,,,,,
validationQueryTimeout,数据源健康管理的验证超时,"连接验证查询失败前的超时时间(单位:秒),“0”表示由数据库驱动决定。",,,,,,
validationInterval,数据源健康管理的验证间隔,"为避免频繁的验证,在指定的间隔时间内最多进行一次验证。单位:毫秒。",,,,,,
logValidationErrors,数据源健康管理的记录验证失败日志,在验证失败后记录错误日志。,,,,,,
customInterceptor,数据源健康管理的SQL拦截器,"SQL拦截器用于拦截 SQL 语句的执行过程,以便进行必要的业务操作。此处设置 SQL 拦截器的全类名(需继承自com.tongweb.web-jdbc.pool.interceptor.AbstractCreateStatementInterceptor),以英文逗号分隔可设置多个,并需要在 TongWeb 启动前将包含这些类的 jar 放到${tongweb.base}/lib 或 ${tongweb.home}/lib 目录下。此外,设置 SQL 拦截器也可使用编程的方式:将从 JNDI 获取到的 TongWeb 数据源对象,强转为com.tongweb.web-jdbc.pool.DataSource 对象,再调用其 addJdbcInterceptor 方法即可实现。注:上述依赖类可从 ${tongweb.home}/version*tongweb-web.jar 获取。",,,,,,
enableStatementEnhancer,数据源健康管理的语句设置,"对新创建的语句进行默认设置,包括 SQL 超时、Fetch-Size 等。",,,,,,
queryTimeout,数据源健康管理的SQL 超时,"指定语句执行的超时时间,单位为秒。若超过这个时间,就会抛出一个 SQLTimeoutException,适用于execute、executeQuery 和 executeUpdate 方法。“0”表示使用 JDBC 驱动程序的默认值。",,,,,,
fetchSize,数据源健康管理的Fetch-Size,"给 JDBC 驱动程序一个提示,当该语句生成的结果集对象需要更多的行时,应该从数据库中获取的行数。若指定的值为“0”,则该提示将被忽略。",,,,,,
enableStatementCsache,数据源健康管理的缓存语句,语句缓存可通过复用对象等方式提升 SQL 执行性能。,,,,,,
prepared,数据源健康管理的缓存PreparedStatement,对创建的 PreparedStatement 实例进行缓存。,,,,,,
callable,数据源健康管理的缓存CallableStatement,对创建的 CallableStatement 实例进行缓存。,,,,,,
max,数据源健康管理的单连接的最大缓存数,每个连接缓存语句的最大数量。,,,,,,
enableStatementFinalizer,数据源健康管理的自动关闭语句,"追踪与连接相关的语句,并在 Connection.close() 时将其关闭。对于那些使用完连接但没有关闭相关语句的应用是非常有用的。",,,,,,
trace,数据源健康管理的跟踪语句堆栈,"启用/禁用对未关闭语句的堆栈跟踪。启用后,若语句没有关闭,则通过日志记录其创建的堆栈,以便于排查程序问题。",,,,,,
releaseOnError,数据源健康管理的SQL错误时回收,"在执行 SQL 遇到错误时,立即回收当前连接。",,,,,,
enableSlowQueryReport,数据源健康管理的监视慢 SQL,"追踪 SQL 执行的时间,当对 execute/executeQuery或executeBatch 的调用成功并超过时间阈值时,记录缓慢的 SQL。",,,,,,
threshold,数据源健康管理的测量阈值,"以毫秒为单位的阈值。若查询的速度比这个快,则不记录该 SQL。",,,,,,
maxQueries,数据源健康管理的最大 SQL 记录量,存储的最大 SQL 数量。,,,,,,
logSlow,数据源健康管理的记录较慢的 SQL,"启用/禁用记录慢 SQL 日志,日志会记录在独立的 logs/sq 目录以方便排查业务问题。",,,,,,
sqlForParamPrintRegex,数据源健康管理的记录 SQL 参数,"在记录较慢的 SQL 时,是否一起记录数据参数(可能包含密码、ID、金额等敏感数据,请谨慎考虑),若需要记录则在此处输入哪些 SQL 需要记录,格式为正则表达式。注:出于安全考虑,不建议使用此功能。",,,,,,
logFailed,数据源健康管理的记录失败 SQL,"启用/禁用记录失败 SQL 日志,日志会记录在独立的 logs/sq 目录以方便排查业务问题。",,,,,,
testOnBorrow,数据源语句管理的获取连接时验证,"在从池中获取连接时进行数据库连接有效性验证,失效后立即回收。",,,,,,
testOnReturn,数据源语句管理的归还连接时验证,"在连接返回到池之时进行数据库连接有效性验证,失效后立即回收。",,,,,,
testWhileIdle,数据源语句管理的空闲时验证,"对未使用的连接进行数据库连接有效性验证,失效后立即回收。注:若处于空闲中的连接正在进行验证(开启了“空闲时验证”),则会被同时计入“空闲连接数”和“验证中连接数”两个指标,此时“活跃连接数”、“空闲连接数”和“验证中连接数”三者之和会比“连接池大小”多1。",,,,,,
clearPolicy,数据源语句管理的失效清理策略,"当检测到有连接失效后,有两种可选的清理方式,当前检测连接:仅回收当前检测到的失效连接;所有空闲连接:立即回收池中所有的空闲连接。",,,,,,
timeBetweenEvictionRunsMillis,数据源语句管理的检查周期,周期性进行空闲连接验证、泄漏连接关闭和空闲连接池大小调整的时间间隔(单位:毫秒)。,,,,,,
connectionVerificationMode,数据源语句管理的验证方式,"连接验证的方式,包括Connection.isValid方式和table验证。当选择table验证时,需要填写一个用于测试的数据库表名,若填写表名则测试语句为SELECT 1 FROM [表名],若填写表名为空则测试语句为SELECT 1。",,,,,,
tableName,数据源语句管理的测试连接表名,"填写一个用于测试的数据库表名,若填写表名则测试语句为SELECT 1 FROM [表名],若填写表名为空则测试语句为SELECT 1。",,,,,,
validationQueryTimeout,数据源语句管理的验证超时,"连接验证查询失败前的超时时间(单位:秒),“0”表示由数据库驱动决定。",,,,,,
validationInterval,数据源语句管理的验证间隔,"为避免频繁的验证,在指定的间隔时间内最多进行一次验证。单位:毫秒。",,,,,,
logValidationErrors,数据源语句管理的记录验证失败日志,在验证失败后记录错误日志。,,,,,,
customInterceptor,数据源语句管理的SQL拦截器,"SQL拦截器用于拦截 SQL 语句的执行过程,以便进行必要的业务操作。此处设置 SQL 拦截器的全类名(需继承自com.tongweb.web-jdbc.pool.interceptor.AbstractCreateStatementInterceptor),以英文逗号分隔可设置多个,并需要在 TongWeb 启动前将包含这些类的 jar 放到${tongweb.base}/lib 或 ${tongweb.home}/lib 目录下。此外,设置 SQL 拦截器也可使用编程的方式:将从 JNDI 获取到的 TongWeb 数据源对象,强转为com.tongweb.web-jdbc.pool.DataSource 对象,再调用其 addJdbcInterceptor 方法即可实现。注:上述依赖类可从 ${tongweb.home}/version*tongweb-web.jar 获取。",,,,,,
enableStatementEnhancer,数据源语句管理的语句设置,"对新创建的语句进行默认设置,包括 SQL 超时、Fetch-Size 等。",,,,,,
queryTimeout,数据源语句管理的SQL 超时,"指定语句执行的超时时间,单位为秒。若超过这个时间,就会抛出一个 SQLTimeoutException,适用于execute、executeQuery 和 executeUpdate 方法。“0”表示使用 JDBC 驱动程序的默认值。",,,,,,
fetchSize,数据源语句管理的Fetch-Size,"给 JDBC 驱动程序一个提示,当该语句生成的结果集对象需要更多的行时,应该从数据库中获取的行数。若指定的值为“0”,则该提示将被忽略。",,,,,,
enableStatementCsache,数据源语句管理的缓存语句,语句缓存可通过复用对象等方式提升 SQL 执行性能。,,,,,,
prepared,数据源语句管理的缓存PreparedStatement,对创建的 PreparedStatement 实例进行缓存。,,,,,,
callable,数据源语句管理的缓存CallableStatement,对创建的 CallableStatement 实例进行缓存。,,,,,,
max,数据源语句管理的单连接的最大缓存数,每个连接缓存语句的最大数量。,,,,,,
enableStatementFinalizer,数据源语句管理的自动关闭语句,"追踪与连接相关的语句,并在 Connection.close() 时将其关闭。对于那些使用完连接但没有关闭相关语句的应用是非常有用的。",,,,,,
trace,数据源语句管理的跟踪语句堆栈,"启用/禁用对未关闭语句的堆栈跟踪。启用后,若语句没有关闭,则通过日志记录其创建的堆栈,以便于排查程序问题。",,,,,,
releaseOnError,数据源语句管理的SQL错误时回收,"在执行 SQL 遇到错误时,立即回收当前连接。",,,,,,
enableSlowQueryReport,数据源语句管理的监视慢 SQL,"追踪 SQL 执行的时间,当对 execute/executeQuery或executeBatch 的调用成功并超过时间阈值时,记录缓慢的 SQL。",,,,,,
threshold,数据源语句管理的测量阈值,"以毫秒为单位的阈值。若查询的速度比这个快,则不记录该 SQL。",,,,,,
maxQueries,数据源语句管理的最大 SQL 记录量,存储的最大 SQL 数量。,,,,,,
logSlow,数据源语句管理的记录较慢的 SQL,"启用/禁用记录慢 SQL 日志,日志会记录在独立的 logs/sq 目录以方便排查业务问题。",,,,,,
sqlForParamPrintRegex,数据源语句管理的记录 SQL 参数,"在记录较慢的 SQL 时,是否一起记录数据参数(可能包含密码、ID、金额等敏感数据,请谨慎考虑),若需要记录则在此处输入哪些 SQL 需要记录,格式为正则表达式。注:出于安全考虑,不建议使用此功能。",,,,,,
logFailed,数据源语句管理的记录失败 SQL,"启用/禁用记录失败 SQL 日志,日志会记录在独立的 logs/sq 目录以方便排查业务问题。",,,,,,
JtaManaged,数据源事物的支持 JTA,若计划将此数据源应用于 EJB 事务或者用户管理的 JTA 事务，则需要开启 JTA 支持。开启 JTA 支持要求驱动类型为 XA 类型，且自动提交会被强制关闭。注：打开“线程绑定”后不支持此设置。,,,,,,
defaultAutoCommit,数据源事物的自动提交,连接创建时的默认自动提交状态。若支持 JTA，则会被强制关闭。,,,,,,
defaultTransactionIsolation,数据源事物的事务隔离级别,指定默认的事务隔离级别。“-1”表示由数据库驱动决定，“1”表示读未提交，“2”表示读已提交，“4”表示可重复读，“8”表示串行化。,,,,,,
rollbackOnReturn,数据源事物的归还连接时回滚,当有连接返回池中（连接的 close 方法被调用）时，回滚任何未决的事务。该功能仅在“自动提交”关闭时生效。,,,,,,
commitOnReturn,数据源事物的归还连接时提交,当有连接返回池中（连接的 close 方法被调用）时，提交任何未决的事务。该功能仅在“自动提交”关闭时生效。,,,,,,
defaultReadOnly,数据源事物的只读模式,将此连接置于只读模式，作为对驱动程序的提示，以实现数据库优化。,,,,,,
name,通道的通道名,通道的名称。,,,,,,
protocol,通道的协议,本通道支持的网络层协议。,,,,,,
ioMode,通道的IO 模式,配置通道的 IO 模式，如 NIO、NIO2。,,,,,,
address,通道的IP,监听网络请求的 IP 地址。注：若设置了全局IP，则优先使用全局IP。,,,,,,
port,通道的端口,设置监听网络请求的端口，此端口须是平台允许使用的端口（如不会被防火墙拦截等）。,,,,,,
redirectPort,通道的重定向端口,用于非 SSL 到 SSL 重定向的重定向端口。,,,,,,
secret,通道的AJP 协议密钥,设置 AJP 协议传输加密密钥。安全起见，建议设置以开启 AJP 协议传输加密。开启 AJP 协议加密后，AJP 协议内容会加密传输，这需要 Apache 等负载均衡器的支持。,,,,,,
allowedRequestAttributesPattern,通道的允许的请求属性,指定 AJP 协议允许的请求属性，格式为正则表达式。,,,,,,
useVirtualThreads,通道的使用虚拟线程,虚拟线程是由Java 21版本中实现的一种轻量级线程，它主要解决的问题是减少I/O密集型任务的阻塞。虚拟线程并没有增加实际的CPU可用线程，而是增加了线程的利用率，所以在面对CPU密集型任务时，如数学计算等，它与传统线程没有区别。因此，如果您的需求中存在大量I/O等待导致性能瓶颈，那么可以考虑使用虚拟线程。此外，使用虚拟线程，如果效果不理想，也可以尝试它的优化参数：-Djdk.virtualThreadScheduler.parallaxism=xxx、-Djdk.virtualThreadScheduler.maxPoolSize=xxx、-Djdk.virtualThreadScheduler.minRunnable=xxx。,,,,,,
useSelfTuned,通道的使用自调节线程,开启后，TongWeb会根据业务请求处理的速率自主调节线程池的大小，以持续优化处理效率和系统资源的使用率。,,,,,,
maxThreads,通道的最大线程数,线程池中用于处理网络请求的最大的线程数。注：当使用自调节线程时，此值为自调节允许同时创建的最大线程数。,,,,,,
minSpareThreads,通道的最小备用线程数,线程池中用于处理网络请求的最小的备用线程数，即线程池中最少存在的线程数。,,,,,,
threadKeepAliveTime,通道的空闲回收时间,当线程池里的空闲线程数大于“最小备用线程数”时，线程空闲的时间超过该时间后将被回收。单位：秒。,,,,,,
queueSize,通道的任务队列大小,设置用于保存任务并移交给工作线程的队列的大小。,,,,,,
threadPriority,通道的优先级,指定此线程的优先级。,,,,,,
allowMethods,通道HTTP属性的支持 HTTP 方法,设置该通道支持的 HTTP 方法，当客户端使用不支持的方法时将得到一个 405 的响应码。,,,,,,
maxHeaderCount,通道HTTP属性的最大请求头数,允许的请求头个数的最大值，若一个请求包含的请求头大于指定的最大值，则此请求将被拒绝。,,,,,,
maxHttpHeaderSize,通道HTTP属性的最大请求头信息大小,HTTP 消息头的最大值(单位：字节)。,,,,,,
maxCookieCount,通道HTTP属性的最大 Cookie 数,设置请求中允许的最大 Cookie 数，小于“0”表示不限制。,,,,,,
maxParameterCount,通道HTTP属性的最大参数个数,服务器将自动解析的最大参数数（GET加POST）。小于“0”表示不限制。,,,,,,
maxPartCount,通道HTTP属性的分段表单最大段数,限制分段表单（如"multipart/form-data"）的最大分段个数。分段表单最常见的表现是文件上传类表单，在文件上传表单场景下，这里限制的是文本类表单参数和二进制文件类表单参数的总和。注：该参数的作用等同于Tomcat的maxPartCount参数，其值为-1表示不限制。,,,,,,
maxPartHeaderSize,通道HTTP属性的分段表单每段最大请求头,限制分段表单（如"multipart/form-data"）中每段的最大请求头大小（单位：字节）。注：该参数的作用等同于Tomcat的maxPartHeaderSize参数，其值为-1表示不限制。,,,,,,
sendReasonPhrase,通道HTTP属性的附加原因短语,开启后，TongWeb将在HTTP响应中添加HTTP Reason Phrase（原因短语）。,,,,,,
relaxedPathCharsEnable,通道HTTP属性的路径中允许使用未编码字符,URI请求路径中允许使用的未编码的字符。允许填写的字符包括："<>[\]^`{}。,,,,,,
relaxedPathChars,通道HTTP属性的未编码字符,URI请求路径中允许使用的未编码的字符。,,,,,,
relaxedQueryCharsEnable,通道HTTP属性的参数中允许使用未编码字符,URI请求参数中允许使用的未编码的字符。允许填写的字符包括："<>[\]^`{}。,,,,,,
relaxedQueryChars,通道HTTP属性的未编码字符,URI请求参数中允许使用的未编码的字符。,,,,,,
skipCharsValidate,通道HTTP属性的跳过特殊字符校验,当请求参数中包含了未遵从RFC7230、RFC3986规定的特殊字符时，是否跳过校验，跳过校验后该请求会交给应用处理，否则请求将会被中断。,,,,,,
maxPostSize,通道HTTP属性的最大POST字节,将由容器自动解析的POST的最大字节，“-1”表示不限制。,,,,,,
maxSwallowSize,通道HTTP属性的上传文件溢值,若上传文件大小超过“最大POST字节”并且超过了此溢值，则中断当前的连接（即响应头里会添加“Connection:close”），未超过则不会中断。,,,,,,
parseBodyMethods,通道HTTP属性的以POST方式解析方法,指定一些HTTP方法，在解析正文时将这些方法的请求视为POST请求。可用以支持一些RESTFul PUT无法向后端传递参数的场景。,,,,,,
maxSavePostSize,通道HTTP属性的认证时 POST 缓存,指定 FORM or CLIENT-CERT 认证期间，服务器缓存的 POST 请求的最大字节数（单位：字节）。,,,,,,
useKeepAliveResponseHeader,通道HTTP属性的Keep-Alive 响应头,在使用长连接时，是否在响应头中添加 Keep-Alive。,,,,,,
keepAliveTimeout,通道HTTP属性的长连接超时,长连接建立后，在这个时间内没有新的请求进来，则断开连接。,,,,,,
maxKeepAliveReques,通道HTTP属性的长连接服务阈值,长连接建立后，当其接收的请求数达到此阈值后，则断开连接。,,,,,,
maxTrailerSize,通道HTTP属性的尾部标头总长度,尾部标头的最大大小（以字节为单位），“-1”表示不限制。,,,,,,
addResponseHeader,通道HTTP属性的附加响应头,该功能允许服务器在HTTP响应中附加自定义头部信息。优先级：应用的优先级高于通道，通道优先级高于全局配置。,,,,,,
connectionTimeout,通道TCP属性的连接超时时间,读写网络的连接超时时间，单位：毫秒。,,,,,,
tcpNoDelay,通道TCP属性的开启 TCP_NO_DELAY,设置网络连接的 TCP_NO_DELAY 属性。,,,,,,
acceptCount,通道TCP属性的等待队列大小,连接等待队列的长度，是操作系统 Socket 连接的配置参数；当处理请求的线程数不够用时，请求被放到等待队列中，等待队列满后的请求将被拒绝。,,,,,,
maxConnections,通道TCP属性的最大连接数,TongWeb 能够同时接受和处理的最大连接数。,,,,,,
enableLookups,通道TCP属性的允许 DNS 反向查找,开启后，调用 request.getRemoteHost() 会进行 DNS 查询得到远程客户端的实际主机名；不开启，则得到 IP 地址。,,,,,,
compression,通道压缩的压缩级别,压缩级别，on：表示开启，off：表示关闭，force：表示任何情况都开启。,,,,,,
compressionMinSize,通道压缩的压缩阈值,压缩所需的最小内容长度，以字节为单位，以触发压缩。,,,,,,
noCompressionUserAgents,通道压缩的免压缩客户端,"不应用压缩的客户端代理字符串的正则表达式,如“.*.Safari.*.*,*Firefox.*”。",,,,,,
compressibleMimeType,通道压缩的可压缩类型,"指定需要压缩的 MIME-TYPE 列表,多个类型以英文逗号分隔。",,,,,,
ignoreHeader,通道压缩的强制压缩,"当请求头中未指定压缩算法时,开启此强制压缩,可对资源进行压缩处理。适用于动态资源需要压缩的场景。",,,,,,
secure,通道安全的Cookie Secure,设置Cookie的Secure属性，打开后设置为“true”，关闭则设置为“false”。当设置为“true”时，只有在HTTPS协议下浏览器才可以传递此Cookie，HTTP协议则不传递。注：此连接器开启SSL后，本项设置自动为“true”，不可更改。,,,,,,
SSLEnabled,通道安全的开启SSL,开启后，使用SSL/TLS加密网络数据，访问协议将变为HTTPS。注：若要使用HTTP/2.0协议，则需首先开启SSL。,,,,,,
httpRedirect,通道安全的HTTP重定向,开启后，如果使用HTTP访问则重定向至HTTPS。,,,,,,
http2Enabled,通道安全的支持HTTP/2,是否支持HTTP 2.0协议。,,,,,,
gmEnabled,通道安全的国密认证,开启国密SSL加密认证，开启后，此通道将支持使用国密算法SM2、SM3、SM4进行SSL加密通信。,,,,,,
sslEnabledProtocols,通道安全的启用协议,指定启用的SSL/TLS协议，不指定将根据运行环境自动配置。考虑安全问题，不建议启用SSLv3和SSLv2Hello。,,,,,,
ciphers,通道安全的启用密码套件,密码套件决定了SSL/TLS通信过程中使用的加密算法，可根据不同的业务需求设置使用不同的加密算法，以英文逗号分隔可设置等多个。注：不设置表示不限制。,,,,,,
useServerCipherSuit esOrder,通道安全的使用服务端密码顺序,启用后会强制使用服务器端的的密码顺序，而不是允许客户端来选择。,,,,,,
refKeyStore,通道安全的服务器证书,选择已导入服务器的SSL证书。,,,,,,
keystoreFile,通道安全的服务器证书路径,"存放服务器证书 keystore 文件的路径。证书支持的类型: JKS, PKCS11 或 PKCS12。",,,,,,
keystorePass,通道安全的服务器证书密码,指定 keystore 证书的密码。,,,,,,
clientAuth,通道安全的客户端认证,"true: 必须有客户端证书才可以访问; false: 不验证是否有客户端证书; want: 会检查客户端证书,若没有也可以继续访问。",,,,,,
trustManagerClassName,通道安全的自定义信任管理器,"用于验证客户端证书的自定义信任管理器类的名称。该类必须有一个零参数构造函数,并且还必须实现 javax.net.css.X509TrustManager 接口。设置此属性,并且是可用的,则可能忽略信任证书相关设置。",,,,,,
refTrustStore,通道安全的信任证书,选择已导入服务器的 SSL 信任证书。,,,,,,
truststoreFile,通道安全的信任证书路径,"存放服务器证书 truststore 文件的路径。证书支持的类型: JKS, PKCS11 或 PKCS12。",,,,,,
truststorePass,通道安全的信任证书密码,指定 truststore 证书的密码。,,,,,,
refGmEnc,通道安全的加密证书,选择已导入服务器的加密证书。,,,,,,
gmEncFile,通道安全的加密证书路径,加密证书路径。,,,,,,
gmEncPass,通道安全的加密证书密码,加密证书密码。,,,,,,
refGmSign,通道安全的签名证书,选择已导入服务器的签名证书。,,,,,,
gmSignFile,通道安全的签名证书路径,签名证书路径。,,,,,,
gmSignPass,通道安全的签名证书密码,签名证书密码。,,,,,,
enableKAE,通道安全的KAE 加速,设置是否使用 KAE 加速引擎。,,,,,,
sendFileSize,通道的Send File 阈值,"当通道启用 Send File 功能时,大于此阈值的文件将通过 Send File 的方式发送到客户端,单位为 KB。",,,,,,
asyncTimeout,通道的异步请求的默认超时,"当使用异步 Servlet 时,设置异步处理机制(AsyncContext)的默认超时时间,单位是毫秒。该参数可以被应用主动调用 AsyncContext 的setTimeout(long timeout) 方法所覆盖。",,,,,,
URIEncoding,通道的URI 编码,使用指定的编码解析 URI中的参数。,,,,,,
useBodyEncodingFo rURI,通道的URI 使用 Content-Type 解码,"开启后,URI 中的参数可以使用 Content-Type 中指定的编码。",,,,,,
xpoweredBy,通道的开启 X-Powered-By,"开启 X-Powered-By 后,响应头会添加和服务器有关的信息。",,,,,,
enableProxyServerC onfiguration,通道的开启代理服务器配置,"开启后,可以配置代理服务器的名称和端口。",,,,,,
proxyName,通道的代理服务器的名称,"指定代理服务器名称,调用 request.getServerName(   ) 将返回该值给应用。",,,,,,
proxyPort,通道的代理服务器端口,"指定代理服务器端口,调用 request.getServerPort(   ) 将返回该值给应用。",,,,,,
useNetworkMonitor,通道的启用网络数据监控,"开启后将监视此通道的当前连接数、请求处理总数、错误请求处理总数、请求处理总时间、接收的字节数、发送的字节数等信息,这可能会有些许的性能消耗。",,,,,,
slowTime,通道的慢请求阈值,"单次请求被判断为慢速请求的处理时间阈值(单位: 秒),超过阈值则记录慢请求次数,设置为 0 表示不监视慢请求数量。",,,,,,
resetMonitorData,通道的归零网络监控数据,设置是否需要在指定的周期时间内清理累积的监控数据。,,,,,,
resetMonitorDataPer i od,通道的归零周期,累积的监控数据超过此周期(单位: 秒)后进行自动归零。,,,,,,
,,,,,,,,
